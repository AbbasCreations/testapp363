{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\ColdFusion2018\\\\cfusion\\\\wwwroot\\\\celerant360\\\\src\\\\components\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useStateValue } from \"../StateProvider\";\nimport { useHistory } from \"react-router-dom\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nimport { updateQuantity } from \"./product/productController\";\nimport * as cc from \"./cart/cartController\";\n\nfunction Cart() {\n  _s();\n\n  let history = useHistory();\n  const [{\n    basket\n  }, dispatch] = useStateValue();\n  let cart = [];\n  cart = cc.GetCart();\n  let cartSubTotal = 0;\n  cartSubTotal = cc.GetCartSubTotal(cart); //RemoveCartItem();\n  //UpdateCartQuantity();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"contentHolder\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"viewcart\",\n        class: \"mb-4 pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row\",\n            children: [CartTopLeft(cart), CartTopRight(cartSubTotal), cartContent(cart, history), cartBottomLeft(cart), cartBottomRight(cartSubTotal)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Cart, \"0ujPTSwp1bpzQdmdldKpuNZUBBI=\", false, function () {\n  return [useHistory, useStateValue];\n});\n\n_c = Cart;\n\nconst CartTopLeft = (cart, index) => {\n  console.log(cart);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cart-item-info\",\n      class: \"col-lg-6 col-md-6 col-sm-12 col-12 text-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        class: \"text-dark\",\n        children: \"Shopping cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"cartLength\",\n        class: \"text-secondary\",\n        children: [cart.length, \" items\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"bg-secondary text-light p-2 border-1 fw-bold border-dark rounded\",\n        children: \"Continue Shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_c2 = CartTopLeft;\n\nconst CartTopRight = cartSubTotal => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cart-item-total\",\n      class: \"col-lg-6 col-md-6 col-sm-12 col-12 text-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"cart-total-top\",\n        class: \"text-dark\",\n        children: [\"$\", cartSubTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"text-secondary\",\n        children: \"Subtotal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"bg-dark text-light border-1 p-2 fw-bold border-dark rounded\",\n        children: \"Proceed to checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_c3 = CartTopRight;\n\nconst cartContent = (cart, history) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cart-detail-heading\",\n      class: \"col-12 border-top border-bottom border-secondary mt-3 py-2 mb-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-lg-6 col-md-6 col-sm-3 col-3\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"text-capitalize text-secondary fw-bold\",\n            children: \"product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-lg-2 col-md-2 col-sm-3 col-3\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"text-capitalize text-secondary fw-bold\",\n            children: \"quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-lg-2 col-md-2 col-sm-3 col-3 text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"text-capitalize text-secondary fw-bold\",\n            children: \"item price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-lg-2 col-md-2 col-sm-3 col-3 text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"text-capitalize text-secondary fw-bold\",\n            children: \"total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), cart.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          id: \"cart-detail\",\n          class: \"col-12 rounded shadow my-2 py-2 border-1 border-secondary mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"product-picture\",\n              class: \"col-lg-2 col-md-2 col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.cartImage,\n                class: \"img-fluid w-75 mx-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"product-description\",\n              class: \"col-lg-4 col-md-4 col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"##\",\n                class: \"text-decoration-none\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  class: \"d-block text-dark\",\n                  children: item.brand\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  class: \"d-block text-secondary\",\n                  children: [item.name, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n                class: \"d-block text-secondary fw-normal fst-normal\",\n                children: [\"#\", item.style_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"product-information\",\n              class: \"col-lg-6 col-md-6 col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"product-upper-info d-flex justify-content-between border-bottom border-secondary py-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"first\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    value: \"-\",\n                    class: \"rounded\",\n                    onClick: e => {\n                      UpdateCartQuantity(e, index, cart);\n                    },\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"itemsQTY\" + index,\n                    value: index,\n                    class: \"w-25\",\n                    type: \"number\",\n                    value: item.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    value: \"+\",\n                    class: \"rounded\",\n                    onClick: e => {\n                      UpdateCartQuantity(e, index, cart);\n                    },\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"$\", item.salesPrice ? item.salesPrice : item.regularPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  id: \"item-total\" + index,\n                  children: [\"$\", item.total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"product-middle-info py-3 border-bottom border-secondary\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"p-desc-button d-flex justify-content-between mt-3\",\n                  children: [item.selectedColor ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Color:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 27\n                    }, this), item.selectedColor]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 25\n                  }, this) : \"\", item.selectedSize ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Size:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 27\n                    }, this), \" \", item.selectedSize]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      RemoveCartItem(cart, index, history);\n                    },\n                    class: \"text-dark bg-light border-1 border-dark py-1 px-3 rounded fw-normal \",\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    })]\n  }, void 0, true);\n};\n\nconst cartBottomLeft = cart => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cart-end-information\",\n      class: \"col-lg-5 col-md-6 col-12 mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"text-dark bg-light border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\",\n        children: \"Save for later\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"text-light bg-dark border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\",\n        children: \"Share cart link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\nconst cartBottomRight = cartSubTotal => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cart-end-total\",\n      class: \"col-lg-6 col-md-6 col-12 mt-3 mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"w-100 fw-bold text-dark\",\n        children: [\"Cart Subtotal\", /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"bottom-subtotal\",\n          class: \"float-right fw-bold text-dark\",\n          children: [\"$\", cartSubTotal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"w-100 rounded p-2 bg-dark fw-bold text-light text-center\",\n        children: \"Proceed to checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\nconst RemoveCartItem = (cart, index, history) => {\n  cart.splice(index, index + 1);\n  document.getElementById(\"cartLength\").innerHTML = cart.length;\n  reactLocalStorage.setObject(\"cartSessions\", [...cart]);\n  history.push(\"cart\");\n};\n\n_c4 = RemoveCartItem;\n\nconst UpdateCartQuantity = (e, index, cart) => {\n  if (e.target.value == \"+\") {\n    cart[index].quantity++;\n  } else {\n    cart[index].quantity--;\n\n    if (cart[index].quantity == 0) {\n      cart[index].quantity = 1;\n    }\n  }\n\n  cart.map((cartitem, index) => {\n    if (cart.salesPrice && cart.salesPrice > 0) {\n      cart[index].total = cart[index].salesPrice * cart[index].quantity;\n    } else {\n      cart[index].total = cart[index].regularPrice * cart[index].quantity;\n    }\n  });\n  document.getElementById(\"itemsQTY\" + index).value = cart[index].quantity;\n  let cartSubTotal = 0;\n  cartSubTotal = cc.GetCartSubTotal(cart);\n  document.getElementById(\"bottom-subtotal\").innerHTML = \"$\" + cartSubTotal;\n  document.getElementById(\"cart-total-top\").innerHTML = \"$\" + cartSubTotal;\n  reactLocalStorage.setObject(\"cartSessions\", [...cart]);\n  document.getElementById(\"item-total\" + index).innerHTML = cart[index].total;\n};\n\n_c5 = UpdateCartQuantity;\nexport default Cart;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Cart\");\n$RefreshReg$(_c2, \"CartTopLeft\");\n$RefreshReg$(_c3, \"CartTopRight\");\n$RefreshReg$(_c4, \"RemoveCartItem\");\n$RefreshReg$(_c5, \"UpdateCartQuantity\");","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/Cart.js"],"names":["React","useState","useEffect","useStateValue","useHistory","reactLocalStorage","updateQuantity","cc","Cart","history","basket","dispatch","cart","GetCart","cartSubTotal","GetCartSubTotal","CartTopLeft","CartTopRight","cartContent","cartBottomLeft","cartBottomRight","index","console","log","length","map","item","cartImage","brand","name","style_id","e","UpdateCartQuantity","quantity","salesPrice","regularPrice","total","selectedColor","selectedSize","RemoveCartItem","splice","document","getElementById","innerHTML","setObject","push","target","value","cartitem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport { updateQuantity } from \"./product/productController\";\r\nimport * as cc from \"./cart/cartController\";\r\n\r\nfunction Cart() {\r\n  let history = useHistory();\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  let cart = [];\r\n\r\n  cart = cc.GetCart();\r\n  let cartSubTotal = 0;\r\n  cartSubTotal = cc.GetCartSubTotal(cart);\r\n  //RemoveCartItem();\r\n  //UpdateCartQuantity();\r\n\r\n  return (\r\n    <>\r\n      <section id=\"contentHolder\">\r\n        <div id=\"viewcart\" class=\"mb-4 pt-5\">\r\n          <div class=\"container\">\r\n            <div class=\"row\">\r\n              {CartTopLeft(cart)}\r\n              {CartTopRight(cartSubTotal)}\r\n              {cartContent(cart, history)}\r\n              {cartBottomLeft(cart)}\r\n              {cartBottomRight(cartSubTotal)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nconst CartTopLeft = (cart, index) => {\r\n  console.log(cart);\r\n\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-item-info\"\r\n        class=\"col-lg-6 col-md-6 col-sm-12 col-12 text-start\"\r\n      >\r\n        <h3 class=\"text-dark\">Shopping cart</h3>\r\n        <p id=\"cartLength\" class=\"text-secondary\">\r\n          {cart.length} items\r\n        </p>\r\n        <button class=\"bg-secondary text-light p-2 border-1 fw-bold border-dark rounded\">\r\n          Continue Shopping\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst CartTopRight = (cartSubTotal) => {\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-item-total\"\r\n        class=\"col-lg-6 col-md-6 col-sm-12 col-12 text-right\"\r\n      >\r\n        <h3 id=\"cart-total-top\" class=\"text-dark\">\r\n          ${cartSubTotal}\r\n        </h3>\r\n        <p class=\"text-secondary\">Subtotal</p>\r\n        <button class=\"bg-dark text-light border-1 p-2 fw-bold border-dark rounded\">\r\n          Proceed to checkout\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst cartContent = (cart, history) => {\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-detail-heading\"\r\n        class=\"col-12 border-top border-bottom border-secondary mt-3 py-2 mb-2\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6 col-md-6 col-sm-3 col-3\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">product</span>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-2 col-sm-3 col-3\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">quantity</span>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-2 col-sm-3 col-3 text-right\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">\r\n              item price\r\n            </span>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-2 col-sm-3 col-3 text-right\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">total</span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {cart.map((item, index) => {\r\n        return (\r\n          <>\r\n            <section\r\n              id=\"cart-detail\"\r\n              class=\"col-12 rounded shadow my-2 py-2 border-1 border-secondary mb-2\"\r\n            >\r\n              <div class=\"row\">\r\n                <div id=\"product-picture\" class=\"col-lg-2 col-md-2 col-12\">\r\n                  <img src={item.cartImage} class=\"img-fluid w-75 mx-auto\" />\r\n                </div>\r\n                <div id=\"product-description\" class=\"col-lg-4 col-md-4 col-12\">\r\n                  <a href=\"##\" class=\"text-decoration-none\">\r\n                    <b class=\"d-block text-dark\">{item.brand}</b>\r\n                    <strong class=\"d-block text-secondary\">{item.name} </strong>\r\n                  </a>\r\n\r\n                  <em class=\"d-block text-secondary fw-normal fst-normal\">\r\n                    #{item.style_id}\r\n                  </em>\r\n                </div>\r\n                <div id=\"product-information\" class=\"col-lg-6 col-md-6 col-12\">\r\n                  <div class=\"product-upper-info d-flex justify-content-between border-bottom border-secondary py-2\">\r\n                    <div class=\"first\">\r\n                      <button\r\n                        value=\"-\"\r\n                        class=\"rounded\"\r\n                        onClick={(e) => {\r\n                          UpdateCartQuantity(e, index, cart);\r\n                        }}\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <input\r\n                        id={\"itemsQTY\" + index}\r\n                        value={index}\r\n                        class=\"w-25\"\r\n                        type=\"number\"\r\n                        value={item.quantity}\r\n                      />\r\n                      <button\r\n                        value=\"+\"\r\n                        class=\"rounded\"\r\n                        onClick={(e) => {\r\n                          UpdateCartQuantity(e, index, cart);\r\n                        }}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                    <p>\r\n                      ${item.salesPrice ? item.salesPrice : item.regularPrice}\r\n                    </p>\r\n                    <span id={\"item-total\" + index}>${item.total}</span>\r\n                  </div>\r\n                  <div class=\"product-middle-info py-3 border-bottom border-secondary\">\r\n                    <div class=\"p-desc-button d-flex justify-content-between mt-3\">\r\n                      {item.selectedColor ? (\r\n                        <span>\r\n                          <strong>Color:</strong>\r\n                          {item.selectedColor}\r\n                        </span>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      {item.selectedSize ? (\r\n                        <span>\r\n                          <strong>Size:</strong> {item.selectedSize}\r\n                        </span>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      <button\r\n                        onClick={() => {\r\n                          RemoveCartItem(cart, index, history);\r\n                        }}\r\n                        class=\"text-dark bg-light border-1 border-dark py-1 px-3 rounded fw-normal \"\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst cartBottomLeft = (cart) => {\r\n  return (\r\n    <>\r\n      <section id=\"cart-end-information\" class=\"col-lg-5 col-md-6 col-12 mt-3\">\r\n        <button class=\"text-dark bg-light border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\">\r\n          Save for later\r\n        </button>\r\n        <button class=\"text-light bg-dark border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\">\r\n          Share cart link\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst cartBottomRight = (cartSubTotal) => {\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-end-total\"\r\n        class=\"col-lg-6 col-md-6 col-12 mt-3 mx-auto\"\r\n      >\r\n        <p class=\"w-100 fw-bold text-dark\">\r\n          Cart Subtotal\r\n          <span id=\"bottom-subtotal\" class=\"float-right fw-bold text-dark\">\r\n            ${cartSubTotal}\r\n          </span>\r\n        </p>\r\n        <button class=\"w-100 rounded p-2 bg-dark fw-bold text-light text-center\">\r\n          Proceed to checkout\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst RemoveCartItem = (cart, index, history) => {\r\n  cart.splice(index, index + 1);\r\n  document.getElementById(\"cartLength\").innerHTML = cart.length;\r\n  reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n\r\n  history.push(\"cart\");\r\n};\r\n\r\nconst UpdateCartQuantity = (e, index, cart) => {\r\n  if (e.target.value == \"+\") {\r\n    cart[index].quantity++;\r\n  } else {\r\n    cart[index].quantity--;\r\n    if (cart[index].quantity == 0) {\r\n      cart[index].quantity = 1;\r\n    }\r\n  }\r\n  cart.map((cartitem, index) => {\r\n    if (cart.salesPrice && cart.salesPrice > 0) {\r\n      cart[index].total = cart[index].salesPrice * cart[index].quantity;\r\n    } else {\r\n      cart[index].total = cart[index].regularPrice * cart[index].quantity;\r\n    }\r\n  });\r\n  document.getElementById(\"itemsQTY\" + index).value = cart[index].quantity;\r\n\r\n  let cartSubTotal = 0;\r\n  cartSubTotal = cc.GetCartSubTotal(cart);\r\n  document.getElementById(\"bottom-subtotal\").innerHTML = \"$\" + cartSubTotal;\r\n\r\n  document.getElementById(\"cart-total-top\").innerHTML = \"$\" + cartSubTotal;\r\n\r\n  reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n\r\n  document.getElementById(\"item-total\" + index).innerHTML = cart[index].total;\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}