{"ast":null,"code":"var _jsxFileName = \"C:\\\\ColdFusion2018\\\\cfusion\\\\wwwroot\\\\celerant360\\\\client\\\\src\\\\components\\\\product\\\\productController.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport * as Data from \"../../Data\";\nimport { prodImagesDir } from \"../../settings\";\nimport * as hC from \"../header/headerController\";\nimport MagicZoom from \"../../js/magiczoomplusReactJs\";\nimport { Link } from \"react-router-dom\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nimport * as API from \"../../API\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const getProduct = id => {\n  let product = Data.allProducts.find(prod => prod.STYLE_ID == id);\n  return product;\n};\nexport const getProductBreadCrumbs = (product, history, dispatch) => {\n  let breadcrumbs = [];\n  let breadcrumbsContent = [];\n  console.log(\"brrrrrr\");\n  console.log(Data.taxonomy);\n  let taxonomy = [];\n  let exists = [];\n  Data.taxonomy.map(categories => {\n    if (product.DEPT.toUpperCase() == categories.DEPT.toUpperCase() && product.TYP == \"EMPTY\" && product.DEPT != \"EMPTY\") {\n      if (exists.includes(categories.DEPT)) {} else {\n        exists.push(categories.DEPT);\n        breadcrumbs.push({\n          item: categories.DEPT,\n          url: categories.URL,\n          taxonomy: \"DEPT\",\n          redirectUrl: \"DEPT_Url\"\n        });\n      }\n    } else if (product.TYP.toUpperCase() == categories.TYP.toUpperCase() && product.SUBTYP_1 == \"EMPTY\" && product.TYP != \"EMPTY\") {\n      if (exists.includes(categories.DEPT)) {} else {\n        exists.push(categories.DEPT);\n        breadcrumbs.push({\n          item: categories.TYP,\n          url: categories.URL,\n          taxonomy: \"TYP\",\n          redirectUrl: \"TYP_Url\"\n        });\n      }\n    } else if (product.SUBTYP_1.toUpperCase() == categories.SUBTYP_1.toUpperCase() && product.SUBTYP_2 == \"EMPTY\" && product.SUBTYP_1 != \"EMPTY\") {\n      if (exists.includes(categories.DEPT)) {} else {\n        exists.push(categories.DEPT);\n        breadcrumbs.push({\n          item: categories.SUBTYP_1,\n          url: categories.URL,\n          taxonomy: \"SUBTYP_1\",\n          redirectUrl: \"SUBTYP_1_Url\"\n        });\n      }\n    } else if (product.SUBTYP_2.toUpperCase() == categories.SUBTYP_2.toUpperCase() && product.SUBTYP_3 == \"EMPTY\" && product.SUBTYP_2 != \"EMPTY\") {\n      if (exists.includes(categories.DEPT)) {} else {\n        exists.push(categories.DEPT);\n        breadcrumbs.push({\n          item: categories.SUBTYP_2,\n          url: categories.URL,\n          taxonomy: \"SUBTYP_2\",\n          redirectUrl: \"SUBTYP_2_Url\"\n        });\n      }\n    } else if (product.SUBTYP_3.toUpperCase() == categories.SUBTYP_3.toUpperCase() && product.SUBTYP_4 == \"EMPTY\" && product.SUBTYP_3 != \"EMPTY\") {\n      if (exists.includes(categories.DEPT)) {} else {\n        exists.push(categories.DEPT);\n        breadcrumbs.push({\n          item: categories.SUBTYP_3,\n          url: categories.URL,\n          taxonomy: \"SUBTYP_3\",\n          redirectUrl: \"SUBTYP_2_Url\"\n        });\n      }\n    } else {}\n  });\n\n  if (breadcrumbs.length == 0) {\n    breadcrumbs.push({\n      item: \"All Products\",\n      url: \"all-products\",\n      taxonomy: \"All Products\",\n      redirectUrl: \"\"\n    });\n  } // ADDED PRODUCT'S NAME IN THE END\n\n\n  breadcrumbs.push({\n    item: product.NAME,\n    url: product.URL,\n    taxonomy: \"Product\",\n    redirectUrl: \"\"\n  });\n  breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"breadcrumb-item\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"text-dark text-decoration-none\",\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this));\n  let i = -1;\n  console.log(\"baaaaaaa\");\n  console.log(breadcrumbs);\n\n  for (const [key, value] of Object.entries(breadcrumbs)) {\n    i++;\n\n    if (i == breadcrumbs.length - 1) {\n      breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        children: value.item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this));\n    } else {\n      breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"\",\n          className: \"text-dark text-decoration-none\",\n          onClick: e => {\n            let dispatchedData = {};\n            dispatchedData = {\n              taxonomy: value.taxonomy,\n              redirectUrl: value.redirectUrl,\n              taxonomyValue: value.item,\n              taxonomyUrl: value.url\n            };\n            hC.addFilters(e, dispatchedData, dispatch, history);\n          },\n          children: value.item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  return breadcrumbsContent;\n};\nexport const getProductImage = props => {\n  let productLargeImage = {};\n\n  if (props.product.LARGEIMAGE) {\n    productLargeImage.image = prodImagesDir + props.product.LARGEIMAGE;\n    productLargeImage.altText = props.product.NAME;\n  } else {\n    productLargeImage.image = prodImagesDir + \"default-image.jpeg\";\n    productLargeImage.altText = \"Default Image\";\n  }\n\n  return productLargeImage;\n};\nexport const getProductSmallImage = product => {\n  let productSmallImage = \"\";\n\n  if (product.SMALLIMAGE) {\n    productSmallImage = prodImagesDir + product.SMALLIMAGE;\n  } else {\n    productSmallImage = prodImagesDir + \"default-image.jpeg\";\n  }\n\n  return productSmallImage;\n};\nexport const getProductInfo = props => {\n  let product = props.product;\n  return product;\n};\nexport const getProductNewsLetters = props => {\n  return \"\";\n};\nexport const getProductDetails = props => {\n  return \"\";\n};\nexport const getAdditionalProducts = (API, props, number) => {\n  let prodDept = props.product.DEPT;\n  let prodBrand = props.product.BRAND;\n  API.getWeRecommend(\"\", prodBrand, 6, props.setAdditionalProducts, props.setLoading);\n  return \"\";\n};\nexport const productPricing = product => {\n  let prodPrice = {\n    REGULAR_PRICE: 0,\n    SALES_PRICE: 0\n  };\n\n  if (product.SALES_PRICE && product.SALES_PRICE > 0) {\n    prodPrice.REGULAR_PRICE = product.REGULAR_PRICE;\n    prodPrice.SALES_PRICE = product.SALES_PRICE;\n  } else {\n    prodPrice.REGULAR_PRICE = product.REGULAR_PRICE;\n  }\n\n  return prodPrice;\n};\nexport const GetProductSizes = (product, setProdSizes) => {\n  let sizes = [];\n  sizes = API.getProductSizes(product.STYLE_ID, \"\", \"\", \"\", \"\", setProdSizes);\n  return sizes;\n};\n_c = GetProductSizes;\nexport const GetProductColors = (product, setProdColors) => {\n  _s();\n\n  let sizes = [];\n  useEffect(() => {\n    API.getProductColors(product.STYLE_ID, \"\", \"\", \"\", \"\", setProdColors);\n  }, [product.STYLE_ID]);\n  return \"\";\n};\n\n_s(GetProductColors, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c2 = GetProductColors;\nexport const updateQuantity = (e, selectedProduct) => {\n  selectedProduct.quantity = e.target.value;\n  return selectedProduct;\n};\nexport const SizeButtonEffectsOnClick = (clickType, e, product, selectedProduct) => {\n  if (clickType == \"select\") {\n    if (e.target.value == \"\" || e.target.value == \"Select a Size\") {\n      selectedProduct.selectedSize = \"\";\n      document.getElementById(\"selected-size\").innerHTML = \"\";\n      selectedProduct.selectedSize = \"\";\n    } else {\n      selectedProduct.selectedSize = e.target.value;\n      document.getElementById(\"selected-size\").innerHTML = e.target.value;\n      document.getElementById(\"sizeAlert\").classList.add(\"d-none\");\n    }\n  } else {\n    if (e.target.classList.contains(\"selected\")) {\n      document.getElementById(\"selected-size\").innerHTML = \"\";\n      selectedProduct.selectedSize = \"\";\n      e.target.classList.remove(\"selected\");\n    } else {\n      try {\n        let SizeBtnParent = document.getElementById(\"sizeButtons\");\n        let allSizeButtons = SizeBtnParent.getElementsByTagName(\"button\");\n\n        for (var i = 0; i < allSizeButtons.length; i++) {\n          allSizeButtons[i].classList.remove(\"selected\");\n        }\n      } catch (err) {}\n\n      e.target.classList.add(\"selected\");\n      selectedProduct.selectedSize = e.target.value;\n      document.getElementById(\"selected-size\").innerHTML = e.target.value;\n    }\n  }\n\n  return selectedProduct;\n};\n_c3 = SizeButtonEffectsOnClick;\nexport const GetSelectedColors = (clickType, e, product, selectedProduct, productColorsStyle, allowOutOfStock, colorsRec, setColorsRec) => {\n  e.preventDefault(); // START SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\n\n  selectedProduct = SizeButtonEffectsOnClick(clickType, e, product, selectedProduct); // END SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\n\n  let selectedSize = e.target.value; // OBJECT TO HOLD COLOR ATTRIBUTES DATA\n\n  let colorsData = {\n    color: [],\n    colorCode: [],\n    colorSmallImage: [],\n    colorLargeImage: [],\n    colorStock: [],\n    altImages: []\n  };\n  colorsData = FetchColorAttributes(selectedSize, product, colorsData, colorsRec, setColorsRec);\n  console.log(\"colordataaaaaaaaa\");\n  console.log(colorsData); // GET PRICE OF SELECTED SIZE\n\n  getSelectedSizePrice(product); // DISPLAY COLOR ATTRIBUTES LAYOUT ACCORDING TO SETTINGS\n\n  if (productColorsStyle == \"select\") {\n    // DISPLAY SIZE ATTRIBUTES AS SELECT\n    selectedProduct = displayColorAsSelect(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (productColorsStyle == \"colors\") {\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\n    selectedProduct = displayColorAsColor(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (productColorsStyle == \"buttons\") {\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\n    selectedProduct = displayColorAsButtons(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (productColorsStyle == \"images\") {\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\n    selectedProduct = displayColorAsImages(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (selectedProduct.selectedSize) {\n    document.getElementById(\"sizeAlert\").classList.add(\"d-none\");\n  }\n\n  return selectedProduct;\n};\n_c4 = GetSelectedColors;\nexport const actionOnStockStatus = (stock, selectedProduct, allowOutOfStock) => {\n  let stockInfo = {\n    availability: \"Out of Stock\",\n    stock: 0\n  };\n\n  if (stock && stock > 0) {\n    stockInfo.availability = \"In Stock\";\n    stockInfo.stock = stock;\n  } else {\n    stockInfo.availability = \"Out of Stock\";\n    stockInfo.stock = stock;\n  }\n\n  document.getElementById(\"stock-status\").innerHTML = stockInfo.availability;\n  selectedProduct.stock = parseInt(stockInfo.stock);\n\n  if (selectedProduct.stock > 0) {\n    document.getElementById(\"AddToCart\").innerHTML = \"add to cart\";\n    document.getElementById(\"AddToCart\").disabled = false;\n    document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\", \"#exampleModal\");\n  } else {\n    if (allowOutOfStock == \"yes\") {} else {\n      document.getElementById(\"AddToCart\").innerHTML = \"Out of Stock\";\n      document.getElementById(\"AddToCart\").disabled = true;\n      document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\", \"\");\n    }\n  }\n\n  return selectedProduct;\n};\nexport const FetchColorAttributes = (selectedSize, prod, colorsData, colorsRec, setColorsRec) => {\n  let a = {};\n  API.getProductColors(prod.STYLE_ID, \"\", \"\", \"\", \"\", colorsRec, setColorsRec).then(response => {\n    if (Object.entries(response).length > 0) {} else {\n      response = [];\n    }\n\n    for (let x = 0; x < response.length; x++) {\n      colorsData.color.push(response[x].ORIGATTR1);\n      colorsData.colorCode.push(response[x].HEX);\n      colorsData.colorSmallImage.push(response[x].COLORSMALLIMAGE);\n      colorsData.colorLargeImage.push(response[x].COLORLARGEIMAGE);\n      colorsData.colorStock.push(response[x].QOH);\n      colorsData.altImages.push([]);\n    }\n\n    reactLocalStorage.setObject(\"storedColors\", colorsData);\n  });\n  let colors = reactLocalStorage.getObject(\"storedColors\");\n  reactLocalStorage.setObject(\"storedColors\", []);\n  console.log(\"colorssssssssss\");\n  console.log(colors);\n  return colors;\n};\n_c5 = FetchColorAttributes;\n\nconst getSelectedSizePrice = prod => {\n  let rprice = 0;\n  let sprice = 0;\n\n  if (prod.SALES_PRICE) {\n    rprice = prod.REGULAR_PRICE;\n    sprice = prod.SALES_PRICE;\n    document.getElementById(\"rPrice\").innerHTML = \"<del>$\" + rprice + \"</del>\";\n    document.getElementById(\"sPrice\").innerHTML = \"$\" + sprice;\n    document.getElementById(\"sPrice\").classList.remove(\"d-none\");\n  } else {\n    rprice = prod.REGULAR_PRICE;\n    document.getElementById(\"rPrice\").innerHTML = \"$\" + rprice;\n    document.getElementById(\"sPrice\").classList.add(\"d-none\");\n  }\n};\n\nconst displayColorAsSelect = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorSelect = document.getElementById(\"color\");\n  colorSelect.innerHTML = \"\";\n\n  colorSelect.onchange = function (e) {\n    selectedProduct.selectedColor = e.target.value;\n    let attrStock = this.options[this.selectedIndex].getAttribute(\"data-stock\");\n    selectedProduct.colorImage = this.options[this.selectedIndex].getAttribute(\"data-image\");\n    selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n    selectedProduct.stock = parseInt(attrStock); // alert(e.target.options[e.target.selectedIndex].dataset.stock);\n\n    if (e.target.value && e.target.value != \"Select a Color\") {\n      document.getElementById(\"selected-color\").innerHTML = `<strong> ${e.target.value}</strong>`;\n    } else {\n      document.getElementById(\"selected-color\").innerHTML = \"\";\n    } // GET ALT IMAGES\n\n\n    if (altImagesData && altImagesData.length > 0) {\n      displayAltimages(e.target.value, altImagesData);\n    }\n\n    if (selectedProduct.selectedColor) {\n      document.getElementById(\"colorAlert\").classList.add(\"d-none\");\n    }\n  };\n\n  let myOption = document.createElement(\"option\");\n  myOption.text = \"Select a Color\";\n  myOption.value = \"Select a Color\";\n  colorSelect.appendChild(myOption);\n  let customIndex = -1;\n  let altImagesData = [];\n  colorsData.color.map(colorValue => {\n    customIndex++;\n    altImagesData.push({\n      color: colorValue,\n      altImages: colorsData.altImages[customIndex]\n    });\n    let myOption = document.createElement(\"option\");\n    myOption.text = colorValue;\n    myOption.value = colorValue;\n    myOption.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\n    myOption.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\n    colorSelect.appendChild(myOption);\n  });\n  return selectedProduct;\n};\n\nexport const displayColorAsColor = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorButtons = document.getElementById(\"colorButtons\");\n  colorButtons.innerHTML = \"\";\n  let colorNameIndex = -1;\n  let customIndex = -1;\n  let altImagesData = [];\n  colorsData.colorCode.map(colorValue => {\n    customIndex++;\n    colorNameIndex++;\n    let colorName = colorsData.color[colorNameIndex];\n    selectedProduct.colorImage = prodImagesDir + colorsData.colorSmallImage[customIndex];\n    altImagesData.push({\n      color: colorName,\n      altImages: colorsData.altImages[customIndex]\n    });\n    let button = document.createElement(\"button\");\n    button.setAttribute(\"type\", \"button\");\n\n    if (!colorValue) {\n      button.setAttribute(\"value\", colorName);\n    } else {\n      // button.style.backgroundColor = colorValue + ' !important'\n      button.setAttribute(\"style\", `background-Color:${colorValue} !important;color:${colorValue} !important;`);\n      button.setAttribute(\"value\", colorName);\n    }\n\n    button.setAttribute(\"class\", \"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\");\n    button.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\n    button.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\n\n    if (colorsData.colorStock[customIndex] <= 0) {\n      button.classList.add(\"disabled\");\n      button.innerHTML = \"<span></span>\" + colorValue;\n    } else {\n      button.innerHTML = colorValue;\n    }\n\n    button.onclick = function (e) {\n      if (e.target.classList.contains(\"selected\")) {\n        document.getElementById(\"selected-color\").innerHTML = \"\";\n        selectedProduct.selectedColor = \"\";\n        e.target.classList.remove(\"selected\");\n      } else {\n        try {\n          let colorBtnParent = document.getElementById(\"colorButtons\");\n          let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\n\n          for (var i = 0; i < allColorButtons.length; i++) {\n            allColorButtons[i].classList.remove(\"selected\");\n          }\n        } catch (err) {}\n\n        let attrStock = e.target.getAttribute(\"data-stock\");\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\n        selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n        selectedProduct.stock = parseInt(attrStock);\n        e.target.classList.add(\"selected\");\n        selectedProduct.selectedColor = e.target.value;\n        document.getElementById(\"selected-color\").innerHTML = e.target.value;\n      } // GET ALT IMAGES\n\n\n      if (altImagesData && altImagesData.length > 0) {\n        displayAltimages(colorName, altImagesData);\n      }\n\n      if (selectedProduct.selectedColor) {\n        document.getElementById(\"colorAlert\").classList.add(\"d-none\");\n      }\n    };\n\n    colorButtons.appendChild(button);\n  });\n  return selectedProduct;\n};\n\nconst displayColorAsButtons = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorButtons = document.getElementById(\"colorButtons\");\n  colorButtons.innerHTML = \"\";\n  let customIndex = -1;\n  let altImagesData = [];\n  colorsData.color.map(colorValue => {\n    customIndex++;\n    altImagesData.push({\n      color: colorValue,\n      altImages: colorsData.altImages[customIndex]\n    });\n    let button = document.createElement(\"button\");\n    button.setAttribute(\"type\", \"button\");\n    button.setAttribute(\"value\", colorValue);\n    button.setAttribute(\"class\", \"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\");\n    button.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\n    button.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\n\n    if (colorsData.colorStock[customIndex] <= 0) {\n      button.classList.add(\"disabled\");\n      button.innerHTML = \"<span></span>\" + colorValue;\n    } else {\n      button.innerHTML = colorValue;\n    }\n\n    button.onclick = function (e) {\n      if (e.target.classList.contains(\"selected\")) {\n        document.getElementById(\"selected-color\").innerHTML = \"\";\n        selectedProduct.selectedColor = \"\";\n        e.target.classList.remove(\"selected\");\n      } else {\n        try {\n          let colorBtnParent = document.getElementById(\"colorButtons\");\n          let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\n\n          for (var i = 0; i < allColorButtons.length; i++) {\n            allColorButtons[i].classList.remove(\"selected\");\n          }\n        } catch (err) {}\n\n        let attrStock = e.target.getAttribute(\"data-stock\");\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\n        selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n        selectedProduct.stock = parseInt(attrStock);\n        e.target.classList.add(\"selected\");\n        selectedProduct.selectedColor = e.target.value;\n        document.getElementById(\"selected-color\").innerHTML = e.target.value;\n      } // GET ALT IMAGES\n\n\n      if (altImagesData && altImagesData.length > 0) {\n        displayAltimages(colorValue, altImagesData);\n      }\n\n      if (selectedProduct.selectedColor) {\n        document.getElementById(\"colorAlert\").classList.add(\"d-none\");\n      }\n    };\n\n    colorButtons.appendChild(button);\n  });\n  return selectedProduct;\n};\n\nconst displayColorAsImages = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorButtons = document.getElementById(\"colorImages\");\n  colorButtons.innerHTML = \"\";\n  let colorImages = document.getElementById(\"colorImages\");\n  colorImages.innerHTML = \"\";\n  let customIndex = -1;\n  let altImages = [];\n  let altImagesData = [];\n  colorsData.colorSmallImage.map(colorSmallImage => {\n    customIndex++;\n    let colorName = colorsData.color[customIndex];\n    altImagesData.push({\n      color: colorName,\n      altImages: colorsData.altImages[customIndex]\n    });\n\n    if (!colorSmallImage) {\n      //DISPLAY SIZE AS BUTTON IF COLOR IMAGE NOT AVAIABLE\n      selectedProduct = displaySizeImageAsButtons(e, selectedProduct, colorsData, allowOutOfStock, customIndex, colorName, colorButtons, altImagesData);\n    } else {\n      let img = document.createElement(\"IMG\");\n      img.src = prodImagesDir + colorSmallImage;\n      img.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\n      img.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\n      img.setAttribute(\"width\", 50);\n      img.setAttribute(\"height\", 50);\n      img.classList.add(\"ml-2\");\n      img.setAttribute(\"class\", \"border-info p-1  bg-transparent mt-2 rounded \");\n\n      img.onclick = function (e) {\n        if (e.target.classList.contains(\"border-red\")) {\n          document.getElementById(\"selected-color\").innerHTML = \"\";\n          selectedProduct.selectedColor = \"\";\n          e.target.classList.remove(\"border-red\");\n          document.getElementById(\"stock-status\").innerHTML = \"Select An Attribute\";\n          document.getElementById(\"AddToCart\").innerHTML = \"add to cart\";\n          document.getElementById(\"AddToCart\").disabled = false;\n          document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\", \"#exampleModal\");\n          let altImagesContainer = document.getElementById(\"alt-images\");\n          altImagesContainer.innerHTML = \"\";\n        } else {\n          try {\n            let colorBtnParent = document.getElementById(\"colorImages\");\n            let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\n\n            for (var i = 0; i < allColorButtons.length; i++) {\n              allColorButtons[i].classList.remove(\"selected\");\n            }\n\n            let colorImagesParent = document.getElementById(\"colorImages\");\n            let allColorImages = colorImagesParent.getElementsByTagName(\"IMG\");\n\n            for (var i = 0; i < allColorImages.length; i++) {\n              allColorImages[i].classList.remove(\"border-red\");\n            }\n          } catch (err) {}\n\n          let attrStock = e.target.getAttribute(\"data-stock\");\n          selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\n          selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n          selectedProduct.stock = parseInt(attrStock);\n          e.target.classList.add(\"border-red\");\n          selectedProduct.selectedColor = colorName;\n          document.getElementById(\"selected-color\").innerHTML = colorName;\n          console.log(\"aaaaaaaaaaaaaaaaaaaaaa\");\n          console.log(altImagesData); // GET ALT IMAGES\n\n          let selectedAltImages = altImagesData.find(altImage => altImage.color == colorName).altImages;\n\n          if (Object.entries(selectedAltImages).length > 0) {\n            displayAltimages(colorName, altImagesData);\n          } else {\n            altImagesData.map(alt => {\n              if (alt.color == colorName) {\n                alt.altImages.push(selectedProduct.colorImage);\n              }\n            });\n            displayAltimages(colorName, altImagesData);\n          }\n\n          if (selectedProduct.selectedColor) {\n            document.getElementById(\"colorAlert\").classList.add(\"d-none\");\n          }\n        }\n      };\n\n      colorImages.appendChild(img);\n    }\n  });\n  return selectedProduct;\n};\n\nexport const displayAltimages = (colorName, allAltImages) => {\n  let selectedAltImages = [];\n  selectedAltImages = allAltImages.find(altImage => altImage.color == colorName).altImages;\n  let altImagesContainer = document.getElementById(\"alt-images\");\n  altImagesContainer.innerHTML = \"\";\n\n  if (Object.entries(selectedAltImages).length > 0) {\n    selectedAltImages.map(altImg => {\n      let imgUrl = prodImagesDir + altImg;\n      let altAnchor = document.createElement(\"a\");\n      altAnchor.setAttribute(\"href\", imgUrl);\n      altAnchor.setAttribute(\"data-image\", imgUrl);\n      altAnchor.setAttribute(\"data-zoom-id\", \"zoomer\");\n      altAnchor.setAttribute(\"class\", \"mz-thumb\");\n      let resizedImage = CreateThumnailImage(altImg, imgUrl);\n      altAnchor.appendChild(resizedImage);\n      altImagesContainer.appendChild(altAnchor);\n    });\n  } else {\n    let mzLens = document.getElementsByClassName(\"mz-lens\")[0];\n    mzLens.getElementsByTagName(\"img\")[0].src = \"\";\n  }\n\n  MagicZoom.refresh();\n};\n\nvar CreateThumnailImage = function (imageName, currentImage) {\n  var myCan = document.createElement(\"canvas\");\n  let img = new Image();\n  img.setAttribute(\"crossorigin\", \"anonymous\"); // works for me\n\n  img.src = currentImage;\n  var nImg = document.createElement(\"img\");\n\n  img.onload = function () {\n    myCan.id = imageName;\n    var tsize = 64;\n    myCan.width = 80;\n    myCan.height = 95;\n    var cntxt = myCan.getContext(\"2d\");\n    cntxt.drawImage(img, 0, 0, myCan.width, myCan.height);\n    setTimeout(abc(myCan), 1000);\n\n    function abc(myCan) {\n      var dataURL = myCan.toDataURL();\n      nImg.src = dataURL;\n      nImg.setAttribute(\"name\", imageName);\n      nImg.setAttribute(\"data-url\", currentImage);\n      nImg.setAttribute(\"class\", \"img-fluid mr-1\");\n\n      nImg.onclick = () => {\n        let altContainer = document.getElementById(\"alt-images\");\n        let altChildren = altContainer.getElementsByTagName(\"img\");\n\n        try {\n          for (var i = 0; i < altChildren.length; i++) {\n            altChildren[i].classList.remove(\"mz-border\");\n          }\n        } catch (err) {}\n\n        let mzLens = document.getElementsByClassName(\"mz-lens\")[0];\n        mzLens.getElementsByTagName(\"img\")[0].src = currentImage;\n        nImg.setAttribute(\"class\", \"img-fluid mr-1 mz-border\");\n      };\n    }\n  };\n\n  return nImg;\n};\n\n_c6 = CreateThumnailImage;\n\nconst displaySizeImageAsButtons = (e, selectedProduct, colorsData, allowOutOfStock, customIndex, colorName, colorButtons, altImagesData) => {\n  let element;\n  let element_label = \"button\";\n  let element_labe2 = \"img\";\n  let wrapper = \"colorImages\";\n  element = document.createElement(element_label);\n  element.setAttribute(\"type\", element_label);\n  element.setAttribute(\"value\", colorName);\n  element.setAttribute(\"class\", element_label);\n  element.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\n  element.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\n  element.style.height = \"59px\";\n  element.style.width = \"59px\"; // element.style.border = 'solid 1px rgb(185 185 185)'\n\n  element.style.outline = \"none\";\n  element.innerHTML = colorName;\n  element.classList.add(\"ml-2\");\n  element.setAttribute(\"class\", \"border-info p-1  bg-transparent mt-2 rounded \"); //  button.classList.add('h-25')\n\n  element.onclick = function (e) {\n    if (e.target.classList.contains(\"selected\")) {\n      document.getElementById(\"selected-color\").innerHTML = \"\";\n      selectedProduct.selectedColor = \"\";\n      e.target.classList.remove(\"selected\");\n    } else {\n      try {\n        let colorBtnParent = document.getElementById(wrapper);\n        let allColorButtons = colorBtnParent.getElementsByTagName(element_label);\n\n        for (var i = 0; i < allColorButtons.length; i++) {\n          allColorButtons[i].classList.remove(\"selected\");\n        }\n\n        let attrStock = e.target.getAttribute(\"data-stock\");\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\n        selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n        selectedProduct.stock = parseInt(attrStock);\n        let colorImagesParent = document.getElementById(wrapper);\n        let allColorImages = colorImagesParent.getElementsByTagName(element_labe2);\n\n        for (var i = 0; i < allColorImages.length; i++) {\n          allColorImages[i].classList.remove(\"border-red\");\n        }\n      } catch (err) {}\n\n      e.target.classList.add(\"selected\");\n      selectedProduct.selectedColor = e.target.value;\n      document.getElementById(\"selected-color\").innerHTML = e.target.value;\n    } // GET ALT IMAGES\n\n\n    if (altImagesData && altImagesData.length > 0) displayAltimages(colorName, altImagesData);\n\n    if (selectedProduct.selectedColor) {\n      document.getElementById(\"colorAlert\").classList.add(\"d-none\");\n    }\n  };\n\n  colorButtons.appendChild(element);\n  return selectedProduct;\n};\n\nexport const CartRelated = product => {\n  _s2();\n\n  const [prods, setProds] = useState([]);\n  const [loading, setLoading] = useState(true);\n  let property = \"\";\n  useEffect(() => {\n    API.ApiProducts(\"\", \"\", \"dept\", product.DEPT, setProds, setLoading, \"\", \"\");\n  }, [product]);\n  let cartRelated = [];\n  cartRelated = prods.filter(prod => prod.BRAND == product.BRAND && prod.STYLE_ID != product.STYLE_ID);\n  if (!cartRelated || cartRelated.length < 1) cartRelated = [];\n\n  if (cartRelated.length > 4) {\n    cartRelated.length = 4;\n  }\n\n  return cartRelated;\n};\n\n_s2(CartRelated, \"/2aCn3KSOQYAuCYDCpnbTrVoQ3Y=\");\n\n_c7 = CartRelated;\nexport const setRecentlyViewed = product => {\n  let recentlyViewedTemp = [];\n  let recentlyViewed = [];\n  recentlyViewedTemp = reactLocalStorage.getObject(\"recentlyViewed\"); //reactLocalStorage.clear(\"recentlyViewed\");\n\n  if (recentlyViewedTemp && recentlyViewedTemp.length > 0) {} else {\n    recentlyViewedTemp = [];\n  }\n\n  let matched = false;\n  recentlyViewedTemp.map(item => {\n    if (JSON.stringify(item) == JSON.stringify(product)) {\n      matched = true;\n    } else {}\n  });\n\n  if (matched == true) {} else {\n    recentlyViewedTemp.unshift(product);\n  }\n\n  recentlyViewedTemp.map((prod, index) => {\n    if (index < 6) {\n      recentlyViewed.push(prod);\n    }\n  });\n  reactLocalStorage.setObject(\"recentlyViewed\", [...recentlyViewed]);\n};\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"GetProductSizes\");\n$RefreshReg$(_c2, \"GetProductColors\");\n$RefreshReg$(_c3, \"SizeButtonEffectsOnClick\");\n$RefreshReg$(_c4, \"GetSelectedColors\");\n$RefreshReg$(_c5, \"FetchColorAttributes\");\n$RefreshReg$(_c6, \"CreateThumnailImage\");\n$RefreshReg$(_c7, \"CartRelated\");","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/client/src/components/product/productController.js"],"names":["React","useState","useEffect","Data","prodImagesDir","hC","MagicZoom","Link","reactLocalStorage","API","getProduct","id","product","allProducts","find","prod","STYLE_ID","getProductBreadCrumbs","history","dispatch","breadcrumbs","breadcrumbsContent","console","log","taxonomy","exists","map","categories","DEPT","toUpperCase","TYP","includes","push","item","url","URL","redirectUrl","SUBTYP_1","SUBTYP_2","SUBTYP_3","SUBTYP_4","length","NAME","i","key","value","Object","entries","e","dispatchedData","taxonomyValue","taxonomyUrl","addFilters","getProductImage","props","productLargeImage","LARGEIMAGE","image","altText","getProductSmallImage","productSmallImage","SMALLIMAGE","getProductInfo","getProductNewsLetters","getProductDetails","getAdditionalProducts","number","prodDept","prodBrand","BRAND","getWeRecommend","setAdditionalProducts","setLoading","productPricing","prodPrice","REGULAR_PRICE","SALES_PRICE","GetProductSizes","setProdSizes","sizes","getProductSizes","GetProductColors","setProdColors","getProductColors","updateQuantity","selectedProduct","quantity","target","SizeButtonEffectsOnClick","clickType","selectedSize","document","getElementById","innerHTML","classList","add","contains","remove","SizeBtnParent","allSizeButtons","getElementsByTagName","err","GetSelectedColors","productColorsStyle","allowOutOfStock","colorsRec","setColorsRec","preventDefault","colorsData","color","colorCode","colorSmallImage","colorLargeImage","colorStock","altImages","FetchColorAttributes","getSelectedSizePrice","displayColorAsSelect","displayColorAsColor","displayColorAsButtons","displayColorAsImages","actionOnStockStatus","stock","stockInfo","availability","parseInt","disabled","setAttribute","a","then","response","x","ORIGATTR1","HEX","COLORSMALLIMAGE","COLORLARGEIMAGE","QOH","setObject","colors","getObject","rprice","sprice","colorSelect","onchange","selectedColor","attrStock","options","selectedIndex","getAttribute","colorImage","altImagesData","displayAltimages","myOption","createElement","text","appendChild","customIndex","colorValue","colorButtons","colorNameIndex","colorName","button","onclick","colorBtnParent","allColorButtons","colorImages","displaySizeImageAsButtons","img","src","altImagesContainer","colorImagesParent","allColorImages","selectedAltImages","altImage","alt","allAltImages","altImg","imgUrl","altAnchor","resizedImage","CreateThumnailImage","mzLens","getElementsByClassName","refresh","imageName","currentImage","myCan","Image","nImg","onload","tsize","width","height","cntxt","getContext","drawImage","setTimeout","abc","dataURL","toDataURL","altContainer","altChildren","element","element_label","element_labe2","wrapper","style","outline","CartRelated","prods","setProds","loading","property","ApiProducts","cartRelated","filter","setRecentlyViewed","recentlyViewedTemp","recentlyViewed","matched","JSON","stringify","unshift","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as Data from \"../../Data\";\r\nimport { prodImagesDir } from \"../../settings\";\r\nimport * as hC from \"../header/headerController\";\r\nimport MagicZoom from \"../../js/magiczoomplusReactJs\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport * as API from \"../../API\";\r\n\r\nexport const getProduct = (id) => {\r\n  let product = Data.allProducts.find((prod) => prod.STYLE_ID == id);\r\n\r\n  return product;\r\n};\r\nexport const getProductBreadCrumbs = (product, history, dispatch) => {\r\n  let breadcrumbs = [];\r\n  let breadcrumbsContent = [];\r\n  console.log(\"brrrrrr\");\r\n  console.log(Data.taxonomy);\r\n  let taxonomy = [];\r\n  let exists = [];\r\n  Data.taxonomy.map((categories) => {\r\n    if (\r\n      product.DEPT.toUpperCase() == categories.DEPT.toUpperCase() &&\r\n      product.TYP == \"EMPTY\" &&\r\n      product.DEPT != \"EMPTY\"\r\n    ) {\r\n      if (exists.includes(categories.DEPT)) {\r\n      } else {\r\n        exists.push(categories.DEPT);\r\n\r\n        breadcrumbs.push({\r\n          item: categories.DEPT,\r\n          url: categories.URL,\r\n          taxonomy: \"DEPT\",\r\n          redirectUrl: \"DEPT_Url\",\r\n        });\r\n      }\r\n    } else if (\r\n      product.TYP.toUpperCase() == categories.TYP.toUpperCase() &&\r\n      product.SUBTYP_1 == \"EMPTY\" &&\r\n      product.TYP != \"EMPTY\"\r\n    ) {\r\n      if (exists.includes(categories.DEPT)) {\r\n      } else {\r\n        exists.push(categories.DEPT);\r\n\r\n        breadcrumbs.push({\r\n          item: categories.TYP,\r\n          url: categories.URL,\r\n          taxonomy: \"TYP\",\r\n          redirectUrl: \"TYP_Url\",\r\n        });\r\n      }\r\n    } else if (\r\n      product.SUBTYP_1.toUpperCase() == categories.SUBTYP_1.toUpperCase() &&\r\n      product.SUBTYP_2 == \"EMPTY\" &&\r\n      product.SUBTYP_1 != \"EMPTY\"\r\n    ) {\r\n      if (exists.includes(categories.DEPT)) {\r\n      } else {\r\n        exists.push(categories.DEPT);\r\n\r\n        breadcrumbs.push({\r\n          item: categories.SUBTYP_1,\r\n          url: categories.URL,\r\n          taxonomy: \"SUBTYP_1\",\r\n          redirectUrl: \"SUBTYP_1_Url\",\r\n        });\r\n      }\r\n    } else if (\r\n      product.SUBTYP_2.toUpperCase() == categories.SUBTYP_2.toUpperCase() &&\r\n      product.SUBTYP_3 == \"EMPTY\" &&\r\n      product.SUBTYP_2 != \"EMPTY\"\r\n    ) {\r\n      if (exists.includes(categories.DEPT)) {\r\n      } else {\r\n        exists.push(categories.DEPT);\r\n\r\n        breadcrumbs.push({\r\n          item: categories.SUBTYP_2,\r\n          url: categories.URL,\r\n          taxonomy: \"SUBTYP_2\",\r\n          redirectUrl: \"SUBTYP_2_Url\",\r\n        });\r\n      }\r\n    } else if (\r\n      product.SUBTYP_3.toUpperCase() == categories.SUBTYP_3.toUpperCase() &&\r\n      product.SUBTYP_4 == \"EMPTY\" &&\r\n      product.SUBTYP_3 != \"EMPTY\"\r\n    ) {\r\n      if (exists.includes(categories.DEPT)) {\r\n      } else {\r\n        exists.push(categories.DEPT);\r\n\r\n        breadcrumbs.push({\r\n          item: categories.SUBTYP_3,\r\n          url: categories.URL,\r\n          taxonomy: \"SUBTYP_3\",\r\n          redirectUrl: \"SUBTYP_2_Url\",\r\n        });\r\n      }\r\n    } else {\r\n    }\r\n  });\r\n\r\n  if (breadcrumbs.length == 0) {\r\n    breadcrumbs.push({\r\n      item: \"All Products\",\r\n      url: \"all-products\",\r\n      taxonomy: \"All Products\",\r\n      redirectUrl: \"\",\r\n    });\r\n  }\r\n\r\n  // ADDED PRODUCT'S NAME IN THE END\r\n  breadcrumbs.push({\r\n    item: product.NAME,\r\n    url: product.URL,\r\n    taxonomy: \"Product\",\r\n    redirectUrl: \"\",\r\n  });\r\n\r\n  breadcrumbsContent.push(\r\n    <li className=\"breadcrumb-item\">\r\n      <Link to=\"/\" className=\"text-dark text-decoration-none\">\r\n        Home\r\n      </Link>\r\n    </li>\r\n  );\r\n\r\n  let i = -1;\r\n  console.log(\"baaaaaaa\");\r\n  console.log(breadcrumbs);\r\n  for (const [key, value] of Object.entries(breadcrumbs)) {\r\n    i++;\r\n\r\n    if (i == breadcrumbs.length - 1) {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n          {value.item}\r\n        </li>\r\n      );\r\n    } else {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item\">\r\n          <Link\r\n            to=\"\"\r\n            className=\"text-dark text-decoration-none\"\r\n            onClick={(e) => {\r\n              let dispatchedData = {};\r\n\r\n              dispatchedData = {\r\n                taxonomy: value.taxonomy,\r\n                redirectUrl: value.redirectUrl,\r\n                taxonomyValue: value.item,\r\n                taxonomyUrl: value.url,\r\n              };\r\n              hC.addFilters(e, dispatchedData, dispatch, history);\r\n            }}\r\n          >\r\n            {value.item}\r\n          </Link>\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n\r\n  return breadcrumbsContent;\r\n};\r\n\r\nexport const getProductImage = (props) => {\r\n  let productLargeImage = {};\r\n\r\n  if (props.product.LARGEIMAGE) {\r\n    productLargeImage.image = prodImagesDir + props.product.LARGEIMAGE;\r\n    productLargeImage.altText = props.product.NAME;\r\n  } else {\r\n    productLargeImage.image = prodImagesDir + \"default-image.jpeg\";\r\n    productLargeImage.altText = \"Default Image\";\r\n  }\r\n\r\n  return productLargeImage;\r\n};\r\n\r\nexport const getProductSmallImage = (product) => {\r\n  let productSmallImage = \"\";\r\n  if (product.SMALLIMAGE) {\r\n    productSmallImage = prodImagesDir + product.SMALLIMAGE;\r\n  } else {\r\n    productSmallImage = prodImagesDir + \"default-image.jpeg\";\r\n  }\r\n\r\n  return productSmallImage;\r\n};\r\n\r\nexport const getProductInfo = (props) => {\r\n  let product = props.product;\r\n  return product;\r\n};\r\n\r\nexport const getProductNewsLetters = (props) => {\r\n  return \"\";\r\n};\r\n\r\nexport const getProductDetails = (props) => {\r\n  return \"\";\r\n};\r\n\r\nexport const getAdditionalProducts = (API, props, number) => {\r\n  let prodDept = props.product.DEPT;\r\n  let prodBrand = props.product.BRAND;\r\n  API.getWeRecommend(\r\n    \"\",\r\n    prodBrand,\r\n    6,\r\n    props.setAdditionalProducts,\r\n    props.setLoading\r\n  );\r\n\r\n  return \"\";\r\n};\r\n\r\nexport const productPricing = (product) => {\r\n  let prodPrice = {\r\n    REGULAR_PRICE: 0,\r\n    SALES_PRICE: 0,\r\n  };\r\n  if (product.SALES_PRICE && product.SALES_PRICE > 0) {\r\n    prodPrice.REGULAR_PRICE = product.REGULAR_PRICE;\r\n    prodPrice.SALES_PRICE = product.SALES_PRICE;\r\n  } else {\r\n    prodPrice.REGULAR_PRICE = product.REGULAR_PRICE;\r\n  }\r\n  return prodPrice;\r\n};\r\n\r\nexport const GetProductSizes = (product, setProdSizes) => {\r\n  let sizes = [];\r\n\r\n  sizes = API.getProductSizes(product.STYLE_ID, \"\", \"\", \"\", \"\", setProdSizes);\r\n\r\n  return sizes;\r\n};\r\n\r\nexport const GetProductColors = (product, setProdColors) => {\r\n  let sizes = [];\r\n\r\n  useEffect(() => {\r\n    API.getProductColors(product.STYLE_ID, \"\", \"\", \"\", \"\", setProdColors);\r\n  }, [product.STYLE_ID]);\r\n\r\n  return \"\";\r\n};\r\n\r\nexport const updateQuantity = (e, selectedProduct) => {\r\n  selectedProduct.quantity = e.target.value;\r\n  return selectedProduct;\r\n};\r\n\r\nexport const SizeButtonEffectsOnClick = (\r\n  clickType,\r\n  e,\r\n  product,\r\n  selectedProduct\r\n) => {\r\n  if (clickType == \"select\") {\r\n    if (e.target.value == \"\" || e.target.value == \"Select a Size\") {\r\n      selectedProduct.selectedSize = \"\";\r\n      document.getElementById(\"selected-size\").innerHTML = \"\";\r\n      selectedProduct.selectedSize = \"\";\r\n    } else {\r\n      selectedProduct.selectedSize = e.target.value;\r\n      document.getElementById(\"selected-size\").innerHTML = e.target.value;\r\n      document.getElementById(\"sizeAlert\").classList.add(\"d-none\");\r\n    }\r\n  } else {\r\n    if (e.target.classList.contains(\"selected\")) {\r\n      document.getElementById(\"selected-size\").innerHTML = \"\";\r\n      selectedProduct.selectedSize = \"\";\r\n      e.target.classList.remove(\"selected\");\r\n    } else {\r\n      try {\r\n        let SizeBtnParent = document.getElementById(\"sizeButtons\");\r\n        let allSizeButtons = SizeBtnParent.getElementsByTagName(\"button\");\r\n        for (var i = 0; i < allSizeButtons.length; i++) {\r\n          allSizeButtons[i].classList.remove(\"selected\");\r\n        }\r\n      } catch (err) {}\r\n      e.target.classList.add(\"selected\");\r\n      selectedProduct.selectedSize = e.target.value;\r\n      document.getElementById(\"selected-size\").innerHTML = e.target.value;\r\n    }\r\n  }\r\n  return selectedProduct;\r\n};\r\n\r\nexport const GetSelectedColors = (\r\n  clickType,\r\n  e,\r\n  product,\r\n  selectedProduct,\r\n  productColorsStyle,\r\n  allowOutOfStock,\r\n  colorsRec,\r\n  setColorsRec\r\n) => {\r\n  e.preventDefault();\r\n\r\n  // START SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\r\n  selectedProduct = SizeButtonEffectsOnClick(\r\n    clickType,\r\n    e,\r\n    product,\r\n    selectedProduct\r\n  );\r\n  // END SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\r\n\r\n  let selectedSize = e.target.value;\r\n\r\n  // OBJECT TO HOLD COLOR ATTRIBUTES DATA\r\n  let colorsData = {\r\n    color: [],\r\n    colorCode: [],\r\n    colorSmallImage: [],\r\n    colorLargeImage: [],\r\n    colorStock: [],\r\n    altImages: [],\r\n  };\r\n\r\n  colorsData = FetchColorAttributes(\r\n    selectedSize,\r\n    product,\r\n    colorsData,\r\n    colorsRec,\r\n    setColorsRec\r\n  );\r\n\r\n  console.log(\"colordataaaaaaaaa\");\r\n  console.log(colorsData);\r\n  // GET PRICE OF SELECTED SIZE\r\n  getSelectedSizePrice(product);\r\n\r\n  // DISPLAY COLOR ATTRIBUTES LAYOUT ACCORDING TO SETTINGS\r\n\r\n  if (productColorsStyle == \"select\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS SELECT\r\n    selectedProduct = displayColorAsSelect(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n\r\n  if (productColorsStyle == \"colors\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsColor(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n\r\n  if (productColorsStyle == \"buttons\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsButtons(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n\r\n  if (productColorsStyle == \"images\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsImages(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n  if (selectedProduct.selectedSize) {\r\n    document.getElementById(\"sizeAlert\").classList.add(\"d-none\");\r\n  }\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nexport const actionOnStockStatus = (\r\n  stock,\r\n  selectedProduct,\r\n  allowOutOfStock\r\n) => {\r\n  let stockInfo = {\r\n    availability: \"Out of Stock\",\r\n    stock: 0,\r\n  };\r\n\r\n  if (stock && stock > 0) {\r\n    stockInfo.availability = \"In Stock\";\r\n    stockInfo.stock = stock;\r\n  } else {\r\n    stockInfo.availability = \"Out of Stock\";\r\n    stockInfo.stock = stock;\r\n  }\r\n\r\n  document.getElementById(\"stock-status\").innerHTML = stockInfo.availability;\r\n\r\n  selectedProduct.stock = parseInt(stockInfo.stock);\r\n  if (selectedProduct.stock > 0) {\r\n    document.getElementById(\"AddToCart\").innerHTML = \"add to cart\";\r\n    document.getElementById(\"AddToCart\").disabled = false;\r\n\r\n    document\r\n      .getElementById(\"AddToCart\")\r\n      .setAttribute(\"data-bs-target\", \"#exampleModal\");\r\n  } else {\r\n    if (allowOutOfStock == \"yes\") {\r\n    } else {\r\n      document.getElementById(\"AddToCart\").innerHTML = \"Out of Stock\";\r\n      document.getElementById(\"AddToCart\").disabled = true;\r\n      document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\", \"\");\r\n    }\r\n  }\r\n  return selectedProduct;\r\n};\r\n\r\nexport const FetchColorAttributes = (\r\n  selectedSize,\r\n  prod,\r\n  colorsData,\r\n  colorsRec,\r\n  setColorsRec\r\n) => {\r\n  let a = {};\r\n  API.getProductColors(\r\n    prod.STYLE_ID,\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    colorsRec,\r\n    setColorsRec\r\n  ).then((response) => {\r\n    if (Object.entries(response).length > 0) {\r\n    } else {\r\n      response = [];\r\n    }\r\n\r\n    for (let x = 0; x < response.length; x++) {\r\n      colorsData.color.push(response[x].ORIGATTR1);\r\n      colorsData.colorCode.push(response[x].HEX);\r\n      colorsData.colorSmallImage.push(response[x].COLORSMALLIMAGE);\r\n      colorsData.colorLargeImage.push(response[x].COLORLARGEIMAGE);\r\n      colorsData.colorStock.push(response[x].QOH);\r\n      colorsData.altImages.push([]);\r\n    }\r\n    reactLocalStorage.setObject(\"storedColors\", colorsData);\r\n  });\r\n  let colors = reactLocalStorage.getObject(\"storedColors\");\r\n  reactLocalStorage.setObject(\"storedColors\", []);\r\n  console.log(\"colorssssssssss\");\r\n  console.log(colors);\r\n\r\n  return colors;\r\n};\r\n\r\nconst getSelectedSizePrice = (prod) => {\r\n  let rprice = 0;\r\n  let sprice = 0;\r\n  if (prod.SALES_PRICE) {\r\n    rprice = prod.REGULAR_PRICE;\r\n    sprice = prod.SALES_PRICE;\r\n    document.getElementById(\"rPrice\").innerHTML = \"<del>$\" + rprice + \"</del>\";\r\n    document.getElementById(\"sPrice\").innerHTML = \"$\" + sprice;\r\n    document.getElementById(\"sPrice\").classList.remove(\"d-none\");\r\n  } else {\r\n    rprice = prod.REGULAR_PRICE;\r\n    document.getElementById(\"rPrice\").innerHTML = \"$\" + rprice;\r\n    document.getElementById(\"sPrice\").classList.add(\"d-none\");\r\n  }\r\n};\r\n\r\nconst displayColorAsSelect = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorSelect = document.getElementById(\"color\");\r\n  colorSelect.innerHTML = \"\";\r\n\r\n  colorSelect.onchange = function (e) {\r\n    selectedProduct.selectedColor = e.target.value;\r\n    let attrStock = this.options[this.selectedIndex].getAttribute(\"data-stock\");\r\n    selectedProduct.colorImage = this.options[this.selectedIndex].getAttribute(\r\n      \"data-image\"\r\n    );\r\n\r\n    selectedProduct = actionOnStockStatus(\r\n      attrStock,\r\n      selectedProduct,\r\n      allowOutOfStock\r\n    );\r\n    selectedProduct.stock = parseInt(attrStock);\r\n\r\n    // alert(e.target.options[e.target.selectedIndex].dataset.stock);\r\n    if (e.target.value && e.target.value != \"Select a Color\") {\r\n      document.getElementById(\r\n        \"selected-color\"\r\n      ).innerHTML = `<strong> ${e.target.value}</strong>`;\r\n    } else {\r\n      document.getElementById(\"selected-color\").innerHTML = \"\";\r\n    }\r\n\r\n    // GET ALT IMAGES\r\n    if (altImagesData && altImagesData.length > 0) {\r\n      displayAltimages(e.target.value, altImagesData);\r\n    }\r\n\r\n    if (selectedProduct.selectedColor) {\r\n      document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n    }\r\n  };\r\n\r\n  let myOption = document.createElement(\"option\");\r\n\r\n  myOption.text = \"Select a Color\";\r\n  myOption.value = \"Select a Color\";\r\n  colorSelect.appendChild(myOption);\r\n  let customIndex = -1;\r\n  let altImagesData = [];\r\n  colorsData.color.map((colorValue) => {\r\n    customIndex++;\r\n    altImagesData.push({\r\n      color: colorValue,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n\r\n    let myOption = document.createElement(\"option\");\r\n    myOption.text = colorValue;\r\n    myOption.value = colorValue;\r\n    myOption.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n    myOption.setAttribute(\r\n      \"data-image\",\r\n      colorsData.colorSmallImage[customIndex]\r\n    );\r\n    colorSelect.appendChild(myOption);\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nexport const displayColorAsColor = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById(\"colorButtons\");\r\n  colorButtons.innerHTML = \"\";\r\n  let colorNameIndex = -1;\r\n  let customIndex = -1;\r\n  let altImagesData = [];\r\n\r\n  colorsData.colorCode.map((colorValue) => {\r\n    customIndex++;\r\n    colorNameIndex++;\r\n    let colorName = colorsData.color[colorNameIndex];\r\n\r\n    selectedProduct.colorImage =\r\n      prodImagesDir + colorsData.colorSmallImage[customIndex];\r\n\r\n    altImagesData.push({\r\n      color: colorName,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    if (!colorValue) {\r\n      button.setAttribute(\"value\", colorName);\r\n    } else {\r\n      // button.style.backgroundColor = colorValue + ' !important'\r\n      button.setAttribute(\r\n        \"style\",\r\n        `background-Color:${colorValue} !important;color:${colorValue} !important;`\r\n      );\r\n      button.setAttribute(\"value\", colorName);\r\n    }\r\n\r\n    button.setAttribute(\r\n      \"class\",\r\n      \"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\"\r\n    );\r\n    button.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n    button.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n    if (colorsData.colorStock[customIndex] <= 0) {\r\n      button.classList.add(\"disabled\");\r\n      button.innerHTML = \"<span></span>\" + colorValue;\r\n    } else {\r\n      button.innerHTML = colorValue;\r\n    }\r\n\r\n    button.onclick = function (e) {\r\n      if (e.target.classList.contains(\"selected\")) {\r\n        document.getElementById(\"selected-color\").innerHTML = \"\";\r\n        selectedProduct.selectedColor = \"\";\r\n        e.target.classList.remove(\"selected\");\r\n      } else {\r\n        try {\r\n          let colorBtnParent = document.getElementById(\"colorButtons\");\r\n          let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\r\n          for (var i = 0; i < allColorButtons.length; i++) {\r\n            allColorButtons[i].classList.remove(\"selected\");\r\n          }\r\n        } catch (err) {}\r\n\r\n        let attrStock = e.target.getAttribute(\"data-stock\");\r\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        );\r\n        selectedProduct.stock = parseInt(attrStock);\r\n\r\n        e.target.classList.add(\"selected\");\r\n        selectedProduct.selectedColor = e.target.value;\r\n        document.getElementById(\"selected-color\").innerHTML = e.target.value;\r\n      }\r\n\r\n      // GET ALT IMAGES\r\n      if (altImagesData && altImagesData.length > 0) {\r\n        displayAltimages(colorName, altImagesData);\r\n      }\r\n\r\n      if (selectedProduct.selectedColor) {\r\n        document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n      }\r\n    };\r\n    colorButtons.appendChild(button);\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst displayColorAsButtons = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById(\"colorButtons\");\r\n  colorButtons.innerHTML = \"\";\r\n  let customIndex = -1;\r\n  let altImagesData = [];\r\n  colorsData.color.map((colorValue) => {\r\n    customIndex++;\r\n\r\n    altImagesData.push({\r\n      color: colorValue,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.setAttribute(\"value\", colorValue);\r\n    button.setAttribute(\r\n      \"class\",\r\n      \"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\"\r\n    );\r\n    button.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n    button.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n    if (colorsData.colorStock[customIndex] <= 0) {\r\n      button.classList.add(\"disabled\");\r\n      button.innerHTML = \"<span></span>\" + colorValue;\r\n    } else {\r\n      button.innerHTML = colorValue;\r\n    }\r\n\r\n    button.onclick = function (e) {\r\n      if (e.target.classList.contains(\"selected\")) {\r\n        document.getElementById(\"selected-color\").innerHTML = \"\";\r\n        selectedProduct.selectedColor = \"\";\r\n        e.target.classList.remove(\"selected\");\r\n      } else {\r\n        try {\r\n          let colorBtnParent = document.getElementById(\"colorButtons\");\r\n          let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\r\n          for (var i = 0; i < allColorButtons.length; i++) {\r\n            allColorButtons[i].classList.remove(\"selected\");\r\n          }\r\n        } catch (err) {}\r\n\r\n        let attrStock = e.target.getAttribute(\"data-stock\");\r\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        );\r\n        selectedProduct.stock = parseInt(attrStock);\r\n\r\n        e.target.classList.add(\"selected\");\r\n        selectedProduct.selectedColor = e.target.value;\r\n        document.getElementById(\"selected-color\").innerHTML = e.target.value;\r\n      }\r\n\r\n      // GET ALT IMAGES\r\n      if (altImagesData && altImagesData.length > 0) {\r\n        displayAltimages(colorValue, altImagesData);\r\n      }\r\n\r\n      if (selectedProduct.selectedColor) {\r\n        document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n      }\r\n    };\r\n    colorButtons.appendChild(button);\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst displayColorAsImages = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById(\"colorImages\");\r\n  colorButtons.innerHTML = \"\";\r\n  let colorImages = document.getElementById(\"colorImages\");\r\n  colorImages.innerHTML = \"\";\r\n  let customIndex = -1;\r\n  let altImages = [];\r\n  let altImagesData = [];\r\n  colorsData.colorSmallImage.map((colorSmallImage) => {\r\n    customIndex++;\r\n\r\n    let colorName = colorsData.color[customIndex];\r\n    altImagesData.push({\r\n      color: colorName,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n    if (!colorSmallImage) {\r\n      //DISPLAY SIZE AS BUTTON IF COLOR IMAGE NOT AVAIABLE\r\n      selectedProduct = displaySizeImageAsButtons(\r\n        e,\r\n        selectedProduct,\r\n        colorsData,\r\n        allowOutOfStock,\r\n        customIndex,\r\n        colorName,\r\n        colorButtons,\r\n        altImagesData\r\n      );\r\n    } else {\r\n      let img = document.createElement(\"IMG\");\r\n      img.src = prodImagesDir + colorSmallImage;\r\n\r\n      img.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n      img.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n      img.setAttribute(\"width\", 50);\r\n      img.setAttribute(\"height\", 50);\r\n      img.classList.add(\"ml-2\");\r\n      img.setAttribute(\r\n        \"class\",\r\n        \"border-info p-1  bg-transparent mt-2 rounded \"\r\n      );\r\n      img.onclick = function (e) {\r\n        if (e.target.classList.contains(\"border-red\")) {\r\n          document.getElementById(\"selected-color\").innerHTML = \"\";\r\n          selectedProduct.selectedColor = \"\";\r\n          e.target.classList.remove(\"border-red\");\r\n\r\n          document.getElementById(\"stock-status\").innerHTML =\r\n            \"Select An Attribute\";\r\n\r\n          document.getElementById(\"AddToCart\").innerHTML = \"add to cart\";\r\n          document.getElementById(\"AddToCart\").disabled = false;\r\n\r\n          document\r\n            .getElementById(\"AddToCart\")\r\n            .setAttribute(\"data-bs-target\", \"#exampleModal\");\r\n\r\n          let altImagesContainer = document.getElementById(\"alt-images\");\r\n          altImagesContainer.innerHTML = \"\";\r\n        } else {\r\n          try {\r\n            let colorBtnParent = document.getElementById(\"colorImages\");\r\n            let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\r\n            for (var i = 0; i < allColorButtons.length; i++) {\r\n              allColorButtons[i].classList.remove(\"selected\");\r\n            }\r\n\r\n            let colorImagesParent = document.getElementById(\"colorImages\");\r\n            let allColorImages = colorImagesParent.getElementsByTagName(\"IMG\");\r\n            for (var i = 0; i < allColorImages.length; i++) {\r\n              allColorImages[i].classList.remove(\"border-red\");\r\n            }\r\n          } catch (err) {}\r\n\r\n          let attrStock = e.target.getAttribute(\"data-stock\");\r\n          selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n          selectedProduct = actionOnStockStatus(\r\n            attrStock,\r\n            selectedProduct,\r\n            allowOutOfStock\r\n          );\r\n          selectedProduct.stock = parseInt(attrStock);\r\n\r\n          e.target.classList.add(\"border-red\");\r\n          selectedProduct.selectedColor = colorName;\r\n          document.getElementById(\"selected-color\").innerHTML = colorName;\r\n          console.log(\"aaaaaaaaaaaaaaaaaaaaaa\");\r\n          console.log(altImagesData);\r\n          // GET ALT IMAGES\r\n\r\n          let selectedAltImages = altImagesData.find(\r\n            (altImage) => altImage.color == colorName\r\n          ).altImages;\r\n\r\n          if (Object.entries(selectedAltImages).length > 0) {\r\n            displayAltimages(colorName, altImagesData);\r\n          } else {\r\n            altImagesData.map((alt) => {\r\n              if (alt.color == colorName) {\r\n                alt.altImages.push(selectedProduct.colorImage);\r\n              }\r\n            });\r\n            displayAltimages(colorName, altImagesData);\r\n          }\r\n\r\n          if (selectedProduct.selectedColor) {\r\n            document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n          }\r\n        }\r\n      };\r\n      colorImages.appendChild(img);\r\n    }\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nexport const displayAltimages = (colorName, allAltImages) => {\r\n  let selectedAltImages = [];\r\n  selectedAltImages = allAltImages.find(\r\n    (altImage) => altImage.color == colorName\r\n  ).altImages;\r\n\r\n  let altImagesContainer = document.getElementById(\"alt-images\");\r\n  altImagesContainer.innerHTML = \"\";\r\n\r\n  if (Object.entries(selectedAltImages).length > 0) {\r\n    selectedAltImages.map((altImg) => {\r\n      let imgUrl = prodImagesDir + altImg;\r\n      let altAnchor = document.createElement(\"a\");\r\n\r\n      altAnchor.setAttribute(\"href\", imgUrl);\r\n      altAnchor.setAttribute(\"data-image\", imgUrl);\r\n      altAnchor.setAttribute(\"data-zoom-id\", \"zoomer\");\r\n      altAnchor.setAttribute(\"class\", \"mz-thumb\");\r\n\r\n      let resizedImage = CreateThumnailImage(altImg, imgUrl);\r\n      altAnchor.appendChild(resizedImage);\r\n      altImagesContainer.appendChild(altAnchor);\r\n    });\r\n  } else {\r\n    let mzLens = document.getElementsByClassName(\"mz-lens\")[0];\r\n    mzLens.getElementsByTagName(\"img\")[0].src = \"\";\r\n  }\r\n  MagicZoom.refresh();\r\n};\r\n\r\nvar CreateThumnailImage = function (imageName, currentImage) {\r\n  var myCan = document.createElement(\"canvas\");\r\n  let img = new Image();\r\n  img.setAttribute(\"crossorigin\", \"anonymous\"); // works for me\r\n\r\n  img.src = currentImage;\r\n  var nImg = document.createElement(\"img\");\r\n  img.onload = function () {\r\n    myCan.id = imageName;\r\n    var tsize = 64;\r\n    myCan.width = 80;\r\n    myCan.height = 95;\r\n\r\n    var cntxt = myCan.getContext(\"2d\");\r\n    cntxt.drawImage(img, 0, 0, myCan.width, myCan.height);\r\n    setTimeout(abc(myCan), 1000);\r\n\r\n    function abc(myCan) {\r\n      var dataURL = myCan.toDataURL();\r\n\r\n      nImg.src = dataURL;\r\n      nImg.setAttribute(\"name\", imageName);\r\n      nImg.setAttribute(\"data-url\", currentImage);\r\n      nImg.setAttribute(\"class\", \"img-fluid mr-1\");\r\n\r\n      nImg.onclick = () => {\r\n        let altContainer = document.getElementById(\"alt-images\");\r\n        let altChildren = altContainer.getElementsByTagName(\"img\");\r\n        try {\r\n          for (var i = 0; i < altChildren.length; i++) {\r\n            altChildren[i].classList.remove(\"mz-border\");\r\n          }\r\n        } catch (err) {}\r\n\r\n        let mzLens = document.getElementsByClassName(\"mz-lens\")[0];\r\n        mzLens.getElementsByTagName(\"img\")[0].src = currentImage;\r\n\r\n        nImg.setAttribute(\"class\", \"img-fluid mr-1 mz-border\");\r\n      };\r\n    }\r\n  };\r\n  return nImg;\r\n};\r\n\r\nconst displaySizeImageAsButtons = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock,\r\n  customIndex,\r\n  colorName,\r\n  colorButtons,\r\n  altImagesData\r\n) => {\r\n  let element;\r\n  let element_label = \"button\";\r\n  let element_labe2 = \"img\";\r\n\r\n  let wrapper = \"colorImages\";\r\n\r\n  element = document.createElement(element_label);\r\n  element.setAttribute(\"type\", element_label);\r\n  element.setAttribute(\"value\", colorName);\r\n  element.setAttribute(\"class\", element_label);\r\n  element.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n  element.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n  element.style.height = \"59px\";\r\n  element.style.width = \"59px\";\r\n\r\n  // element.style.border = 'solid 1px rgb(185 185 185)'\r\n  element.style.outline = \"none\";\r\n  element.innerHTML = colorName;\r\n  element.classList.add(\"ml-2\");\r\n\r\n  element.setAttribute(\r\n    \"class\",\r\n    \"border-info p-1  bg-transparent mt-2 rounded \"\r\n  );\r\n\r\n  //  button.classList.add('h-25')\r\n  element.onclick = function (e) {\r\n    if (e.target.classList.contains(\"selected\")) {\r\n      document.getElementById(\"selected-color\").innerHTML = \"\";\r\n      selectedProduct.selectedColor = \"\";\r\n      e.target.classList.remove(\"selected\");\r\n    } else {\r\n      try {\r\n        let colorBtnParent = document.getElementById(wrapper);\r\n        let allColorButtons = colorBtnParent.getElementsByTagName(\r\n          element_label\r\n        );\r\n        for (var i = 0; i < allColorButtons.length; i++) {\r\n          allColorButtons[i].classList.remove(\"selected\");\r\n        }\r\n\r\n        let attrStock = e.target.getAttribute(\"data-stock\");\r\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        );\r\n        selectedProduct.stock = parseInt(attrStock);\r\n\r\n        let colorImagesParent = document.getElementById(wrapper);\r\n        let allColorImages = colorImagesParent.getElementsByTagName(\r\n          element_labe2\r\n        );\r\n        for (var i = 0; i < allColorImages.length; i++) {\r\n          allColorImages[i].classList.remove(\"border-red\");\r\n        }\r\n      } catch (err) {}\r\n      e.target.classList.add(\"selected\");\r\n      selectedProduct.selectedColor = e.target.value;\r\n      document.getElementById(\"selected-color\").innerHTML = e.target.value;\r\n    }\r\n\r\n    // GET ALT IMAGES\r\n    if (altImagesData && altImagesData.length > 0)\r\n      displayAltimages(colorName, altImagesData);\r\n\r\n    if (selectedProduct.selectedColor) {\r\n      document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n    }\r\n  };\r\n  colorButtons.appendChild(element);\r\n  return selectedProduct;\r\n};\r\n\r\nexport const CartRelated = (product) => {\r\n  const [prods, setProds] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  let property = \"\";\r\n  useEffect(() => {\r\n    API.ApiProducts(\"\", \"\", \"dept\", product.DEPT, setProds, setLoading, \"\", \"\");\r\n  }, [product]);\r\n\r\n  let cartRelated = [];\r\n  cartRelated = prods.filter(\r\n    (prod) => prod.BRAND == product.BRAND && prod.STYLE_ID != product.STYLE_ID\r\n  );\r\n  if (!cartRelated || cartRelated.length < 1) cartRelated = [];\r\n  if (cartRelated.length > 4) {\r\n    cartRelated.length = 4;\r\n  }\r\n  return cartRelated;\r\n};\r\n\r\nexport const setRecentlyViewed = (product) => {\r\n  let recentlyViewedTemp = [];\r\n  let recentlyViewed = [];\r\n  recentlyViewedTemp = reactLocalStorage.getObject(\"recentlyViewed\");\r\n  //reactLocalStorage.clear(\"recentlyViewed\");\r\n  if (recentlyViewedTemp && recentlyViewedTemp.length > 0) {\r\n  } else {\r\n    recentlyViewedTemp = [];\r\n  }\r\n  let matched = false;\r\n  recentlyViewedTemp.map((item) => {\r\n    if (JSON.stringify(item) == JSON.stringify(product)) {\r\n      matched = true;\r\n    } else {\r\n    }\r\n  });\r\n\r\n  if (matched == true) {\r\n  } else {\r\n    recentlyViewedTemp.unshift(product);\r\n  }\r\n\r\n  recentlyViewedTemp.map((prod, index) => {\r\n    if (index < 6) {\r\n      recentlyViewed.push(prod);\r\n    }\r\n  });\r\n\r\n  reactLocalStorage.setObject(\"recentlyViewed\", [...recentlyViewed]);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}