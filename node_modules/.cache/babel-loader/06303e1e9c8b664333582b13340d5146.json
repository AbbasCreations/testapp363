{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useStateValue}from\"../StateProvider\";import{reactLocalStorage}from\"reactjs-localstorage\";import\"bootstrap/dist/css/bootstrap.min.css\";import*as snV from\"./sideNav/sideNavViews\";import*as cC from\"./category/categoryController\";import*as cV from\"./category/categoryViews\";import{useHistory}from\"react-router-dom\";import{useParams}from\"react-router\";export default function Category(){var url=\"\";var params=useParams();if(params){url=params.url;}var urlData=cC.getUrlTaxonomy(url);urlData.url=url;var filters={};var history=useHistory();var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,sFilters=_useStateValue2$.sFilters,products=_useStateValue2$.products,sortby=_useStateValue2$.sortby,dispatch=_useStateValue2[1];if(Object.keys(sFilters).length!=0){reactLocalStorage.setObject(\"storedFilters\",sFilters);}filters=reactLocalStorage.getObject(\"storedFilters\");filters[urlData.taxonomy]=urlData.category;var temProducts=[];var property=sortby;temProducts=cC.getProducts(filters,products,dispatch,property,url,urlData.taxonomy);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"contentHolder\",children:/*#__PURE__*/_jsx(\"div\",{id:\"category\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(BreadCrumbDisplay,{filters:filters,dispatch:dispatch,history:history,urlData:urlData}),/*#__PURE__*/_jsx(SideBarDisplay,{filters:filters,products:temProducts,url:url}),/*#__PURE__*/_jsx(CategoryProductArea,{dispatch:dispatch,filters:filters,products:temProducts,property:property})]})})})})});}var BreadCrumbDisplay=function BreadCrumbDisplay(props){var breadcrumbs=cC.getCategoryBreadCrumbs(props);return cV.BreadCrumbDisplay(breadcrumbs);};var SideBarDisplay=function SideBarDisplay(props){var sideNavContent=snV.SideBarViews(props);return sideNavContent;};var CategoryProductArea=function CategoryProductArea(props){var products=[];products=props.products;//HOOK FOR PERPAGE PRODUCTS\nvar _useState=useState(9),_useState2=_slicedToArray(_useState,2),perpageProductscount=_useState2[0],setPerpageProductscount=_useState2[1];//HOOK FOR ACTIVE PAGE\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),activePage=_useState4[0],setCurrentPage=_useState4[1];//GET CATEGORY TITLE\nvar categoryTile=cC.getCategoryTitle(props);//PRODUCTS PER PAGE\nvar productsPerPage=perpageProductscount;//GET PRODUCTS ACCORDING TO PAGINATION\nvar currentproducts=cC.pagination(products,productsPerPage,activePage).currentproducts;return/*#__PURE__*/_jsxs(_Fragment,{children:[cV.categotyProductsView(categoryTile,currentproducts,products,cC,setPerpageProductscount,props.dispatch,props.property),cV.paginationView(activePage,productsPerPage,products,cC,setCurrentPage)]});};","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/Category.js"],"names":["React","useState","useEffect","useStateValue","reactLocalStorage","snV","cC","cV","useHistory","useParams","Category","url","params","urlData","getUrlTaxonomy","filters","history","basket","sFilters","products","sortby","dispatch","Object","keys","length","setObject","getObject","taxonomy","category","temProducts","property","getProducts","BreadCrumbDisplay","props","breadcrumbs","getCategoryBreadCrumbs","SideBarDisplay","sideNavContent","SideBarViews","CategoryProductArea","perpageProductscount","setPerpageProductscount","activePage","setCurrentPage","categoryTile","getCategoryTitle","productsPerPage","currentproducts","pagination","categotyProductsView","paginationView"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport * as snV from \"./sideNav/sideNavViews\";\r\nimport * as cC from \"./category/categoryController\";\r\nimport * as cV from \"./category/categoryViews\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport default function Category() {\r\n  let url = \"\";\r\n  const params = useParams();\r\n  if (params) {\r\n    url = params.url;\r\n  }\r\n\r\n  let urlData = cC.getUrlTaxonomy(url);\r\n  urlData.url = url;\r\n\r\n  let filters = {};\r\n  let history = useHistory();\r\n  const [{ basket, sFilters, products, sortby }, dispatch] = useStateValue();\r\n\r\n  if (Object.keys(sFilters).length != 0) {\r\n    reactLocalStorage.setObject(\"storedFilters\", sFilters);\r\n  }\r\n\r\n  filters = reactLocalStorage.getObject(\"storedFilters\");\r\n  filters[urlData.taxonomy] = urlData.category;\r\n  let temProducts = [];\r\n  let property = sortby;\r\n\r\n  temProducts = cC.getProducts(\r\n    filters,\r\n    products,\r\n    dispatch,\r\n    property,\r\n    url,\r\n    urlData.taxonomy\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <section id=\"contentHolder\">\r\n        <div id=\"category\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <BreadCrumbDisplay\r\n                filters={filters}\r\n                dispatch={dispatch}\r\n                history={history}\r\n                urlData={urlData}\r\n              />\r\n              {\r\n                <SideBarDisplay\r\n                  filters={filters}\r\n                  products={temProducts}\r\n                  url={url}\r\n                />\r\n              }\r\n              <CategoryProductArea\r\n                dispatch={dispatch}\r\n                filters={filters}\r\n                products={temProducts}\r\n                property={property}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </React.Fragment>\r\n  );\r\n}\r\nconst BreadCrumbDisplay = (props) => {\r\n  let breadcrumbs = cC.getCategoryBreadCrumbs(props);\r\n  return cV.BreadCrumbDisplay(breadcrumbs);\r\n};\r\nconst SideBarDisplay = (props) => {\r\n  let sideNavContent = snV.SideBarViews(props);\r\n  return sideNavContent;\r\n};\r\nconst CategoryProductArea = (props) => {\r\n  let products = [];\r\n  products = props.products;\r\n  //HOOK FOR PERPAGE PRODUCTS\r\n  const [perpageProductscount, setPerpageProductscount] = useState(9);\r\n\r\n  //HOOK FOR ACTIVE PAGE\r\n  const [activePage, setCurrentPage] = useState(1);\r\n\r\n  //GET CATEGORY TITLE\r\n  let categoryTile = cC.getCategoryTitle(props);\r\n\r\n  //PRODUCTS PER PAGE\r\n  let productsPerPage = perpageProductscount;\r\n\r\n  //GET PRODUCTS ACCORDING TO PAGINATION\r\n  let currentproducts = cC.pagination(products, productsPerPage, activePage)\r\n    .currentproducts;\r\n\r\n  return (\r\n    <>\r\n      {cV.categotyProductsView(\r\n        categoryTile,\r\n        currentproducts,\r\n        products,\r\n        cC,\r\n        setPerpageProductscount,\r\n        props.dispatch,\r\n        props.property\r\n      )}\r\n      {cV.paginationView(\r\n        activePage,\r\n        productsPerPage,\r\n        products,\r\n        cC,\r\n        setCurrentPage\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}