{"ast":null,"code":"import _toConsumableArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import*as Data from\"../../Data\";import*as hC from\"../header/headerController\";import{prodImagesDir}from\"../../settings\";import{Link}from\"react-router-dom\";export var getProducts=function getProducts(filters,products,dispatch,property,url,taxonomy){var getProducts=[];var selectedProducts=[];var allProducts=Data.allProducts;var i=-1;if(url==\"all-products\"){filters[\"all-products\"]=\"all-products\";}if(taxonomy==\"subTyp_2\"){getProducts=allProducts.filter(function(prod){return prod.subTyp_2==url&&prod.subTyp_3==\"Empty\"&&prod.subTyp_2!=\"Empty\";});}else if(taxonomy==\"subTyp_1\"){getProducts=allProducts.filter(function(prod){return prod.subTyp_1==url&&prod.subTyp_2==\"Empty\"&&prod.subTyp_1!=\"Empty\";});}else if(taxonomy==\"typ\"){getProducts=allProducts.filter(function(prod){return prod.typ==url&&prod.subTyp_1==\"Empty\"&&prod.typ!=\"Empty\";});}else if(taxonomy==\"dept\"){getProducts=allProducts.filter(function(prod){return prod.dept==url&&prod.typ==\"Empty\"&&prod.dept!=\"Empty\";});}else if(url==\"all-products\"){getProducts=[];getProducts=allProducts;}else{getProducts=[];}if(Object.entries(filters).length!==0){//Load products by seleted color filters\nif(filters.color){getProducts=productsBySelectedColors(filters,getProducts);}//Load products by seleted brand filters\nif(filters.brand){getProducts=productsBySelectedBrands(filters,getProducts);}//Load products by seleted size filters\nif(filters.size){getProducts=productsBySelectedSize(filters,getProducts);}//Load products by seleted price Ranges filters\nif(filters.priceRange){getProducts=productsBySelectedPriceRanges(filters,getProducts);}}else{}if(property==\"default\"){}else{getProducts=SortProducts(property,getProducts,dispatch);}if(JSON.stringify(products)==JSON.stringify(getProducts)){}else{dispatch({type:\"ADD_PRODUCTS\",productsItems:getProducts});}return products;};var productsBySelectedColors=function productsBySelectedColors(filters,getProducts){var selectedProducts=[];if(getProducts){getProducts.map(function(prods){if(prods.gener==\"simple\"){/* prods.color.map((clr) => {\r\n          if (filters.color.includes(clr)) {\r\n            if (selectedProducts.includes(prods)) {\r\n            } else {\r\n              selectedProducts.push(prods)\r\n            }\r\n          }\r\n        })*/}else{prods.variants.map(function(vproduct){vproduct.color.map(function(clr){if(filters.color.includes(clr.name)){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}});});}});}else{selectedProducts=[];}return selectedProducts;};var productsBySelectedBrands=function productsBySelectedBrands(filters,getProducts){var selectedProducts=[];if(getProducts){getProducts.map(function(prods){if(prods.brand==filters.brand){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}});}else{selectedProducts=[];}return selectedProducts;};var productsBySelectedSize=function productsBySelectedSize(filters,getProducts){var selectedProducts=[];if(getProducts){getProducts.map(function(prods){if(prods.gener==\"simple\"){/* prods.color.map((clr) => {\r\n           if (filters.color.includes(clr)) {\r\n             if (selectedProducts.includes(prods)) {\r\n             } else {\r\n               selectedProducts.push(prods)\r\n             }\r\n           }\r\n         })*/}else{prods.variants.map(function(vproduct){if(filters.size.includes(vproduct.size)){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}});}});}else{selectedProducts=[];}return selectedProducts;};var productsBySelectedPriceRanges=function productsBySelectedPriceRanges(filters,getProducts){var selectedProducts=[];var lower;var upper;if(filters.priceRange==\"below $50\"){lower=0;upper=50;}else if(filters.priceRange==\"$51-$100\"){lower=51;upper=100;}else if(filters.priceRange==\"$101-$150\"){lower=101;upper=150;}else if(filters.priceRange==\"$151-$200\"){lower=151;upper=200;}else if(filters.priceRange==\"$201-$250\"){lower=201;upper=250;}else if(filters.priceRange==\"above $250\"){lower=251;upper=9999999999999;}if(filters.priceRange){if(getProducts){getProducts.map(function(prods){if(prods.gener==\"simple\"){if(prods.sales_price){if(prods.sales_price>=lower&&prods.sales_price<=upper){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}}else{if(prods.regular_price>=lower&&prods.regular_price<=upper){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}}}else{prods.variants.map(function(vproduct){if(vproduct.sales_price){if(vproduct.sales_price>=lower&&vproduct.sales_price<=upper){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}}else{if(vproduct.regular_price>=lower&&vproduct.regular_price<=upper){if(selectedProducts.includes(prods)){}else{selectedProducts.push(prods);}}}});}});}else{selectedProducts=[];}}return selectedProducts;};export var getCategoryTitle=function getCategoryTitle(props){var categoryHeading=\"\";if(props.filters.subTyp_3){categoryHeading=props.filters.subTyp_3;}else if(props.filters.subTyp_2){categoryHeading=props.filters.subTyp_2;}else if(props.filters.subTyp_1){categoryHeading=props.filters.subTyp_1;}else if(props.filters.typ){categoryHeading=props.filters.typ;}else if(props.filters.dept){categoryHeading=props.filters.dept;}else if(props.filters.brand){categoryHeading=props.filters.brand;}else if(props.filters.allproducts){categoryHeading=props.filters.allproducts;}else{}return categoryHeading;};export var pagination=function pagination(products,productsPerPage,activePage){var pagination={};// Logic for displaying current products\nvar indexOfLastProduct=activePage*productsPerPage;var indexOfFirstProduct=indexOfLastProduct-productsPerPage;var currentproducts=products.slice(indexOfFirstProduct,indexOfLastProduct);pagination.currentproducts=currentproducts;return pagination;};export var handlePageChange=function handlePageChange(setCurrentPage,e){setCurrentPage(e);};export var handleChangePerPage=function handleChangePerPage(setPerpageProductscount,e){var value=e.target.value;setPerpageProductscount(value);};export var getCategoryBreadCrumbs=function getCategoryBreadCrumbs(props){var breadcrumbs=[];var breadcrumbsContent=[];if(props.urlData.taxonomy==\"dept\"){breadcrumbs.push({item:props.urlData.category,url:props.urlData.url,taxonomy:\"dept\",redirectUrl:\"dept_Url\"});}else if(props.urlData.taxonomy==\"typ\"){var dept=\"\";var dept_Url=\"\";Data.taxonomy.map(function(categories){if(categories.typ==props.urlData.category&&categories.url==props.urlData.url&&categories.subTyp_1==\"Empty\"){dept=categories.dept;Data.taxonomy.map(function(cat){if(cat.dept==dept&&cat.typ==\"Empty\"){dept_Url=cat.url;}});}});breadcrumbs.push({item:dept,url:dept_Url,taxonomy:\"dept\",redirectUrl:\"dept_Url\"},{item:props.urlData.category,url:props.urlData.url,taxonomy:\"typ\",redirectUrl:\"typ_Url\"});}else if(props.urlData.taxonomy==\"subTyp_1\"){var _dept=\"\";var _dept_Url=\"\";var typ=\"\";var typ_Url=\"\";Data.taxonomy.map(function(categories){if(categories.subTyp_1==props.urlData.category&&categories.url==props.urlData.url&&categories.subTyp_2==\"Empty\"){_dept=categories.dept;typ=categories.typ;Data.taxonomy.map(function(cat){if(cat.dept==_dept&&cat.typ==\"Empty\"){_dept_Url=cat.url;}});Data.taxonomy.map(function(cat){if(cat.dept==_dept&&cat.typ==typ&&cat.subTyp_1==\"Empty\"){typ_Url=cat.url;}});}});breadcrumbs.push({item:_dept,url:_dept_Url,taxonomy:\"dept\",redirectUrl:\"dept_Url\"},{item:typ,url:typ_Url,taxonomy:\"typ\",redirectUrl:\"typ_Url\"},{item:props.urlData.category,url:props.urlData.url,taxonomy:\"subTyp_1\",redirectUrl:\"subTyp_1_Url\"});}else if(props.urlData.url==\"all-products\"){breadcrumbs.push({item:\"All Products\",url:\"all-products\",taxonomy:\"All Products\",redirectUrl:\"\"});}breadcrumbsContent.push(/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-dark text-decoration-none\",children:\"Home\"})}));var i=-1;var _loop=function _loop(){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];i++;if(i==breadcrumbs.length-1){breadcrumbsContent.push(/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:value.item}));}else{breadcrumbsContent.push(/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"\",className:\"text-dark text-decoration-none\",onClick:function onClick(e){var dispatchedData={};dispatchedData={taxonomy:value.taxonomy,redirectUrl:value.redirectUrl,taxonomyValue:value.item,taxonomyUrl:value.url};hC.addFilters(e,dispatchedData,props.dispatch,props.history);},children:value.item})}));}};for(var _i=0,_Object$entries=Object.entries(breadcrumbs);_i<_Object$entries.length;_i++){_loop();}return breadcrumbsContent;};var SortProducts=function SortProducts(property,products,dispatch){var tempProducts=[];var Sorting={value:\"default\",order:\"ASC\"};if(property==\"name(a-z)\"){Sorting={value:\"name\",order:\"ASC\"};}else if(property==\"name(z-a)\"){Sorting={value:\"name\",order:\"DESC\"};}else if(property==\"featuredASC\"){Sorting={value:\"featured\",order:\"ASC\"};}else if(property==\"price-high-to-low\"){Sorting={value:\"regular_price\",order:\"DESC\"};}else if(property==\"price-low-to-high\"){Sorting={value:\"regular_price\",order:\"ASC\"};}else{Sorting={value:\"default\",order:\"ASC\"};}tempProducts=products.sort(SortProcess(Sorting));return tempProducts;};var SortProcess=function SortProcess(sorting){var property=\"default\";var order=\"ASC\";property=sorting.value;order=sorting.order;var sortOrder=1;if(property[0]===\"-\"){sortOrder=-1;property=property.substr(1);}return function(a,b){/* next line works with strings and numbers,\r\n     * and you may want to customize it to your needs\r\n     */if(order==\"ASC\"){var result=a[property]<b[property]?-1:a[property]>b[property]?1:0;}else{var result=a[property]>b[property]?-1:a[property]<b[property]?1:0;}return result*sortOrder;};};export var getUrlTaxonomy=function getUrlTaxonomy(url){var categoryData={};Data.taxonomy.map(function(categories){if(url==categories.url&&categories.subTyp_3!=\"Empty\"&&categories.subTyp_4==\"Empty\"){categoryData={taxonomy:\"subTyp_3\",category:categories.subTyp_3};}else if(url==categories.url&&categories.subTyp_2!=\"Empty\"&&categories.subTyp_3==\"Empty\"){categoryData={taxonomy:\"subTyp_2\",category:categories.subTyp_2};}else if(url==categories.url&&categories.subTyp_1!=\"Empty\"&&categories.subTyp_2==\"Empty\"){categoryData={taxonomy:\"subTyp_1\",category:categories.subTyp_1};}else if(url==categories.url&&categories.typ!=\"Empty\"&&categories.subTyp_1==\"Empty\"){categoryData={taxonomy:\"typ\",category:categories.typ};}else if(url==categories.url&&categories.dept!=\"Empty\"&&categories.typ==\"Empty\"){categoryData={taxonomy:\"dept\",category:categories.dept};}else{}});return categoryData;};export var getColorAttrOnThumbs=function getColorAttrOnThumbs(colorOrImages,id){var results={};var colorImages=[];var colorCode=[];var content=\"\";var product=Data.allProducts.find(function(prod){return prod.style_id==id;});if(product&&product.gener!=\"simple\"){if(colorOrImages==\"images\"){colorImages=getThumbColorImages(product);results={name:\"image\",data:_toConsumableArray(colorImages)};}else if(colorOrImages==\"color\"){colorCode=getThumbColorcode(product);colorImages=getThumbColorImages(product);results={name:\"colorCode\",data:_toConsumableArray(colorCode),images:_toConsumableArray(colorImages)};}else{results={};}}else{results={};}return results;};var getThumbColorImages=function getThumbColorImages(product){var smallColorImages=[];var imageUrl=\"\";product.variants.map(function(vProduct){vProduct.color.map(function(color){if(color.colorSmallImage&&color.colorSmallImage!=\"\"){imageUrl=prodImagesDir+color.colorSmallImage;smallColorImages.push(imageUrl);}});});return smallColorImages;};var getThumbColorcode=function getThumbColorcode(product){var colorCode=[];product.variants.map(function(vProduct){vProduct.color.map(function(color){colorCode.push(color.colorCode);});});return colorCode;};","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/category/categoryController.js"],"names":["Data","hC","prodImagesDir","Link","getProducts","filters","products","dispatch","property","url","taxonomy","selectedProducts","allProducts","i","filter","prod","subTyp_2","subTyp_3","subTyp_1","typ","dept","Object","entries","length","color","productsBySelectedColors","brand","productsBySelectedBrands","size","productsBySelectedSize","priceRange","productsBySelectedPriceRanges","SortProducts","JSON","stringify","type","productsItems","map","prods","gener","variants","vproduct","clr","includes","name","push","lower","upper","sales_price","regular_price","getCategoryTitle","props","categoryHeading","allproducts","pagination","productsPerPage","activePage","indexOfLastProduct","indexOfFirstProduct","currentproducts","slice","handlePageChange","setCurrentPage","e","handleChangePerPage","setPerpageProductscount","value","target","getCategoryBreadCrumbs","breadcrumbs","breadcrumbsContent","urlData","item","category","redirectUrl","dept_Url","categories","cat","typ_Url","key","dispatchedData","taxonomyValue","taxonomyUrl","addFilters","history","tempProducts","Sorting","order","sort","SortProcess","sorting","sortOrder","substr","a","b","result","getUrlTaxonomy","categoryData","subTyp_4","getColorAttrOnThumbs","colorOrImages","id","results","colorImages","colorCode","content","product","find","style_id","getThumbColorImages","data","getThumbColorcode","images","smallColorImages","imageUrl","vProduct","colorSmallImage"],"mappings":"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","sourcesContent":["import * as Data from \"../../Data\";\r\nimport * as hC from \"../header/headerController\";\r\nimport { prodImagesDir } from \"../../settings\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const getProducts = (\r\n  filters,\r\n  products,\r\n  dispatch,\r\n  property,\r\n  url,\r\n  taxonomy\r\n) => {\r\n  let getProducts = [];\r\n  let selectedProducts = [];\r\n  let allProducts = Data.allProducts;\r\n  let i = -1;\r\n\r\n  if (url == \"all-products\") {\r\n    filters[\"all-products\"] = \"all-products\";\r\n  }\r\n\r\n  if (taxonomy == \"subTyp_2\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) =>\r\n        prod.subTyp_2 == url &&\r\n        prod.subTyp_3 == \"Empty\" &&\r\n        prod.subTyp_2 != \"Empty\"\r\n    );\r\n  } else if (taxonomy == \"subTyp_1\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) =>\r\n        prod.subTyp_1 == url &&\r\n        prod.subTyp_2 == \"Empty\" &&\r\n        prod.subTyp_1 != \"Empty\"\r\n    );\r\n  } else if (taxonomy == \"typ\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) =>\r\n        prod.typ == url && prod.subTyp_1 == \"Empty\" && prod.typ != \"Empty\"\r\n    );\r\n  } else if (taxonomy == \"dept\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) => prod.dept == url && prod.typ == \"Empty\" && prod.dept != \"Empty\"\r\n    );\r\n  } else if (url == \"all-products\") {\r\n    getProducts = [];\r\n    getProducts = allProducts;\r\n  } else {\r\n    getProducts = [];\r\n  }\r\n  if (Object.entries(filters).length !== 0) {\r\n    //Load products by seleted color filters\r\n    if (filters.color) {\r\n      getProducts = productsBySelectedColors(filters, getProducts);\r\n    }\r\n\r\n    //Load products by seleted brand filters\r\n    if (filters.brand) {\r\n      getProducts = productsBySelectedBrands(filters, getProducts);\r\n    }\r\n\r\n    //Load products by seleted size filters\r\n    if (filters.size) {\r\n      getProducts = productsBySelectedSize(filters, getProducts);\r\n    }\r\n\r\n    //Load products by seleted price Ranges filters\r\n    if (filters.priceRange) {\r\n      getProducts = productsBySelectedPriceRanges(filters, getProducts);\r\n    }\r\n  } else {\r\n  }\r\n\r\n  if (property == \"default\") {\r\n  } else {\r\n    getProducts = SortProducts(property, getProducts, dispatch);\r\n  }\r\n\r\n  if (JSON.stringify(products) == JSON.stringify(getProducts)) {\r\n  } else {\r\n    dispatch({\r\n      type: \"ADD_PRODUCTS\",\r\n      productsItems: getProducts,\r\n    });\r\n  }\r\n  return products;\r\n};\r\n\r\nconst productsBySelectedColors = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.gener == \"simple\") {\r\n        /* prods.color.map((clr) => {\r\n          if (filters.color.includes(clr)) {\r\n            if (selectedProducts.includes(prods)) {\r\n            } else {\r\n              selectedProducts.push(prods)\r\n            }\r\n          }\r\n        })*/\r\n      } else {\r\n        prods.variants.map((vproduct) => {\r\n          vproduct.color.map((clr) => {\r\n            if (filters.color.includes(clr.name)) {\r\n              if (selectedProducts.includes(prods)) {\r\n              } else {\r\n                selectedProducts.push(prods);\r\n              }\r\n            }\r\n          });\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nconst productsBySelectedBrands = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.brand == filters.brand) {\r\n        if (selectedProducts.includes(prods)) {\r\n        } else {\r\n          selectedProducts.push(prods);\r\n        }\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nconst productsBySelectedSize = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.gener == \"simple\") {\r\n        /* prods.color.map((clr) => {\r\n           if (filters.color.includes(clr)) {\r\n             if (selectedProducts.includes(prods)) {\r\n             } else {\r\n               selectedProducts.push(prods)\r\n             }\r\n           }\r\n         })*/\r\n      } else {\r\n        prods.variants.map((vproduct) => {\r\n          if (filters.size.includes(vproduct.size)) {\r\n            if (selectedProducts.includes(prods)) {\r\n            } else {\r\n              selectedProducts.push(prods);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nconst productsBySelectedPriceRanges = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n  let lower;\r\n  let upper;\r\n  if (filters.priceRange == \"below $50\") {\r\n    lower = 0;\r\n    upper = 50;\r\n  } else if (filters.priceRange == \"$51-$100\") {\r\n    lower = 51;\r\n    upper = 100;\r\n  } else if (filters.priceRange == \"$101-$150\") {\r\n    lower = 101;\r\n    upper = 150;\r\n  } else if (filters.priceRange == \"$151-$200\") {\r\n    lower = 151;\r\n    upper = 200;\r\n  } else if (filters.priceRange == \"$201-$250\") {\r\n    lower = 201;\r\n    upper = 250;\r\n  } else if (filters.priceRange == \"above $250\") {\r\n    lower = 251;\r\n    upper = 9999999999999;\r\n  }\r\n\r\n  if (filters.priceRange) {\r\n    if (getProducts) {\r\n      getProducts.map((prods) => {\r\n        if (prods.gener == \"simple\") {\r\n          if (prods.sales_price) {\r\n            if (prods.sales_price >= lower && prods.sales_price <= upper) {\r\n              if (selectedProducts.includes(prods)) {\r\n              } else {\r\n                selectedProducts.push(prods);\r\n              }\r\n            }\r\n          } else {\r\n            if (prods.regular_price >= lower && prods.regular_price <= upper) {\r\n              if (selectedProducts.includes(prods)) {\r\n              } else {\r\n                selectedProducts.push(prods);\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          prods.variants.map((vproduct) => {\r\n            if (vproduct.sales_price) {\r\n              if (\r\n                vproduct.sales_price >= lower &&\r\n                vproduct.sales_price <= upper\r\n              ) {\r\n                if (selectedProducts.includes(prods)) {\r\n                } else {\r\n                  selectedProducts.push(prods);\r\n                }\r\n              }\r\n            } else {\r\n              if (\r\n                vproduct.regular_price >= lower &&\r\n                vproduct.regular_price <= upper\r\n              ) {\r\n                if (selectedProducts.includes(prods)) {\r\n                } else {\r\n                  selectedProducts.push(prods);\r\n                }\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      selectedProducts = [];\r\n    }\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nexport const getCategoryTitle = (props) => {\r\n  let categoryHeading = \"\";\r\n  if (props.filters.subTyp_3) {\r\n    categoryHeading = props.filters.subTyp_3;\r\n  } else if (props.filters.subTyp_2) {\r\n    categoryHeading = props.filters.subTyp_2;\r\n  } else if (props.filters.subTyp_1) {\r\n    categoryHeading = props.filters.subTyp_1;\r\n  } else if (props.filters.typ) {\r\n    categoryHeading = props.filters.typ;\r\n  } else if (props.filters.dept) {\r\n    categoryHeading = props.filters.dept;\r\n  } else if (props.filters.brand) {\r\n    categoryHeading = props.filters.brand;\r\n  } else if (props.filters.allproducts) {\r\n    categoryHeading = props.filters.allproducts;\r\n  } else {\r\n  }\r\n\r\n  return categoryHeading;\r\n};\r\n\r\nexport const pagination = (products, productsPerPage, activePage) => {\r\n  let pagination = {};\r\n  // Logic for displaying current products\r\n  const indexOfLastProduct = activePage * productsPerPage;\r\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\r\n  const currentproducts = products.slice(\r\n    indexOfFirstProduct,\r\n    indexOfLastProduct\r\n  );\r\n  pagination.currentproducts = currentproducts;\r\n  return pagination;\r\n};\r\n\r\nexport const handlePageChange = (setCurrentPage, e) => {\r\n  setCurrentPage(e);\r\n};\r\n\r\nexport const handleChangePerPage = (setPerpageProductscount, e) => {\r\n  let value = e.target.value;\r\n  setPerpageProductscount(value);\r\n};\r\n\r\nexport const getCategoryBreadCrumbs = (props) => {\r\n  let breadcrumbs = [];\r\n  let breadcrumbsContent = [];\r\n\r\n  if (props.urlData.taxonomy == \"dept\") {\r\n    breadcrumbs.push({\r\n      item: props.urlData.category,\r\n      url: props.urlData.url,\r\n      taxonomy: \"dept\",\r\n      redirectUrl: \"dept_Url\",\r\n    });\r\n  } else if (props.urlData.taxonomy == \"typ\") {\r\n    let dept = \"\";\r\n    let dept_Url = \"\";\r\n    Data.taxonomy.map((categories) => {\r\n      if (\r\n        categories.typ == props.urlData.category &&\r\n        categories.url == props.urlData.url &&\r\n        categories.subTyp_1 == \"Empty\"\r\n      ) {\r\n        dept = categories.dept;\r\n\r\n        Data.taxonomy.map((cat) => {\r\n          if (cat.dept == dept && cat.typ == \"Empty\") {\r\n            dept_Url = cat.url;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    breadcrumbs.push(\r\n      {\r\n        item: dept,\r\n        url: dept_Url,\r\n        taxonomy: \"dept\",\r\n        redirectUrl: \"dept_Url\",\r\n      },\r\n      {\r\n        item: props.urlData.category,\r\n        url: props.urlData.url,\r\n        taxonomy: \"typ\",\r\n        redirectUrl: \"typ_Url\",\r\n      }\r\n    );\r\n  } else if (props.urlData.taxonomy == \"subTyp_1\") {\r\n    let dept = \"\";\r\n    let dept_Url = \"\";\r\n\r\n    let typ = \"\";\r\n    let typ_Url = \"\";\r\n\r\n    Data.taxonomy.map((categories) => {\r\n      if (\r\n        categories.subTyp_1 == props.urlData.category &&\r\n        categories.url == props.urlData.url &&\r\n        categories.subTyp_2 == \"Empty\"\r\n      ) {\r\n        dept = categories.dept;\r\n        typ = categories.typ;\r\n        Data.taxonomy.map((cat) => {\r\n          if (cat.dept == dept && cat.typ == \"Empty\") {\r\n            dept_Url = cat.url;\r\n          }\r\n        });\r\n\r\n        Data.taxonomy.map((cat) => {\r\n          if (cat.dept == dept && cat.typ == typ && cat.subTyp_1 == \"Empty\") {\r\n            typ_Url = cat.url;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    breadcrumbs.push(\r\n      {\r\n        item: dept,\r\n        url: dept_Url,\r\n        taxonomy: \"dept\",\r\n        redirectUrl: \"dept_Url\",\r\n      },\r\n      {\r\n        item: typ,\r\n        url: typ_Url,\r\n        taxonomy: \"typ\",\r\n        redirectUrl: \"typ_Url\",\r\n      },\r\n\r\n      {\r\n        item: props.urlData.category,\r\n        url: props.urlData.url,\r\n        taxonomy: \"subTyp_1\",\r\n        redirectUrl: \"subTyp_1_Url\",\r\n      }\r\n    );\r\n  } else if (props.urlData.url == \"all-products\") {\r\n    breadcrumbs.push({\r\n      item: \"All Products\",\r\n      url: \"all-products\",\r\n      taxonomy: \"All Products\",\r\n      redirectUrl: \"\",\r\n    });\r\n  }\r\n\r\n  breadcrumbsContent.push(\r\n    <li className=\"breadcrumb-item\">\r\n      <Link to=\"/\" className=\"text-dark text-decoration-none\">\r\n        Home\r\n      </Link>\r\n    </li>\r\n  );\r\n\r\n  let i = -1;\r\n  for (const [key, value] of Object.entries(breadcrumbs)) {\r\n    i++;\r\n\r\n    if (i == breadcrumbs.length - 1) {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n          {value.item}\r\n        </li>\r\n      );\r\n    } else {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item\">\r\n          <Link\r\n            to=\"\"\r\n            className=\"text-dark text-decoration-none\"\r\n            onClick={(e) => {\r\n              let dispatchedData = {};\r\n\r\n              dispatchedData = {\r\n                taxonomy: value.taxonomy,\r\n                redirectUrl: value.redirectUrl,\r\n                taxonomyValue: value.item,\r\n                taxonomyUrl: value.url,\r\n              };\r\n              hC.addFilters(e, dispatchedData, props.dispatch, props.history);\r\n            }}\r\n          >\r\n            {value.item}\r\n          </Link>\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n\r\n  return breadcrumbsContent;\r\n};\r\nconst SortProducts = (property, products, dispatch) => {\r\n  let tempProducts = [];\r\n  let Sorting = { value: \"default\", order: \"ASC\" };\r\n\r\n  if (property == \"name(a-z)\") {\r\n    Sorting = { value: \"name\", order: \"ASC\" };\r\n  } else if (property == \"name(z-a)\") {\r\n    Sorting = { value: \"name\", order: \"DESC\" };\r\n  } else if (property == \"featuredASC\") {\r\n    Sorting = { value: \"featured\", order: \"ASC\" };\r\n  } else if (property == \"price-high-to-low\") {\r\n    Sorting = { value: \"regular_price\", order: \"DESC\" };\r\n  } else if (property == \"price-low-to-high\") {\r\n    Sorting = { value: \"regular_price\", order: \"ASC\" };\r\n  } else {\r\n    Sorting = { value: \"default\", order: \"ASC\" };\r\n  }\r\n\r\n  tempProducts = products.sort(SortProcess(Sorting));\r\n\r\n  return tempProducts;\r\n};\r\nconst SortProcess = (sorting) => {\r\n  let property = \"default\";\r\n  let order = \"ASC\";\r\n  property = sorting.value;\r\n  order = sorting.order;\r\n\r\n  var sortOrder = 1;\r\n  if (property[0] === \"-\") {\r\n    sortOrder = -1;\r\n    property = property.substr(1);\r\n  }\r\n  return function (a, b) {\r\n    /* next line works with strings and numbers,\r\n     * and you may want to customize it to your needs\r\n     */\r\n    if (order == \"ASC\") {\r\n      var result =\r\n        a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\r\n    } else {\r\n      var result =\r\n        a[property] > b[property] ? -1 : a[property] < b[property] ? 1 : 0;\r\n    }\r\n    return result * sortOrder;\r\n  };\r\n};\r\n\r\nexport const getUrlTaxonomy = (url) => {\r\n  let categoryData = {};\r\n\r\n  Data.taxonomy.map((categories) => {\r\n    if (\r\n      url == categories.url &&\r\n      categories.subTyp_3 != \"Empty\" &&\r\n      categories.subTyp_4 == \"Empty\"\r\n    ) {\r\n      categoryData = { taxonomy: \"subTyp_3\", category: categories.subTyp_3 };\r\n    } else if (\r\n      url == categories.url &&\r\n      categories.subTyp_2 != \"Empty\" &&\r\n      categories.subTyp_3 == \"Empty\"\r\n    ) {\r\n      categoryData = { taxonomy: \"subTyp_2\", category: categories.subTyp_2 };\r\n    } else if (\r\n      url == categories.url &&\r\n      categories.subTyp_1 != \"Empty\" &&\r\n      categories.subTyp_2 == \"Empty\"\r\n    ) {\r\n      categoryData = { taxonomy: \"subTyp_1\", category: categories.subTyp_1 };\r\n    } else if (\r\n      url == categories.url &&\r\n      categories.typ != \"Empty\" &&\r\n      categories.subTyp_1 == \"Empty\"\r\n    ) {\r\n      categoryData = { taxonomy: \"typ\", category: categories.typ };\r\n    } else if (\r\n      url == categories.url &&\r\n      categories.dept != \"Empty\" &&\r\n      categories.typ == \"Empty\"\r\n    ) {\r\n      categoryData = { taxonomy: \"dept\", category: categories.dept };\r\n    } else {\r\n    }\r\n  });\r\n  return categoryData;\r\n};\r\n\r\nexport const getColorAttrOnThumbs = (colorOrImages, id) => {\r\n  let results = {};\r\n  let colorImages = [];\r\n  let colorCode = [];\r\n  let content = \"\";\r\n  let product = Data.allProducts.find((prod) => prod.style_id == id);\r\n\r\n  if (product && product.gener != \"simple\") {\r\n    if (colorOrImages == \"images\") {\r\n      colorImages = getThumbColorImages(product);\r\n      results = { name: \"image\", data: [...colorImages] };\r\n    } else if (colorOrImages == \"color\") {\r\n      colorCode = getThumbColorcode(product);\r\n      colorImages = getThumbColorImages(product);\r\n      results = {\r\n        name: \"colorCode\",\r\n        data: [...colorCode],\r\n        images: [...colorImages],\r\n      };\r\n    } else {\r\n      results = {};\r\n    }\r\n  } else {\r\n    results = {};\r\n  }\r\n\r\n  return results;\r\n};\r\nconst getThumbColorImages = (product) => {\r\n  let smallColorImages = [];\r\n  let imageUrl = \"\";\r\n  product.variants.map((vProduct) => {\r\n    vProduct.color.map((color) => {\r\n      if (color.colorSmallImage && color.colorSmallImage != \"\") {\r\n        imageUrl = prodImagesDir + color.colorSmallImage;\r\n        smallColorImages.push(imageUrl);\r\n      }\r\n    });\r\n  });\r\n\r\n  return smallColorImages;\r\n};\r\n\r\nconst getThumbColorcode = (product) => {\r\n  let colorCode = [];\r\n\r\n  product.variants.map((vProduct) => {\r\n    vProduct.color.map((color) => {\r\n      colorCode.push(color.colorCode);\r\n    });\r\n  });\r\n\r\n  return colorCode;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}