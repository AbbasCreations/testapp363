{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\ColdFusion2018\\\\cfusion\\\\wwwroot\\\\celerant360\\\\client\\\\src\\\\components\\\\category\\\\categoryController.js\";\nimport * as Data from \"../../Data\";\nimport * as hC from \"../header/headerController\";\nimport { prodImagesDir } from \"../../settings\";\nimport { Link } from \"react-router-dom\";\nexport const getProducts = (filters, products, dispatch, property, url, taxonomy, category) => {\n  let getProducts = [];\n  let selectedProducts = [];\n  let allProducts = Data.allProducts;\n  let i = -1;\n\n  if (url == \"all-products\") {\n    filters[\"all-products\"] = \"all-products\";\n  }\n\n  if (taxonomy == \"SUBTYP_2\") {\n    getProducts = allProducts.filter(prod => prod.SUBTYP_2 == category && prod.SUBTYP_3 == \"EMPTY\" && prod.SUBTYP_2 != \"EMPTY\");\n  } else if (taxonomy == \"SUBTYP_1\") {\n    getProducts = allProducts.filter(prod => prod.SUBTYP_1 == category && prod.SUBTYP_2 == \"EMPTY\" && prod.SUBTYP_1 != \"EMPTY\");\n  } else if (taxonomy == \"TYP\") {\n    getProducts = allProducts.filter(prod => prod.TYP == category && prod.SUBTYP_1 == \"EMPTY\" && prod.TYP != \"EMPTY\");\n  } else if (taxonomy == \"DEPT\") {\n    getProducts = allProducts.filter(prod => prod.DEPT.toUpperCase() == category.toUpperCase());\n  } else if (url == \"all-products\") {\n    getProducts = [];\n    getProducts = allProducts;\n  } else {\n    getProducts = [];\n  }\n\n  if (Object.entries(filters).length !== 0) {\n    //Load products by seleted color filters\n    if (filters.color) {\n      getProducts = productsBySelectedColors(filters, getProducts);\n    } //Load products by seleted brand filters\n\n\n    if (filters.BRAND) {\n      getProducts = productsBySelectedBrands(filters, getProducts);\n    } //Load products by seleted size filters\n\n\n    if (filters.size) {\n      getProducts = productsBySelectedSize(filters, getProducts);\n    } //Load products by seleted price Ranges filters\n\n\n    if (filters.priceRange) {\n      getProducts = productsBySelectedPriceRanges(filters, getProducts);\n    }\n  } else {}\n\n  if (property == \"default\") {} else {\n    getProducts = SortProducts(property, getProducts, dispatch);\n  }\n\n  if (JSON.stringify(products) == JSON.stringify(getProducts)) {} else {\n    dispatch({\n      TYPe: \"ADD_PRODUCTS\",\n      productsItems: getProducts\n    });\n  }\n\n  return getProducts;\n};\n\nconst productsBySelectedColors = (filters, getProducts) => {\n  let selectedProducts = [];\n\n  if (getProducts) {\n    getProducts.map(prods => {\n      if (prods.gener == \"simple\") {\n        /* prods.color.map((clr) => {\r\n          if (filters.color.includes(clr)) {\r\n            if (selectedProducts.includes(prods)) {\r\n            } else {\r\n              selectedProducts.push(prods)\r\n            }\r\n          }\r\n        })*/\n      } else {\n        prods.variants.map(vproduct => {\n          vproduct.color.map(clr => {\n            if (filters.color.includes(clr.name)) {\n              if (selectedProducts.includes(prods)) {} else {\n                selectedProducts.push(prods);\n              }\n            }\n          });\n        });\n      }\n    });\n  } else {\n    selectedProducts = [];\n  }\n\n  return selectedProducts;\n};\n\nconst productsBySelectedBrands = (filters, getProducts) => {\n  let selectedProducts = [];\n\n  if (getProducts) {\n    getProducts.map(prods => {\n      if (prods.BRAND == filters.BRAND) {\n        if (selectedProducts.includes(prods)) {} else {\n          selectedProducts.push(prods);\n        }\n      }\n    });\n  } else {\n    selectedProducts = [];\n  }\n\n  return selectedProducts;\n};\n\nconst productsBySelectedSize = (filters, getProducts) => {\n  let selectedProducts = []; /////////////// start remove this aftrer adding variants in getproducts\n\n  getProducts.map(prods => {\n    for (const size of prod.SIZELIST) {\n      if (filters.size.includes(size)) {\n        if (selectedProducts.includes(prods)) {} else {\n          selectedProducts.push(prods);\n        }\n      }\n    }\n  }); /////////////// end remove this aftrer adding variants in getproducts\n\n  if (getProducts) {\n    getProducts.map(prods => {\n      if (prods.GENER == \"simple\") {\n        /* prods.color.map((clr) => {\r\n           if (filters.color.includes(clr)) {\r\n             if (selectedProducts.includes(prods)) {\r\n             } else {\r\n               selectedProducts.push(prods)\r\n             }\r\n           }\r\n         })*/\n      } else {\n        prods.variants.map(vproduct => {\n          if (filters.size.includes(vproduct.size)) {\n            if (selectedProducts.includes(prods)) {} else {\n              selectedProducts.push(prods);\n            }\n          }\n        });\n      }\n    });\n  } else {\n    selectedProducts = [];\n  }\n\n  return selectedProducts;\n};\n\nconst productsBySelectedPriceRanges = (filters, getProducts) => {\n  let selectedProducts = [];\n  let lower;\n  let upper;\n\n  if (filters.priceRange == \"below $50\") {\n    lower = 0;\n    upper = 50;\n  } else if (filters.priceRange == \"$51-$100\") {\n    lower = 51;\n    upper = 100;\n  } else if (filters.priceRange == \"$101-$150\") {\n    lower = 101;\n    upper = 150;\n  } else if (filters.priceRange == \"$151-$200\") {\n    lower = 151;\n    upper = 200;\n  } else if (filters.priceRange == \"$201-$250\") {\n    lower = 201;\n    upper = 250;\n  } else if (filters.priceRange == \"above $250\") {\n    lower = 251;\n    upper = 9999999999999;\n  }\n\n  if (filters.priceRange) {\n    if (getProducts) {\n      getProducts.map(prods => {\n        if (prods.gener == \"simple\") {\n          if (prods.sales_price) {\n            if (prods.sales_price >= lower && prods.sales_price <= upper) {\n              if (selectedProducts.includes(prods)) {} else {\n                selectedProducts.push(prods);\n              }\n            }\n          } else {\n            if (prods.regular_price >= lower && prods.regular_price <= upper) {\n              if (selectedProducts.includes(prods)) {} else {\n                selectedProducts.push(prods);\n              }\n            }\n          }\n        } else {\n          prods.variants.map(vproduct => {\n            if (vproduct.sales_price) {\n              if (vproduct.sales_price >= lower && vproduct.sales_price <= upper) {\n                if (selectedProducts.includes(prods)) {} else {\n                  selectedProducts.push(prods);\n                }\n              }\n            } else {\n              if (vproduct.regular_price >= lower && vproduct.regular_price <= upper) {\n                if (selectedProducts.includes(prods)) {} else {\n                  selectedProducts.push(prods);\n                }\n              }\n            }\n          });\n        }\n      });\n    } else {\n      selectedProducts = [];\n    }\n  }\n\n  return selectedProducts;\n};\n\nexport const getCategoryTitle = props => {\n  let categoryHeading = \"\";\n\n  if (props.filters.SUBTYP_3) {\n    categoryHeading = props.filters.SUBTYP_3;\n  } else if (props.filters.SUBTYP_2) {\n    categoryHeading = props.filters.SUBTYP_2;\n  } else if (props.filters.SUBTYP_1) {\n    categoryHeading = props.filters.SUBTYP_1;\n  } else if (props.filters.TYP) {\n    categoryHeading = props.filters.TYP;\n  } else if (props.filters.DEPT) {\n    categoryHeading = props.filters.DEPT;\n  } else if (props.filters.BRAND) {\n    categoryHeading = props.filters.BRAND;\n  } else if (props.filters.allproducts) {\n    categoryHeading = props.filters.allproducts;\n  } else {}\n\n  return categoryHeading;\n};\nexport const pagination = (products, productsPerPage, activePage) => {\n  let pagination = {}; // Logic for displaying current products\n\n  const indexOfLastProduct = activePage * productsPerPage;\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n  const currentproducts = products.slice(indexOfFirstProduct, indexOfLastProduct);\n  pagination.currentproducts = currentproducts;\n  return pagination;\n};\nexport const handlePageChange = (setCurrentPage, e) => {\n  setCurrentPage(e);\n};\nexport const handleChangePerPage = (setPerpageProductscount, e) => {\n  let value = e.target.value;\n  setPerpageProductscount(value);\n};\nexport const getCategoryBreadCrumbs = props => {\n  let breadcrumbs = [];\n  let breadcrumbsContent = [];\n\n  if (props.urlData.taxonomy && props.urlData.taxonomy == \"DEPT\") {\n    breadcrumbs.push({\n      item: props.urlData.category,\n      url: props.urlData.url,\n      taxonomy: \"DEPT\",\n      redirectUrl: \"DEPT_Url\"\n    });\n  } else if (props.urlData.taxonomy == \"TYP\") {\n    let DEPT = \"\";\n    let DEPT_Url = \"\";\n    Data.taxonomy.map(categories => {\n      if (categories.TYP.toUpperCase() == props.urlData.category.toUpperCase() && categories.URL == props.urlData.url && categories.SUBTYP_1 == \"EMPTY\") {\n        DEPT = categories.DEPT;\n        Data.taxonomy.map(cat => {\n          if (cat.DEPT.toUpperCase() == DEPT.toUpperCase() && cat.TYP == \"EMPTY\") {\n            DEPT_Url = cat.URL;\n          }\n        });\n      }\n    });\n    breadcrumbs.push({\n      item: DEPT,\n      url: DEPT_Url,\n      taxonomy: \"DEPT\",\n      redirectUrl: \"DEPT_Url\"\n    }, {\n      item: props.urlData.category,\n      url: props.urlData.url,\n      taxonomy: \"TYP\",\n      redirectUrl: \"TYP_Url\"\n    });\n  } else if (props.urlData.taxonomy == \"SUBTYP_1\") {\n    let DEPT = \"\";\n    let DEPT_Url = \"\";\n    let TYP = \"\";\n    let TYP_Url = \"\";\n    Data.taxonomy.map(categories => {\n      if (categories.SUBTYP_1.toUpperCase() == props.urlData.category.toUpperCase() && categories.URL == props.urlData.url && categories.SUBTYP_2 == \"EMPTY\") {\n        DEPT = categories.DEPT;\n        TYP = categories.TYP;\n        Data.taxonomy.map(cat => {\n          if (cat.DEPT.toUpperCase() == DEPT.toUpperCase() && cat.TYP == \"EMPTY\") {\n            DEPT_Url = cat.URL;\n          }\n        });\n        Data.taxonomy.map(cat => {\n          if (cat.DEPT.toUpperCase() == DEPT.toUpperCase() && cat.TYP == TYP && cat.SUBTYP_1 == \"EMPTY\") {\n            TYP_Url = cat.URL;\n          }\n        });\n      }\n    });\n    breadcrumbs.push({\n      item: DEPT,\n      url: DEPT_Url,\n      taxonomy: \"DEPT\",\n      redirectUrl: \"DEPT_Url\"\n    }, {\n      item: TYP,\n      url: TYP_Url,\n      taxonomy: \"TYP\",\n      redirectUrl: \"TYP_Url\"\n    }, {\n      item: props.urlData.category,\n      url: props.urlData.url,\n      taxonomy: \"SUBTYP_1\",\n      redirectUrl: \"SUBTYP_1_Url\"\n    });\n  } else if (props.urlData.url == \"all-products\") {\n    breadcrumbs.push({\n      item: \"All Products\",\n      url: \"all-products\",\n      taxonomy: \"All Products\",\n      redirectUrl: \"\"\n    });\n  }\n\n  breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"breadcrumb-item\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"text-dark text-decoration-none\",\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 422,\n    columnNumber: 5\n  }, this));\n  let i = -1;\n\n  for (const [key, value] of Object.entries(breadcrumbs)) {\n    i++;\n\n    if (i == breadcrumbs.length - 1) {\n      breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        children: value.item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this));\n    } else {\n      breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"\",\n          className: \"text-dark text-decoration-none\",\n          onClick: e => {\n            let dispatchedData = {};\n            dispatchedData = {\n              taxonomy: value.taxonomy,\n              redirectUrl: value.redirectUrl,\n              taxonomyValue: value.item,\n              taxonomyUrl: value.url\n            };\n            hC.addFilters(e, dispatchedData, props.dispatch, props.history);\n          },\n          children: value.item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  return breadcrumbsContent;\n};\n\nconst SortProducts = (property, products, dispatch) => {\n  let tempProducts = [];\n  let Sorting = {\n    value: \"default\",\n    order: \"ASC\"\n  };\n\n  if (property == \"name(a-z)\") {\n    Sorting = {\n      value: \"NAME\",\n      order: \"ASC\"\n    };\n  } else if (property == \"name(z-a)\") {\n    Sorting = {\n      value: \"NAME\",\n      order: \"DESC\"\n    };\n  } else if (property == \"featuredASC\") {\n    Sorting = {\n      value: \"FEATURED\",\n      order: \"ASC\"\n    };\n  } else if (property == \"price-high-to-low\") {\n    Sorting = {\n      value: \"REGULAR_PRICE\",\n      order: \"DESC\"\n    };\n  } else if (property == \"price-low-to-high\") {\n    Sorting = {\n      value: \"REGULAR_PRICE\",\n      order: \"ASC\"\n    };\n  } else {\n    Sorting = {\n      value: \"default\",\n      order: \"ASC\"\n    };\n  }\n\n  tempProducts = products.sort(SortProcess(Sorting));\n  return tempProducts;\n};\n\n_c = SortProducts;\n\nconst SortProcess = sorting => {\n  let property = \"default\";\n  let order = \"ASC\";\n  property = sorting.value;\n  order = sorting.order;\n  var sortOrder = 1;\n\n  if (property[0] === \"-\") {\n    sortOrder = -1;\n    property = property.substr(1);\n  }\n\n  return function (a, b) {\n    /* next line works with strings and numbers,\r\n     * and you may want to customize it to your needs\r\n     */\n    if (order == \"ASC\") {\n      var result = a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n    } else {\n      var result = a[property] > b[property] ? -1 : a[property] < b[property] ? 1 : 0;\n    }\n\n    return result * sortOrder;\n  };\n};\n\n_c2 = SortProcess;\nexport const getUrlTaxonomy = url => {\n  let categoryData = {};\n  Data.taxonomy.map(categories => {\n    if (url == categories.URL && categories.SUBTYP_3 != \"EMPTY\" && categories.SUBTYP_4 == \"EMPTY\") {\n      categoryData = {\n        taxonomy: \"SUBTYP_3\",\n        category: categories.SUBTYP_3\n      };\n    } else if (url == categories.URL && categories.SUBTYP_2 != \"EMPTY\" && categories.SUBTYP_3 == \"EMPTY\") {\n      categoryData = {\n        taxonomy: \"SUBTYP_2\",\n        category: categories.SUBTYP_2\n      };\n    } else if (url == categories.URL && categories.SUBTYP_1 != \"EMPTY\" && categories.SUBTYP_2 == \"EMPTY\") {\n      categoryData = {\n        taxonomy: \"SUBTYP_1\",\n        category: categories.SUBTYP_1\n      };\n    } else if (url == categories.URL && categories.TYP != \"EMPTY\" && categories.SUBTYP_1 == \"EMPTY\") {\n      categoryData = {\n        taxonomy: \"TYP\",\n        category: categories.TYP\n      };\n    } else if (url == categories.URL && categories.DEPT != \"EMPTY\" && categories.TYP == \"EMPTY\") {\n      categoryData = {\n        taxonomy: \"DEPT\",\n        category: categories.DEPT\n      };\n    } else {}\n  });\n  return categoryData;\n};\nexport const getColorAttrOnThumbs = (colorOrImages, id) => {\n  let results = {};\n  let colorImages = [];\n  let colorCode = [];\n  let content = \"\";\n  let product = Data.allProducts.find(prod => prod.style_id == id);\n\n  if (product && product.gener != \"simple\") {\n    if (colorOrImages == \"images\") {\n      colorImages = getThumbColorImages(product);\n      results = {\n        name: \"image\",\n        data: [...colorImages]\n      };\n    } else if (colorOrImages == \"color\") {\n      colorCode = getThumbColorcode(product);\n      colorImages = getThumbColorImages(product);\n      results = {\n        name: \"colorCode\",\n        data: [...colorCode],\n        images: [...colorImages]\n      };\n    } else {\n      results = {};\n    }\n  } else {\n    results = {};\n  }\n\n  return results;\n};\n\nconst getThumbColorImages = product => {\n  let smallColorImages = [];\n  let imageUrl = \"\";\n\n  if (product.GENER === \"simple\") {} else {\n    product.variants.map(vProduct => {\n      vProduct.color.map(color => {\n        if (color.colorSmallImage && color.colorSmallImage != \"\") {\n          imageUrl = prodImagesDir + color.colorSmallImage;\n          smallColorImages.push(imageUrl);\n        }\n      });\n    });\n  }\n\n  return smallColorImages;\n};\n\nconst getThumbColorcode = product => {\n  let colorCode = [];\n  product.variants.map(vProduct => {\n    vProduct.color.map(color => {\n      colorCode.push(color.colorCode);\n    });\n  });\n  return colorCode;\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SortProducts\");\n$RefreshReg$(_c2, \"SortProcess\");","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/client/src/components/category/categoryController.js"],"names":["Data","hC","prodImagesDir","Link","getProducts","filters","products","dispatch","property","url","taxonomy","category","selectedProducts","allProducts","i","filter","prod","SUBTYP_2","SUBTYP_3","SUBTYP_1","TYP","DEPT","toUpperCase","Object","entries","length","color","productsBySelectedColors","BRAND","productsBySelectedBrands","size","productsBySelectedSize","priceRange","productsBySelectedPriceRanges","SortProducts","JSON","stringify","TYPe","productsItems","map","prods","gener","variants","vproduct","clr","includes","name","push","SIZELIST","GENER","lower","upper","sales_price","regular_price","getCategoryTitle","props","categoryHeading","allproducts","pagination","productsPerPage","activePage","indexOfLastProduct","indexOfFirstProduct","currentproducts","slice","handlePageChange","setCurrentPage","e","handleChangePerPage","setPerpageProductscount","value","target","getCategoryBreadCrumbs","breadcrumbs","breadcrumbsContent","urlData","item","redirectUrl","DEPT_Url","categories","URL","cat","TYP_Url","key","dispatchedData","taxonomyValue","taxonomyUrl","addFilters","history","tempProducts","Sorting","order","sort","SortProcess","sorting","sortOrder","substr","a","b","result","getUrlTaxonomy","categoryData","SUBTYP_4","getColorAttrOnThumbs","colorOrImages","id","results","colorImages","colorCode","content","product","find","style_id","getThumbColorImages","data","getThumbColorcode","images","smallColorImages","imageUrl","vProduct","colorSmallImage"],"mappings":";;AAAA,OAAO,KAAKA,IAAZ,MAAsB,YAAtB;AACA,OAAO,KAAKC,EAAZ,MAAoB,4BAApB;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAO,MAAMC,WAAW,GAAG,CACzBC,OADyB,EAEzBC,QAFyB,EAGzBC,QAHyB,EAIzBC,QAJyB,EAKzBC,GALyB,EAMzBC,QANyB,EAOzBC,QAPyB,KAQtB;AACH,MAAIP,WAAW,GAAG,EAAlB;AACA,MAAIQ,gBAAgB,GAAG,EAAvB;AACA,MAAIC,WAAW,GAAGb,IAAI,CAACa,WAAvB;AACA,MAAIC,CAAC,GAAG,CAAC,CAAT;;AAEA,MAAIL,GAAG,IAAI,cAAX,EAA2B;AACzBJ,IAAAA,OAAO,CAAC,cAAD,CAAP,GAA0B,cAA1B;AACD;;AAED,MAAIK,QAAQ,IAAI,UAAhB,EAA4B;AAC1BN,IAAAA,WAAW,GAAGS,WAAW,CAACE,MAAZ,CACXC,IAAD,IACEA,IAAI,CAACC,QAAL,IAAiBN,QAAjB,IACAK,IAAI,CAACE,QAAL,IAAiB,OADjB,IAEAF,IAAI,CAACC,QAAL,IAAiB,OAJP,CAAd;AAMD,GAPD,MAOO,IAAIP,QAAQ,IAAI,UAAhB,EAA4B;AACjCN,IAAAA,WAAW,GAAGS,WAAW,CAACE,MAAZ,CACXC,IAAD,IACEA,IAAI,CAACG,QAAL,IAAiBR,QAAjB,IACAK,IAAI,CAACC,QAAL,IAAiB,OADjB,IAEAD,IAAI,CAACG,QAAL,IAAiB,OAJP,CAAd;AAMD,GAPM,MAOA,IAAIT,QAAQ,IAAI,KAAhB,EAAuB;AAC5BN,IAAAA,WAAW,GAAGS,WAAW,CAACE,MAAZ,CACXC,IAAD,IACEA,IAAI,CAACI,GAAL,IAAYT,QAAZ,IAAwBK,IAAI,CAACG,QAAL,IAAiB,OAAzC,IAAoDH,IAAI,CAACI,GAAL,IAAY,OAFtD,CAAd;AAID,GALM,MAKA,IAAIV,QAAQ,IAAI,MAAhB,EAAwB;AAC7BN,IAAAA,WAAW,GAAGS,WAAW,CAACE,MAAZ,CACXC,IAAD,IAAUA,IAAI,CAACK,IAAL,CAAUC,WAAV,MAA2BX,QAAQ,CAACW,WAAT,EADzB,CAAd;AAGD,GAJM,MAIA,IAAIb,GAAG,IAAI,cAAX,EAA2B;AAChCL,IAAAA,WAAW,GAAG,EAAd;AACAA,IAAAA,WAAW,GAAGS,WAAd;AACD,GAHM,MAGA;AACLT,IAAAA,WAAW,GAAG,EAAd;AACD;;AACD,MAAImB,MAAM,CAACC,OAAP,CAAenB,OAAf,EAAwBoB,MAAxB,KAAmC,CAAvC,EAA0C;AACxC;AACA,QAAIpB,OAAO,CAACqB,KAAZ,EAAmB;AACjBtB,MAAAA,WAAW,GAAGuB,wBAAwB,CAACtB,OAAD,EAAUD,WAAV,CAAtC;AACD,KAJuC,CAMxC;;;AACA,QAAIC,OAAO,CAACuB,KAAZ,EAAmB;AACjBxB,MAAAA,WAAW,GAAGyB,wBAAwB,CAACxB,OAAD,EAAUD,WAAV,CAAtC;AACD,KATuC,CAWxC;;;AACA,QAAIC,OAAO,CAACyB,IAAZ,EAAkB;AAChB1B,MAAAA,WAAW,GAAG2B,sBAAsB,CAAC1B,OAAD,EAAUD,WAAV,CAApC;AACD,KAduC,CAgBxC;;;AACA,QAAIC,OAAO,CAAC2B,UAAZ,EAAwB;AACtB5B,MAAAA,WAAW,GAAG6B,6BAA6B,CAAC5B,OAAD,EAAUD,WAAV,CAA3C;AACD;AACF,GApBD,MAoBO,CACN;;AAED,MAAII,QAAQ,IAAI,SAAhB,EAA2B,CAC1B,CADD,MACO;AACLJ,IAAAA,WAAW,GAAG8B,YAAY,CAAC1B,QAAD,EAAWJ,WAAX,EAAwBG,QAAxB,CAA1B;AACD;;AAED,MAAI4B,IAAI,CAACC,SAAL,CAAe9B,QAAf,KAA4B6B,IAAI,CAACC,SAAL,CAAehC,WAAf,CAAhC,EAA6D,CAC5D,CADD,MACO;AACLG,IAAAA,QAAQ,CAAC;AACP8B,MAAAA,IAAI,EAAE,cADC;AAEPC,MAAAA,aAAa,EAAElC;AAFR,KAAD,CAAR;AAID;;AACD,SAAOA,WAAP;AACD,CAnFM;;AAqFP,MAAMuB,wBAAwB,GAAG,CAACtB,OAAD,EAAUD,WAAV,KAA0B;AACzD,MAAIQ,gBAAgB,GAAG,EAAvB;;AAEA,MAAIR,WAAJ,EAAiB;AACfA,IAAAA,WAAW,CAACmC,GAAZ,CAAiBC,KAAD,IAAW;AACzB,UAAIA,KAAK,CAACC,KAAN,IAAe,QAAnB,EAA6B;AAC3B;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACO,OATD,MASO;AACLD,QAAAA,KAAK,CAACE,QAAN,CAAeH,GAAf,CAAoBI,QAAD,IAAc;AAC/BA,UAAAA,QAAQ,CAACjB,KAAT,CAAea,GAAf,CAAoBK,GAAD,IAAS;AAC1B,gBAAIvC,OAAO,CAACqB,KAAR,CAAcmB,QAAd,CAAuBD,GAAG,CAACE,IAA3B,CAAJ,EAAsC;AACpC,kBAAIlC,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,gBAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF,WAPD;AAQD,SATD;AAUD;AACF,KAtBD;AAuBD,GAxBD,MAwBO;AACL5B,IAAAA,gBAAgB,GAAG,EAAnB;AACD;;AACD,SAAOA,gBAAP;AACD,CA/BD;;AAiCA,MAAMiB,wBAAwB,GAAG,CAACxB,OAAD,EAAUD,WAAV,KAA0B;AACzD,MAAIQ,gBAAgB,GAAG,EAAvB;;AAEA,MAAIR,WAAJ,EAAiB;AACfA,IAAAA,WAAW,CAACmC,GAAZ,CAAiBC,KAAD,IAAW;AACzB,UAAIA,KAAK,CAACZ,KAAN,IAAevB,OAAO,CAACuB,KAA3B,EAAkC;AAChC,YAAIhB,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,UAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF,KAPD;AAQD,GATD,MASO;AACL5B,IAAAA,gBAAgB,GAAG,EAAnB;AACD;;AACD,SAAOA,gBAAP;AACD,CAhBD;;AAkBA,MAAMmB,sBAAsB,GAAG,CAAC1B,OAAD,EAAUD,WAAV,KAA0B;AACvD,MAAIQ,gBAAgB,GAAG,EAAvB,CADuD,CAGvD;;AACAR,EAAAA,WAAW,CAACmC,GAAZ,CAAiBC,KAAD,IAAW;AACzB,SAAK,MAAMV,IAAX,IAAmBd,IAAI,CAACgC,QAAxB,EAAkC;AAChC,UAAI3C,OAAO,CAACyB,IAAR,CAAae,QAAb,CAAsBf,IAAtB,CAAJ,EAAiC;AAC/B,YAAIlB,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,UAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF;AACF,GATD,EAJuD,CAcvD;;AAEA,MAAIpC,WAAJ,EAAiB;AACfA,IAAAA,WAAW,CAACmC,GAAZ,CAAiBC,KAAD,IAAW;AACzB,UAAIA,KAAK,CAACS,KAAN,IAAe,QAAnB,EAA6B;AAC3B;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACO,OATD,MASO;AACLT,QAAAA,KAAK,CAACE,QAAN,CAAeH,GAAf,CAAoBI,QAAD,IAAc;AAC/B,cAAItC,OAAO,CAACyB,IAAR,CAAae,QAAb,CAAsBF,QAAQ,CAACb,IAA/B,CAAJ,EAA0C;AACxC,gBAAIlB,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,cAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF,SAPD;AAQD;AACF,KApBD;AAqBD,GAtBD,MAsBO;AACL5B,IAAAA,gBAAgB,GAAG,EAAnB;AACD;;AACD,SAAOA,gBAAP;AACD,CA1CD;;AA4CA,MAAMqB,6BAA6B,GAAG,CAAC5B,OAAD,EAAUD,WAAV,KAA0B;AAC9D,MAAIQ,gBAAgB,GAAG,EAAvB;AACA,MAAIsC,KAAJ;AACA,MAAIC,KAAJ;;AACA,MAAI9C,OAAO,CAAC2B,UAAR,IAAsB,WAA1B,EAAuC;AACrCkB,IAAAA,KAAK,GAAG,CAAR;AACAC,IAAAA,KAAK,GAAG,EAAR;AACD,GAHD,MAGO,IAAI9C,OAAO,CAAC2B,UAAR,IAAsB,UAA1B,EAAsC;AAC3CkB,IAAAA,KAAK,GAAG,EAAR;AACAC,IAAAA,KAAK,GAAG,GAAR;AACD,GAHM,MAGA,IAAI9C,OAAO,CAAC2B,UAAR,IAAsB,WAA1B,EAAuC;AAC5CkB,IAAAA,KAAK,GAAG,GAAR;AACAC,IAAAA,KAAK,GAAG,GAAR;AACD,GAHM,MAGA,IAAI9C,OAAO,CAAC2B,UAAR,IAAsB,WAA1B,EAAuC;AAC5CkB,IAAAA,KAAK,GAAG,GAAR;AACAC,IAAAA,KAAK,GAAG,GAAR;AACD,GAHM,MAGA,IAAI9C,OAAO,CAAC2B,UAAR,IAAsB,WAA1B,EAAuC;AAC5CkB,IAAAA,KAAK,GAAG,GAAR;AACAC,IAAAA,KAAK,GAAG,GAAR;AACD,GAHM,MAGA,IAAI9C,OAAO,CAAC2B,UAAR,IAAsB,YAA1B,EAAwC;AAC7CkB,IAAAA,KAAK,GAAG,GAAR;AACAC,IAAAA,KAAK,GAAG,aAAR;AACD;;AAED,MAAI9C,OAAO,CAAC2B,UAAZ,EAAwB;AACtB,QAAI5B,WAAJ,EAAiB;AACfA,MAAAA,WAAW,CAACmC,GAAZ,CAAiBC,KAAD,IAAW;AACzB,YAAIA,KAAK,CAACC,KAAN,IAAe,QAAnB,EAA6B;AAC3B,cAAID,KAAK,CAACY,WAAV,EAAuB;AACrB,gBAAIZ,KAAK,CAACY,WAAN,IAAqBF,KAArB,IAA8BV,KAAK,CAACY,WAAN,IAAqBD,KAAvD,EAA8D;AAC5D,kBAAIvC,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,gBAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF,WAPD,MAOO;AACL,gBAAIA,KAAK,CAACa,aAAN,IAAuBH,KAAvB,IAAgCV,KAAK,CAACa,aAAN,IAAuBF,KAA3D,EAAkE;AAChE,kBAAIvC,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,gBAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF;AACF,SAhBD,MAgBO;AACLA,UAAAA,KAAK,CAACE,QAAN,CAAeH,GAAf,CAAoBI,QAAD,IAAc;AAC/B,gBAAIA,QAAQ,CAACS,WAAb,EAA0B;AACxB,kBACET,QAAQ,CAACS,WAAT,IAAwBF,KAAxB,IACAP,QAAQ,CAACS,WAAT,IAAwBD,KAF1B,EAGE;AACA,oBAAIvC,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,kBAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF,aAVD,MAUO;AACL,kBACEG,QAAQ,CAACU,aAAT,IAA0BH,KAA1B,IACAP,QAAQ,CAACU,aAAT,IAA0BF,KAF5B,EAGE;AACA,oBAAIvC,gBAAgB,CAACiC,QAAjB,CAA0BL,KAA1B,CAAJ,EAAsC,CACrC,CADD,MACO;AACL5B,kBAAAA,gBAAgB,CAACmC,IAAjB,CAAsBP,KAAtB;AACD;AACF;AACF;AACF,WAtBD;AAuBD;AACF,OA1CD;AA2CD,KA5CD,MA4CO;AACL5B,MAAAA,gBAAgB,GAAG,EAAnB;AACD;AACF;;AACD,SAAOA,gBAAP;AACD,CA1ED;;AA4EA,OAAO,MAAM0C,gBAAgB,GAAIC,KAAD,IAAW;AACzC,MAAIC,eAAe,GAAG,EAAtB;;AACA,MAAID,KAAK,CAAClD,OAAN,CAAca,QAAlB,EAA4B;AAC1BsC,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAca,QAAhC;AACD,GAFD,MAEO,IAAIqC,KAAK,CAAClD,OAAN,CAAcY,QAAlB,EAA4B;AACjCuC,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAcY,QAAhC;AACD,GAFM,MAEA,IAAIsC,KAAK,CAAClD,OAAN,CAAcc,QAAlB,EAA4B;AACjCqC,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAcc,QAAhC;AACD,GAFM,MAEA,IAAIoC,KAAK,CAAClD,OAAN,CAAce,GAAlB,EAAuB;AAC5BoC,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAce,GAAhC;AACD,GAFM,MAEA,IAAImC,KAAK,CAAClD,OAAN,CAAcgB,IAAlB,EAAwB;AAC7BmC,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAcgB,IAAhC;AACD,GAFM,MAEA,IAAIkC,KAAK,CAAClD,OAAN,CAAcuB,KAAlB,EAAyB;AAC9B4B,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAcuB,KAAhC;AACD,GAFM,MAEA,IAAI2B,KAAK,CAAClD,OAAN,CAAcoD,WAAlB,EAA+B;AACpCD,IAAAA,eAAe,GAAGD,KAAK,CAAClD,OAAN,CAAcoD,WAAhC;AACD,GAFM,MAEA,CACN;;AAED,SAAOD,eAAP;AACD,CApBM;AAsBP,OAAO,MAAME,UAAU,GAAG,CAACpD,QAAD,EAAWqD,eAAX,EAA4BC,UAA5B,KAA2C;AACnE,MAAIF,UAAU,GAAG,EAAjB,CADmE,CAEnE;;AACA,QAAMG,kBAAkB,GAAGD,UAAU,GAAGD,eAAxC;AACA,QAAMG,mBAAmB,GAAGD,kBAAkB,GAAGF,eAAjD;AACA,QAAMI,eAAe,GAAGzD,QAAQ,CAAC0D,KAAT,CACtBF,mBADsB,EAEtBD,kBAFsB,CAAxB;AAIAH,EAAAA,UAAU,CAACK,eAAX,GAA6BA,eAA7B;AACA,SAAOL,UAAP;AACD,CAXM;AAaP,OAAO,MAAMO,gBAAgB,GAAG,CAACC,cAAD,EAAiBC,CAAjB,KAAuB;AACrDD,EAAAA,cAAc,CAACC,CAAD,CAAd;AACD,CAFM;AAIP,OAAO,MAAMC,mBAAmB,GAAG,CAACC,uBAAD,EAA0BF,CAA1B,KAAgC;AACjE,MAAIG,KAAK,GAAGH,CAAC,CAACI,MAAF,CAASD,KAArB;AACAD,EAAAA,uBAAuB,CAACC,KAAD,CAAvB;AACD,CAHM;AAKP,OAAO,MAAME,sBAAsB,GAAIjB,KAAD,IAAW;AAC/C,MAAIkB,WAAW,GAAG,EAAlB;AACA,MAAIC,kBAAkB,GAAG,EAAzB;;AAEA,MAAInB,KAAK,CAACoB,OAAN,CAAcjE,QAAd,IAA0B6C,KAAK,CAACoB,OAAN,CAAcjE,QAAd,IAA0B,MAAxD,EAAgE;AAC9D+D,IAAAA,WAAW,CAAC1B,IAAZ,CAAiB;AACf6B,MAAAA,IAAI,EAAErB,KAAK,CAACoB,OAAN,CAAchE,QADL;AAEfF,MAAAA,GAAG,EAAE8C,KAAK,CAACoB,OAAN,CAAclE,GAFJ;AAGfC,MAAAA,QAAQ,EAAE,MAHK;AAIfmE,MAAAA,WAAW,EAAE;AAJE,KAAjB;AAMD,GAPD,MAOO,IAAItB,KAAK,CAACoB,OAAN,CAAcjE,QAAd,IAA0B,KAA9B,EAAqC;AAC1C,QAAIW,IAAI,GAAG,EAAX;AACA,QAAIyD,QAAQ,GAAG,EAAf;AAEA9E,IAAAA,IAAI,CAACU,QAAL,CAAc6B,GAAd,CAAmBwC,UAAD,IAAgB;AAChC,UACEA,UAAU,CAAC3D,GAAX,CAAeE,WAAf,MAAgCiC,KAAK,CAACoB,OAAN,CAAchE,QAAd,CAAuBW,WAAvB,EAAhC,IACAyD,UAAU,CAACC,GAAX,IAAkBzB,KAAK,CAACoB,OAAN,CAAclE,GADhC,IAEAsE,UAAU,CAAC5D,QAAX,IAAuB,OAHzB,EAIE;AACAE,QAAAA,IAAI,GAAG0D,UAAU,CAAC1D,IAAlB;AAEArB,QAAAA,IAAI,CAACU,QAAL,CAAc6B,GAAd,CAAmB0C,GAAD,IAAS;AACzB,cACEA,GAAG,CAAC5D,IAAJ,CAASC,WAAT,MAA0BD,IAAI,CAACC,WAAL,EAA1B,IACA2D,GAAG,CAAC7D,GAAJ,IAAW,OAFb,EAGE;AACA0D,YAAAA,QAAQ,GAAGG,GAAG,CAACD,GAAf;AACD;AACF,SAPD;AAQD;AACF,KAjBD;AAmBAP,IAAAA,WAAW,CAAC1B,IAAZ,CACE;AACE6B,MAAAA,IAAI,EAAEvD,IADR;AAEEZ,MAAAA,GAAG,EAAEqE,QAFP;AAGEpE,MAAAA,QAAQ,EAAE,MAHZ;AAIEmE,MAAAA,WAAW,EAAE;AAJf,KADF,EAOE;AACED,MAAAA,IAAI,EAAErB,KAAK,CAACoB,OAAN,CAAchE,QADtB;AAEEF,MAAAA,GAAG,EAAE8C,KAAK,CAACoB,OAAN,CAAclE,GAFrB;AAGEC,MAAAA,QAAQ,EAAE,KAHZ;AAIEmE,MAAAA,WAAW,EAAE;AAJf,KAPF;AAcD,GArCM,MAqCA,IAAItB,KAAK,CAACoB,OAAN,CAAcjE,QAAd,IAA0B,UAA9B,EAA0C;AAC/C,QAAIW,IAAI,GAAG,EAAX;AACA,QAAIyD,QAAQ,GAAG,EAAf;AAEA,QAAI1D,GAAG,GAAG,EAAV;AACA,QAAI8D,OAAO,GAAG,EAAd;AAEAlF,IAAAA,IAAI,CAACU,QAAL,CAAc6B,GAAd,CAAmBwC,UAAD,IAAgB;AAChC,UACEA,UAAU,CAAC5D,QAAX,CAAoBG,WAApB,MACEiC,KAAK,CAACoB,OAAN,CAAchE,QAAd,CAAuBW,WAAvB,EADF,IAEAyD,UAAU,CAACC,GAAX,IAAkBzB,KAAK,CAACoB,OAAN,CAAclE,GAFhC,IAGAsE,UAAU,CAAC9D,QAAX,IAAuB,OAJzB,EAKE;AACAI,QAAAA,IAAI,GAAG0D,UAAU,CAAC1D,IAAlB;AACAD,QAAAA,GAAG,GAAG2D,UAAU,CAAC3D,GAAjB;AACApB,QAAAA,IAAI,CAACU,QAAL,CAAc6B,GAAd,CAAmB0C,GAAD,IAAS;AACzB,cACEA,GAAG,CAAC5D,IAAJ,CAASC,WAAT,MAA0BD,IAAI,CAACC,WAAL,EAA1B,IACA2D,GAAG,CAAC7D,GAAJ,IAAW,OAFb,EAGE;AACA0D,YAAAA,QAAQ,GAAGG,GAAG,CAACD,GAAf;AACD;AACF,SAPD;AASAhF,QAAAA,IAAI,CAACU,QAAL,CAAc6B,GAAd,CAAmB0C,GAAD,IAAS;AACzB,cACEA,GAAG,CAAC5D,IAAJ,CAASC,WAAT,MAA0BD,IAAI,CAACC,WAAL,EAA1B,IACA2D,GAAG,CAAC7D,GAAJ,IAAWA,GADX,IAEA6D,GAAG,CAAC9D,QAAJ,IAAgB,OAHlB,EAIE;AACA+D,YAAAA,OAAO,GAAGD,GAAG,CAACD,GAAd;AACD;AACF,SARD;AASD;AACF,KA5BD;AA8BAP,IAAAA,WAAW,CAAC1B,IAAZ,CACE;AACE6B,MAAAA,IAAI,EAAEvD,IADR;AAEEZ,MAAAA,GAAG,EAAEqE,QAFP;AAGEpE,MAAAA,QAAQ,EAAE,MAHZ;AAIEmE,MAAAA,WAAW,EAAE;AAJf,KADF,EAOE;AACED,MAAAA,IAAI,EAAExD,GADR;AAEEX,MAAAA,GAAG,EAAEyE,OAFP;AAGExE,MAAAA,QAAQ,EAAE,KAHZ;AAIEmE,MAAAA,WAAW,EAAE;AAJf,KAPF,EAcE;AACED,MAAAA,IAAI,EAAErB,KAAK,CAACoB,OAAN,CAAchE,QADtB;AAEEF,MAAAA,GAAG,EAAE8C,KAAK,CAACoB,OAAN,CAAclE,GAFrB;AAGEC,MAAAA,QAAQ,EAAE,UAHZ;AAIEmE,MAAAA,WAAW,EAAE;AAJf,KAdF;AAqBD,GA1DM,MA0DA,IAAItB,KAAK,CAACoB,OAAN,CAAclE,GAAd,IAAqB,cAAzB,EAAyC;AAC9CgE,IAAAA,WAAW,CAAC1B,IAAZ,CAAiB;AACf6B,MAAAA,IAAI,EAAE,cADS;AAEfnE,MAAAA,GAAG,EAAE,cAFU;AAGfC,MAAAA,QAAQ,EAAE,cAHK;AAIfmE,MAAAA,WAAW,EAAE;AAJE,KAAjB;AAMD;;AAEDH,EAAAA,kBAAkB,CAAC3B,IAAnB,eACE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAa,MAAA,SAAS,EAAC,gCAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAQA,MAAIjC,CAAC,GAAG,CAAC,CAAT;;AACA,OAAK,MAAM,CAACqE,GAAD,EAAMb,KAAN,CAAX,IAA2B/C,MAAM,CAACC,OAAP,CAAeiD,WAAf,CAA3B,EAAwD;AACtD3D,IAAAA,CAAC;;AAED,QAAIA,CAAC,IAAI2D,WAAW,CAAChD,MAAZ,GAAqB,CAA9B,EAAiC;AAC/BiD,MAAAA,kBAAkB,CAAC3B,IAAnB,eACE;AAAI,QAAA,SAAS,EAAC,wBAAd;AAAuC,wBAAa,MAApD;AAAA,kBACGuB,KAAK,CAACM;AADT;AAAA;AAAA;AAAA;AAAA,cADF;AAKD,KAND,MAMO;AACLF,MAAAA,kBAAkB,CAAC3B,IAAnB,eACE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA,+BACE,QAAC,IAAD;AACE,UAAA,EAAE,EAAC,EADL;AAEE,UAAA,SAAS,EAAC,gCAFZ;AAGE,UAAA,OAAO,EAAGoB,CAAD,IAAO;AACd,gBAAIiB,cAAc,GAAG,EAArB;AAEAA,YAAAA,cAAc,GAAG;AACf1E,cAAAA,QAAQ,EAAE4D,KAAK,CAAC5D,QADD;AAEfmE,cAAAA,WAAW,EAAEP,KAAK,CAACO,WAFJ;AAGfQ,cAAAA,aAAa,EAAEf,KAAK,CAACM,IAHN;AAIfU,cAAAA,WAAW,EAAEhB,KAAK,CAAC7D;AAJJ,aAAjB;AAMAR,YAAAA,EAAE,CAACsF,UAAH,CAAcpB,CAAd,EAAiBiB,cAAjB,EAAiC7B,KAAK,CAAChD,QAAvC,EAAiDgD,KAAK,CAACiC,OAAvD;AACD,WAbH;AAAA,oBAeGlB,KAAK,CAACM;AAfT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAqBD;AACF;;AAED,SAAOF,kBAAP;AACD,CA/JM;;AAgKP,MAAMxC,YAAY,GAAG,CAAC1B,QAAD,EAAWF,QAAX,EAAqBC,QAArB,KAAkC;AACrD,MAAIkF,YAAY,GAAG,EAAnB;AACA,MAAIC,OAAO,GAAG;AAAEpB,IAAAA,KAAK,EAAE,SAAT;AAAoBqB,IAAAA,KAAK,EAAE;AAA3B,GAAd;;AAEA,MAAInF,QAAQ,IAAI,WAAhB,EAA6B;AAC3BkF,IAAAA,OAAO,GAAG;AAAEpB,MAAAA,KAAK,EAAE,MAAT;AAAiBqB,MAAAA,KAAK,EAAE;AAAxB,KAAV;AACD,GAFD,MAEO,IAAInF,QAAQ,IAAI,WAAhB,EAA6B;AAClCkF,IAAAA,OAAO,GAAG;AAAEpB,MAAAA,KAAK,EAAE,MAAT;AAAiBqB,MAAAA,KAAK,EAAE;AAAxB,KAAV;AACD,GAFM,MAEA,IAAInF,QAAQ,IAAI,aAAhB,EAA+B;AACpCkF,IAAAA,OAAO,GAAG;AAAEpB,MAAAA,KAAK,EAAE,UAAT;AAAqBqB,MAAAA,KAAK,EAAE;AAA5B,KAAV;AACD,GAFM,MAEA,IAAInF,QAAQ,IAAI,mBAAhB,EAAqC;AAC1CkF,IAAAA,OAAO,GAAG;AAAEpB,MAAAA,KAAK,EAAE,eAAT;AAA0BqB,MAAAA,KAAK,EAAE;AAAjC,KAAV;AACD,GAFM,MAEA,IAAInF,QAAQ,IAAI,mBAAhB,EAAqC;AAC1CkF,IAAAA,OAAO,GAAG;AAAEpB,MAAAA,KAAK,EAAE,eAAT;AAA0BqB,MAAAA,KAAK,EAAE;AAAjC,KAAV;AACD,GAFM,MAEA;AACLD,IAAAA,OAAO,GAAG;AAAEpB,MAAAA,KAAK,EAAE,SAAT;AAAoBqB,MAAAA,KAAK,EAAE;AAA3B,KAAV;AACD;;AAEDF,EAAAA,YAAY,GAAGnF,QAAQ,CAACsF,IAAT,CAAcC,WAAW,CAACH,OAAD,CAAzB,CAAf;AAEA,SAAOD,YAAP;AACD,CArBD;;KAAMvD,Y;;AAsBN,MAAM2D,WAAW,GAAIC,OAAD,IAAa;AAC/B,MAAItF,QAAQ,GAAG,SAAf;AACA,MAAImF,KAAK,GAAG,KAAZ;AACAnF,EAAAA,QAAQ,GAAGsF,OAAO,CAACxB,KAAnB;AACAqB,EAAAA,KAAK,GAAGG,OAAO,CAACH,KAAhB;AAEA,MAAII,SAAS,GAAG,CAAhB;;AACA,MAAIvF,QAAQ,CAAC,CAAD,CAAR,KAAgB,GAApB,EAAyB;AACvBuF,IAAAA,SAAS,GAAG,CAAC,CAAb;AACAvF,IAAAA,QAAQ,GAAGA,QAAQ,CAACwF,MAAT,CAAgB,CAAhB,CAAX;AACD;;AACD,SAAO,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACrB;AACJ;AACA;AACI,QAAIP,KAAK,IAAI,KAAb,EAAoB;AAClB,UAAIQ,MAAM,GACRF,CAAC,CAACzF,QAAD,CAAD,GAAc0F,CAAC,CAAC1F,QAAD,CAAf,GAA4B,CAAC,CAA7B,GAAiCyF,CAAC,CAACzF,QAAD,CAAD,GAAc0F,CAAC,CAAC1F,QAAD,CAAf,GAA4B,CAA5B,GAAgC,CADnE;AAED,KAHD,MAGO;AACL,UAAI2F,MAAM,GACRF,CAAC,CAACzF,QAAD,CAAD,GAAc0F,CAAC,CAAC1F,QAAD,CAAf,GAA4B,CAAC,CAA7B,GAAiCyF,CAAC,CAACzF,QAAD,CAAD,GAAc0F,CAAC,CAAC1F,QAAD,CAAf,GAA4B,CAA5B,GAAgC,CADnE;AAED;;AACD,WAAO2F,MAAM,GAAGJ,SAAhB;AACD,GAZD;AAaD,CAxBD;;MAAMF,W;AA0BN,OAAO,MAAMO,cAAc,GAAI3F,GAAD,IAAS;AACrC,MAAI4F,YAAY,GAAG,EAAnB;AAEArG,EAAAA,IAAI,CAACU,QAAL,CAAc6B,GAAd,CAAmBwC,UAAD,IAAgB;AAChC,QACEtE,GAAG,IAAIsE,UAAU,CAACC,GAAlB,IACAD,UAAU,CAAC7D,QAAX,IAAuB,OADvB,IAEA6D,UAAU,CAACuB,QAAX,IAAuB,OAHzB,EAIE;AACAD,MAAAA,YAAY,GAAG;AAAE3F,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,QAAQ,EAAEoE,UAAU,CAAC7D;AAA7C,OAAf;AACD,KAND,MAMO,IACLT,GAAG,IAAIsE,UAAU,CAACC,GAAlB,IACAD,UAAU,CAAC9D,QAAX,IAAuB,OADvB,IAEA8D,UAAU,CAAC7D,QAAX,IAAuB,OAHlB,EAIL;AACAmF,MAAAA,YAAY,GAAG;AAAE3F,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,QAAQ,EAAEoE,UAAU,CAAC9D;AAA7C,OAAf;AACD,KANM,MAMA,IACLR,GAAG,IAAIsE,UAAU,CAACC,GAAlB,IACAD,UAAU,CAAC5D,QAAX,IAAuB,OADvB,IAEA4D,UAAU,CAAC9D,QAAX,IAAuB,OAHlB,EAIL;AACAoF,MAAAA,YAAY,GAAG;AAAE3F,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,QAAQ,EAAEoE,UAAU,CAAC5D;AAA7C,OAAf;AACD,KANM,MAMA,IACLV,GAAG,IAAIsE,UAAU,CAACC,GAAlB,IACAD,UAAU,CAAC3D,GAAX,IAAkB,OADlB,IAEA2D,UAAU,CAAC5D,QAAX,IAAuB,OAHlB,EAIL;AACAkF,MAAAA,YAAY,GAAG;AAAE3F,QAAAA,QAAQ,EAAE,KAAZ;AAAmBC,QAAAA,QAAQ,EAAEoE,UAAU,CAAC3D;AAAxC,OAAf;AACD,KANM,MAMA,IACLX,GAAG,IAAIsE,UAAU,CAACC,GAAlB,IACAD,UAAU,CAAC1D,IAAX,IAAmB,OADnB,IAEA0D,UAAU,CAAC3D,GAAX,IAAkB,OAHb,EAIL;AACAiF,MAAAA,YAAY,GAAG;AAAE3F,QAAAA,QAAQ,EAAE,MAAZ;AAAoBC,QAAAA,QAAQ,EAAEoE,UAAU,CAAC1D;AAAzC,OAAf;AACD,KANM,MAMA,CACN;AACF,GAjCD;AAkCA,SAAOgF,YAAP;AACD,CAtCM;AAwCP,OAAO,MAAME,oBAAoB,GAAG,CAACC,aAAD,EAAgBC,EAAhB,KAAuB;AACzD,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,OAAO,GAAG9G,IAAI,CAACa,WAAL,CAAiBkG,IAAjB,CAAuB/F,IAAD,IAAUA,IAAI,CAACgG,QAAL,IAAiBP,EAAjD,CAAd;;AAEA,MAAIK,OAAO,IAAIA,OAAO,CAACrE,KAAR,IAAiB,QAAhC,EAA0C;AACxC,QAAI+D,aAAa,IAAI,QAArB,EAA+B;AAC7BG,MAAAA,WAAW,GAAGM,mBAAmB,CAACH,OAAD,CAAjC;AACAJ,MAAAA,OAAO,GAAG;AAAE5D,QAAAA,IAAI,EAAE,OAAR;AAAiBoE,QAAAA,IAAI,EAAE,CAAC,GAAGP,WAAJ;AAAvB,OAAV;AACD,KAHD,MAGO,IAAIH,aAAa,IAAI,OAArB,EAA8B;AACnCI,MAAAA,SAAS,GAAGO,iBAAiB,CAACL,OAAD,CAA7B;AACAH,MAAAA,WAAW,GAAGM,mBAAmB,CAACH,OAAD,CAAjC;AACAJ,MAAAA,OAAO,GAAG;AACR5D,QAAAA,IAAI,EAAE,WADE;AAERoE,QAAAA,IAAI,EAAE,CAAC,GAAGN,SAAJ,CAFE;AAGRQ,QAAAA,MAAM,EAAE,CAAC,GAAGT,WAAJ;AAHA,OAAV;AAKD,KARM,MAQA;AACLD,MAAAA,OAAO,GAAG,EAAV;AACD;AACF,GAfD,MAeO;AACLA,IAAAA,OAAO,GAAG,EAAV;AACD;;AAED,SAAOA,OAAP;AACD,CA3BM;;AA4BP,MAAMO,mBAAmB,GAAIH,OAAD,IAAa;AACvC,MAAIO,gBAAgB,GAAG,EAAvB;AACA,MAAIC,QAAQ,GAAG,EAAf;;AACA,MAAIR,OAAO,CAAC7D,KAAR,KAAkB,QAAtB,EAAgC,CAC/B,CADD,MACO;AACL6D,IAAAA,OAAO,CAACpE,QAAR,CAAiBH,GAAjB,CAAsBgF,QAAD,IAAc;AACjCA,MAAAA,QAAQ,CAAC7F,KAAT,CAAea,GAAf,CAAoBb,KAAD,IAAW;AAC5B,YAAIA,KAAK,CAAC8F,eAAN,IAAyB9F,KAAK,CAAC8F,eAAN,IAAyB,EAAtD,EAA0D;AACxDF,UAAAA,QAAQ,GAAGpH,aAAa,GAAGwB,KAAK,CAAC8F,eAAjC;AACAH,UAAAA,gBAAgB,CAACtE,IAAjB,CAAsBuE,QAAtB;AACD;AACF,OALD;AAMD,KAPD;AAQD;;AACD,SAAOD,gBAAP;AACD,CAfD;;AAiBA,MAAMF,iBAAiB,GAAIL,OAAD,IAAa;AACrC,MAAIF,SAAS,GAAG,EAAhB;AAEAE,EAAAA,OAAO,CAACpE,QAAR,CAAiBH,GAAjB,CAAsBgF,QAAD,IAAc;AACjCA,IAAAA,QAAQ,CAAC7F,KAAT,CAAea,GAAf,CAAoBb,KAAD,IAAW;AAC5BkF,MAAAA,SAAS,CAAC7D,IAAV,CAAerB,KAAK,CAACkF,SAArB;AACD,KAFD;AAGD,GAJD;AAMA,SAAOA,SAAP;AACD,CAVD","sourcesContent":["import * as Data from \"../../Data\";\r\nimport * as hC from \"../header/headerController\";\r\nimport { prodImagesDir } from \"../../settings\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const getProducts = (\r\n  filters,\r\n  products,\r\n  dispatch,\r\n  property,\r\n  url,\r\n  taxonomy,\r\n  category\r\n) => {\r\n  let getProducts = [];\r\n  let selectedProducts = [];\r\n  let allProducts = Data.allProducts;\r\n  let i = -1;\r\n\r\n  if (url == \"all-products\") {\r\n    filters[\"all-products\"] = \"all-products\";\r\n  }\r\n\r\n  if (taxonomy == \"SUBTYP_2\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) =>\r\n        prod.SUBTYP_2 == category &&\r\n        prod.SUBTYP_3 == \"EMPTY\" &&\r\n        prod.SUBTYP_2 != \"EMPTY\"\r\n    );\r\n  } else if (taxonomy == \"SUBTYP_1\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) =>\r\n        prod.SUBTYP_1 == category &&\r\n        prod.SUBTYP_2 == \"EMPTY\" &&\r\n        prod.SUBTYP_1 != \"EMPTY\"\r\n    );\r\n  } else if (taxonomy == \"TYP\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) =>\r\n        prod.TYP == category && prod.SUBTYP_1 == \"EMPTY\" && prod.TYP != \"EMPTY\"\r\n    );\r\n  } else if (taxonomy == \"DEPT\") {\r\n    getProducts = allProducts.filter(\r\n      (prod) => prod.DEPT.toUpperCase() == category.toUpperCase()\r\n    );\r\n  } else if (url == \"all-products\") {\r\n    getProducts = [];\r\n    getProducts = allProducts;\r\n  } else {\r\n    getProducts = [];\r\n  }\r\n  if (Object.entries(filters).length !== 0) {\r\n    //Load products by seleted color filters\r\n    if (filters.color) {\r\n      getProducts = productsBySelectedColors(filters, getProducts);\r\n    }\r\n\r\n    //Load products by seleted brand filters\r\n    if (filters.BRAND) {\r\n      getProducts = productsBySelectedBrands(filters, getProducts);\r\n    }\r\n\r\n    //Load products by seleted size filters\r\n    if (filters.size) {\r\n      getProducts = productsBySelectedSize(filters, getProducts);\r\n    }\r\n\r\n    //Load products by seleted price Ranges filters\r\n    if (filters.priceRange) {\r\n      getProducts = productsBySelectedPriceRanges(filters, getProducts);\r\n    }\r\n  } else {\r\n  }\r\n\r\n  if (property == \"default\") {\r\n  } else {\r\n    getProducts = SortProducts(property, getProducts, dispatch);\r\n  }\r\n\r\n  if (JSON.stringify(products) == JSON.stringify(getProducts)) {\r\n  } else {\r\n    dispatch({\r\n      TYPe: \"ADD_PRODUCTS\",\r\n      productsItems: getProducts,\r\n    });\r\n  }\r\n  return getProducts;\r\n};\r\n\r\nconst productsBySelectedColors = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.gener == \"simple\") {\r\n        /* prods.color.map((clr) => {\r\n          if (filters.color.includes(clr)) {\r\n            if (selectedProducts.includes(prods)) {\r\n            } else {\r\n              selectedProducts.push(prods)\r\n            }\r\n          }\r\n        })*/\r\n      } else {\r\n        prods.variants.map((vproduct) => {\r\n          vproduct.color.map((clr) => {\r\n            if (filters.color.includes(clr.name)) {\r\n              if (selectedProducts.includes(prods)) {\r\n              } else {\r\n                selectedProducts.push(prods);\r\n              }\r\n            }\r\n          });\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nconst productsBySelectedBrands = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.BRAND == filters.BRAND) {\r\n        if (selectedProducts.includes(prods)) {\r\n        } else {\r\n          selectedProducts.push(prods);\r\n        }\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nconst productsBySelectedSize = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  /////////////// start remove this aftrer adding variants in getproducts\r\n  getProducts.map((prods) => {\r\n    for (const size of prod.SIZELIST) {\r\n      if (filters.size.includes(size)) {\r\n        if (selectedProducts.includes(prods)) {\r\n        } else {\r\n          selectedProducts.push(prods);\r\n        }\r\n      }\r\n    }\r\n  });\r\n  /////////////// end remove this aftrer adding variants in getproducts\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.GENER == \"simple\") {\r\n        /* prods.color.map((clr) => {\r\n           if (filters.color.includes(clr)) {\r\n             if (selectedProducts.includes(prods)) {\r\n             } else {\r\n               selectedProducts.push(prods)\r\n             }\r\n           }\r\n         })*/\r\n      } else {\r\n        prods.variants.map((vproduct) => {\r\n          if (filters.size.includes(vproduct.size)) {\r\n            if (selectedProducts.includes(prods)) {\r\n            } else {\r\n              selectedProducts.push(prods);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nconst productsBySelectedPriceRanges = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n  let lower;\r\n  let upper;\r\n  if (filters.priceRange == \"below $50\") {\r\n    lower = 0;\r\n    upper = 50;\r\n  } else if (filters.priceRange == \"$51-$100\") {\r\n    lower = 51;\r\n    upper = 100;\r\n  } else if (filters.priceRange == \"$101-$150\") {\r\n    lower = 101;\r\n    upper = 150;\r\n  } else if (filters.priceRange == \"$151-$200\") {\r\n    lower = 151;\r\n    upper = 200;\r\n  } else if (filters.priceRange == \"$201-$250\") {\r\n    lower = 201;\r\n    upper = 250;\r\n  } else if (filters.priceRange == \"above $250\") {\r\n    lower = 251;\r\n    upper = 9999999999999;\r\n  }\r\n\r\n  if (filters.priceRange) {\r\n    if (getProducts) {\r\n      getProducts.map((prods) => {\r\n        if (prods.gener == \"simple\") {\r\n          if (prods.sales_price) {\r\n            if (prods.sales_price >= lower && prods.sales_price <= upper) {\r\n              if (selectedProducts.includes(prods)) {\r\n              } else {\r\n                selectedProducts.push(prods);\r\n              }\r\n            }\r\n          } else {\r\n            if (prods.regular_price >= lower && prods.regular_price <= upper) {\r\n              if (selectedProducts.includes(prods)) {\r\n              } else {\r\n                selectedProducts.push(prods);\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          prods.variants.map((vproduct) => {\r\n            if (vproduct.sales_price) {\r\n              if (\r\n                vproduct.sales_price >= lower &&\r\n                vproduct.sales_price <= upper\r\n              ) {\r\n                if (selectedProducts.includes(prods)) {\r\n                } else {\r\n                  selectedProducts.push(prods);\r\n                }\r\n              }\r\n            } else {\r\n              if (\r\n                vproduct.regular_price >= lower &&\r\n                vproduct.regular_price <= upper\r\n              ) {\r\n                if (selectedProducts.includes(prods)) {\r\n                } else {\r\n                  selectedProducts.push(prods);\r\n                }\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      selectedProducts = [];\r\n    }\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nexport const getCategoryTitle = (props) => {\r\n  let categoryHeading = \"\";\r\n  if (props.filters.SUBTYP_3) {\r\n    categoryHeading = props.filters.SUBTYP_3;\r\n  } else if (props.filters.SUBTYP_2) {\r\n    categoryHeading = props.filters.SUBTYP_2;\r\n  } else if (props.filters.SUBTYP_1) {\r\n    categoryHeading = props.filters.SUBTYP_1;\r\n  } else if (props.filters.TYP) {\r\n    categoryHeading = props.filters.TYP;\r\n  } else if (props.filters.DEPT) {\r\n    categoryHeading = props.filters.DEPT;\r\n  } else if (props.filters.BRAND) {\r\n    categoryHeading = props.filters.BRAND;\r\n  } else if (props.filters.allproducts) {\r\n    categoryHeading = props.filters.allproducts;\r\n  } else {\r\n  }\r\n\r\n  return categoryHeading;\r\n};\r\n\r\nexport const pagination = (products, productsPerPage, activePage) => {\r\n  let pagination = {};\r\n  // Logic for displaying current products\r\n  const indexOfLastProduct = activePage * productsPerPage;\r\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\r\n  const currentproducts = products.slice(\r\n    indexOfFirstProduct,\r\n    indexOfLastProduct\r\n  );\r\n  pagination.currentproducts = currentproducts;\r\n  return pagination;\r\n};\r\n\r\nexport const handlePageChange = (setCurrentPage, e) => {\r\n  setCurrentPage(e);\r\n};\r\n\r\nexport const handleChangePerPage = (setPerpageProductscount, e) => {\r\n  let value = e.target.value;\r\n  setPerpageProductscount(value);\r\n};\r\n\r\nexport const getCategoryBreadCrumbs = (props) => {\r\n  let breadcrumbs = [];\r\n  let breadcrumbsContent = [];\r\n\r\n  if (props.urlData.taxonomy && props.urlData.taxonomy == \"DEPT\") {\r\n    breadcrumbs.push({\r\n      item: props.urlData.category,\r\n      url: props.urlData.url,\r\n      taxonomy: \"DEPT\",\r\n      redirectUrl: \"DEPT_Url\",\r\n    });\r\n  } else if (props.urlData.taxonomy == \"TYP\") {\r\n    let DEPT = \"\";\r\n    let DEPT_Url = \"\";\r\n\r\n    Data.taxonomy.map((categories) => {\r\n      if (\r\n        categories.TYP.toUpperCase() == props.urlData.category.toUpperCase() &&\r\n        categories.URL == props.urlData.url &&\r\n        categories.SUBTYP_1 == \"EMPTY\"\r\n      ) {\r\n        DEPT = categories.DEPT;\r\n\r\n        Data.taxonomy.map((cat) => {\r\n          if (\r\n            cat.DEPT.toUpperCase() == DEPT.toUpperCase() &&\r\n            cat.TYP == \"EMPTY\"\r\n          ) {\r\n            DEPT_Url = cat.URL;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    breadcrumbs.push(\r\n      {\r\n        item: DEPT,\r\n        url: DEPT_Url,\r\n        taxonomy: \"DEPT\",\r\n        redirectUrl: \"DEPT_Url\",\r\n      },\r\n      {\r\n        item: props.urlData.category,\r\n        url: props.urlData.url,\r\n        taxonomy: \"TYP\",\r\n        redirectUrl: \"TYP_Url\",\r\n      }\r\n    );\r\n  } else if (props.urlData.taxonomy == \"SUBTYP_1\") {\r\n    let DEPT = \"\";\r\n    let DEPT_Url = \"\";\r\n\r\n    let TYP = \"\";\r\n    let TYP_Url = \"\";\r\n\r\n    Data.taxonomy.map((categories) => {\r\n      if (\r\n        categories.SUBTYP_1.toUpperCase() ==\r\n          props.urlData.category.toUpperCase() &&\r\n        categories.URL == props.urlData.url &&\r\n        categories.SUBTYP_2 == \"EMPTY\"\r\n      ) {\r\n        DEPT = categories.DEPT;\r\n        TYP = categories.TYP;\r\n        Data.taxonomy.map((cat) => {\r\n          if (\r\n            cat.DEPT.toUpperCase() == DEPT.toUpperCase() &&\r\n            cat.TYP == \"EMPTY\"\r\n          ) {\r\n            DEPT_Url = cat.URL;\r\n          }\r\n        });\r\n\r\n        Data.taxonomy.map((cat) => {\r\n          if (\r\n            cat.DEPT.toUpperCase() == DEPT.toUpperCase() &&\r\n            cat.TYP == TYP &&\r\n            cat.SUBTYP_1 == \"EMPTY\"\r\n          ) {\r\n            TYP_Url = cat.URL;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    breadcrumbs.push(\r\n      {\r\n        item: DEPT,\r\n        url: DEPT_Url,\r\n        taxonomy: \"DEPT\",\r\n        redirectUrl: \"DEPT_Url\",\r\n      },\r\n      {\r\n        item: TYP,\r\n        url: TYP_Url,\r\n        taxonomy: \"TYP\",\r\n        redirectUrl: \"TYP_Url\",\r\n      },\r\n\r\n      {\r\n        item: props.urlData.category,\r\n        url: props.urlData.url,\r\n        taxonomy: \"SUBTYP_1\",\r\n        redirectUrl: \"SUBTYP_1_Url\",\r\n      }\r\n    );\r\n  } else if (props.urlData.url == \"all-products\") {\r\n    breadcrumbs.push({\r\n      item: \"All Products\",\r\n      url: \"all-products\",\r\n      taxonomy: \"All Products\",\r\n      redirectUrl: \"\",\r\n    });\r\n  }\r\n\r\n  breadcrumbsContent.push(\r\n    <li className=\"breadcrumb-item\">\r\n      <Link to=\"/\" className=\"text-dark text-decoration-none\">\r\n        Home\r\n      </Link>\r\n    </li>\r\n  );\r\n\r\n  let i = -1;\r\n  for (const [key, value] of Object.entries(breadcrumbs)) {\r\n    i++;\r\n\r\n    if (i == breadcrumbs.length - 1) {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n          {value.item}\r\n        </li>\r\n      );\r\n    } else {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item\">\r\n          <Link\r\n            to=\"\"\r\n            className=\"text-dark text-decoration-none\"\r\n            onClick={(e) => {\r\n              let dispatchedData = {};\r\n\r\n              dispatchedData = {\r\n                taxonomy: value.taxonomy,\r\n                redirectUrl: value.redirectUrl,\r\n                taxonomyValue: value.item,\r\n                taxonomyUrl: value.url,\r\n              };\r\n              hC.addFilters(e, dispatchedData, props.dispatch, props.history);\r\n            }}\r\n          >\r\n            {value.item}\r\n          </Link>\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n\r\n  return breadcrumbsContent;\r\n};\r\nconst SortProducts = (property, products, dispatch) => {\r\n  let tempProducts = [];\r\n  let Sorting = { value: \"default\", order: \"ASC\" };\r\n\r\n  if (property == \"name(a-z)\") {\r\n    Sorting = { value: \"NAME\", order: \"ASC\" };\r\n  } else if (property == \"name(z-a)\") {\r\n    Sorting = { value: \"NAME\", order: \"DESC\" };\r\n  } else if (property == \"featuredASC\") {\r\n    Sorting = { value: \"FEATURED\", order: \"ASC\" };\r\n  } else if (property == \"price-high-to-low\") {\r\n    Sorting = { value: \"REGULAR_PRICE\", order: \"DESC\" };\r\n  } else if (property == \"price-low-to-high\") {\r\n    Sorting = { value: \"REGULAR_PRICE\", order: \"ASC\" };\r\n  } else {\r\n    Sorting = { value: \"default\", order: \"ASC\" };\r\n  }\r\n\r\n  tempProducts = products.sort(SortProcess(Sorting));\r\n\r\n  return tempProducts;\r\n};\r\nconst SortProcess = (sorting) => {\r\n  let property = \"default\";\r\n  let order = \"ASC\";\r\n  property = sorting.value;\r\n  order = sorting.order;\r\n\r\n  var sortOrder = 1;\r\n  if (property[0] === \"-\") {\r\n    sortOrder = -1;\r\n    property = property.substr(1);\r\n  }\r\n  return function (a, b) {\r\n    /* next line works with strings and numbers,\r\n     * and you may want to customize it to your needs\r\n     */\r\n    if (order == \"ASC\") {\r\n      var result =\r\n        a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\r\n    } else {\r\n      var result =\r\n        a[property] > b[property] ? -1 : a[property] < b[property] ? 1 : 0;\r\n    }\r\n    return result * sortOrder;\r\n  };\r\n};\r\n\r\nexport const getUrlTaxonomy = (url) => {\r\n  let categoryData = {};\r\n\r\n  Data.taxonomy.map((categories) => {\r\n    if (\r\n      url == categories.URL &&\r\n      categories.SUBTYP_3 != \"EMPTY\" &&\r\n      categories.SUBTYP_4 == \"EMPTY\"\r\n    ) {\r\n      categoryData = { taxonomy: \"SUBTYP_3\", category: categories.SUBTYP_3 };\r\n    } else if (\r\n      url == categories.URL &&\r\n      categories.SUBTYP_2 != \"EMPTY\" &&\r\n      categories.SUBTYP_3 == \"EMPTY\"\r\n    ) {\r\n      categoryData = { taxonomy: \"SUBTYP_2\", category: categories.SUBTYP_2 };\r\n    } else if (\r\n      url == categories.URL &&\r\n      categories.SUBTYP_1 != \"EMPTY\" &&\r\n      categories.SUBTYP_2 == \"EMPTY\"\r\n    ) {\r\n      categoryData = { taxonomy: \"SUBTYP_1\", category: categories.SUBTYP_1 };\r\n    } else if (\r\n      url == categories.URL &&\r\n      categories.TYP != \"EMPTY\" &&\r\n      categories.SUBTYP_1 == \"EMPTY\"\r\n    ) {\r\n      categoryData = { taxonomy: \"TYP\", category: categories.TYP };\r\n    } else if (\r\n      url == categories.URL &&\r\n      categories.DEPT != \"EMPTY\" &&\r\n      categories.TYP == \"EMPTY\"\r\n    ) {\r\n      categoryData = { taxonomy: \"DEPT\", category: categories.DEPT };\r\n    } else {\r\n    }\r\n  });\r\n  return categoryData;\r\n};\r\n\r\nexport const getColorAttrOnThumbs = (colorOrImages, id) => {\r\n  let results = {};\r\n  let colorImages = [];\r\n  let colorCode = [];\r\n  let content = \"\";\r\n  let product = Data.allProducts.find((prod) => prod.style_id == id);\r\n\r\n  if (product && product.gener != \"simple\") {\r\n    if (colorOrImages == \"images\") {\r\n      colorImages = getThumbColorImages(product);\r\n      results = { name: \"image\", data: [...colorImages] };\r\n    } else if (colorOrImages == \"color\") {\r\n      colorCode = getThumbColorcode(product);\r\n      colorImages = getThumbColorImages(product);\r\n      results = {\r\n        name: \"colorCode\",\r\n        data: [...colorCode],\r\n        images: [...colorImages],\r\n      };\r\n    } else {\r\n      results = {};\r\n    }\r\n  } else {\r\n    results = {};\r\n  }\r\n\r\n  return results;\r\n};\r\nconst getThumbColorImages = (product) => {\r\n  let smallColorImages = [];\r\n  let imageUrl = \"\";\r\n  if (product.GENER === \"simple\") {\r\n  } else {\r\n    product.variants.map((vProduct) => {\r\n      vProduct.color.map((color) => {\r\n        if (color.colorSmallImage && color.colorSmallImage != \"\") {\r\n          imageUrl = prodImagesDir + color.colorSmallImage;\r\n          smallColorImages.push(imageUrl);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  return smallColorImages;\r\n};\r\n\r\nconst getThumbColorcode = (product) => {\r\n  let colorCode = [];\r\n\r\n  product.variants.map((vProduct) => {\r\n    vProduct.color.map((color) => {\r\n      colorCode.push(color.colorCode);\r\n    });\r\n  });\r\n\r\n  return colorCode;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}