{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\ColdFusion2018\\\\cfusion\\\\wwwroot\\\\celerant360\\\\client\\\\src\\\\components\\\\sideNav\\\\sideNavController.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useStateValue } from \"../../StateProvider\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nimport { useHistory } from \"react-router-dom\";\nimport * as Data from \"../../Data\";\n\nconst productsBySelectedBrands = (filters, getProducts) => {\n  let selectedProducts = [];\n\n  if (getProducts) {\n    getProducts.map(prods => {\n      if (prods.brand == filters.brand) {\n        if (selectedProducts.includes(prods)) {} else {\n          selectedProducts.push(prods);\n        }\n      }\n    });\n  } else {\n    selectedProducts = [];\n  }\n\n  return selectedProducts;\n};\n\nexport const GetSelectedFilters = props => {\n  _s();\n\n  const [{\n    basket,\n    sFilters\n  }, dispatch] = useStateValue();\n  let filters = reactLocalStorage.getObject(\"storedFilters\");\n  console.log(\"props.filters.brand\");\n  console.log(props.filters.BRAND);\n\n  const removeCategyFilters = (slectedFilters, term, value, history, isHistory) => {\n    let index;\n\n    if (term == \"brand\" || term == \"color\" || term == \"size\" || term == \"priceRange\") {\n      index = slectedFilters[term].indexOf(value);\n      slectedFilters[term].splice(index, index + 1);\n\n      if (slectedFilters[term].length == 0) {\n        delete slectedFilters[term];\n      }\n    } else {\n      delete slectedFilters[term];\n      delete slectedFilters[value];\n    } //reactLocalStorage.clear('storedFilters')\n\n\n    dispatch({\n      type: \"ADD_FILTERS\",\n      filterItems: { ...slectedFilters\n      }\n    });\n    filters = reactLocalStorage.setObject(\"storedFilters\", slectedFilters);\n\n    if (slectedFilters.SUBTYP_3_Url) {\n      history.push(\"/category/\" + slectedFilters.SUBTYP_3_Url);\n    } else if (slectedFilters.SUBTYP_2_Url) {\n      history.push(\"/category/\" + slectedFilters.SUBTYP_2_Url);\n    } else if (slectedFilters.SUBTYP_1_Url) {\n      history.push(\"/category/\" + slectedFilters.SUBTYP_1_Url);\n    } else if (slectedFilters.TYP_Url) {\n      history.push(\"/category/\" + slectedFilters.TYP_Url);\n    } else if (slectedFilters.DEPT_Url) {\n      history.push(\"/category/\" + slectedFilters.DEPT_Url);\n    } else {\n      history.push(\"/category/all-products\");\n    }\n  };\n\n  const removeFilter = (slectedFilters, term, value) => {\n    let index;\n\n    if (term == \"brand\" || term == \"color\" || term == \"size\" || term == \"priceRange\") {\n      index = slectedFilters[term].indexOf(value);\n      slectedFilters[term].splice(index, index + 1);\n\n      if (slectedFilters[term].length == 0) {\n        delete slectedFilters[term];\n      }\n    } else {\n      delete slectedFilters[term];\n    } // reactLocalStorage.clear('storedFilters')\n\n\n    dispatch({\n      type: \"ADD_FILTERS\",\n      filterItems: { ...slectedFilters\n      }\n    });\n    filters = reactLocalStorage.setObject(\"storedFilters\", slectedFilters);\n  };\n\n  let history = useHistory();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [props.filters.DEPT && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"d-block mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-times pr-2\",\n        onClick: () => {\n          removeCategyFilters(props.filters, \"DEPT\", \"DEPT_Url\", history, \"yes\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), props.filters.DEPT]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), props.filters.TYP && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"d-block mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-times pr-2\",\n        onClick: () => {\n          removeCategyFilters(props.filters, \"TYP\", \"TYP_Url\", history, \"yes\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), props.filters.TYP]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), props.filters.SUBTYP_1 && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"d-block mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-times pr-2\",\n        onClick: () => {\n          removeCategyFilters(props.filters, \"SUBTYP_1\", \"SUBTYP_1_Url\", history, \"yes\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), props.filters.SUBTYP_1]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this), props.filters.selectedSUBTYP_2 && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"d-block mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-times pr-2\",\n        onClick: () => {\n          removeCategyFilters(props.filters, \"SUBTYP_2\", \"SUBTYP_2_Url\", history, \"yes\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), props.filters.selectedSUBTYP_2]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), props.filters.selectedSUBTYP_3 && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"d-block mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-times pr-2\",\n        onClick: () => {\n          removeFilter(props.filters, \"SUBTYP_3\", productsBySelectedBrands);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), props.filters.selectedSUBTYP_3]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this), props.filters.color ? props.filters.color.map(seleted_Color => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"d-block mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-times pr-2\",\n          onClick: () => {\n            removeFilter(props.filters, \"color\", seleted_Color);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this), seleted_Color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }, this);\n    }) : \"\", props.filters.brand ? props.filters.brand.map(seleted_Brand => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"d-block mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-times pr-2\",\n          onClick: () => {\n            removeFilter(props.filters, \"brand\", seleted_Brand);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }, this), seleted_Brand]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }, this);\n    }) : \"\", props.filters.size ? props.filters.size.map(slected_Sizes => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"d-block mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-times pr-2\",\n          onClick: () => {\n            removeFilter(props.filters, \"size\", slected_Sizes);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }, this), slected_Sizes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 15\n      }, this);\n    }) : \"\", props.filters.priceRange ? props.filters.priceRange.map(slected_price => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"d-block mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-times pr-2\",\n          onClick: () => {\n            removeFilter(props.filters, \"priceRange\", slected_price);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }, this), slected_price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }, this);\n    }) : \"\"]\n  }, void 0, true);\n};\n\n_s(GetSelectedFilters, \"tkgsHq8k3vtKJFq9p9I3dBRh0mM=\", false, function () {\n  return [useStateValue, useHistory];\n});\n\n_c = GetSelectedFilters;\nexport const shopByPrice = getProducts => {\n  let priceRange = [];\n  getProducts.map(product => {\n    if (product.PRICERANGE != null) {\n      if (priceRange.includes(product.PRICERANGE)) {} else {\n        priceRange.push(product.PRICERANGE);\n      }\n    }\n  });\n  priceRange = priceRange.sort(sortPricing);\n  return priceRange;\n};\n\nvar sortPricing = (n1, n2) => {\n  return Number(n1.match(/(\\d+)/g)[0]) - Number(n2.match(/(\\d+)/g)[0]);\n};\n\nexport const shopByBrand = getProducts => {\n  let brandFilters = {\n    brand: [],\n    itemsCount: []\n  };\n  brandFilters = [];\n  let brands = [];\n  let itemsCount = [];\n\n  if (getProducts.length > 0) {\n    getProducts.map(prods => {\n      if (brands.includes(prods.BRAND)) {} else {\n        brands.push(prods.BRAND);\n      }\n    });\n  } else {}\n\n  for (let i = 0; i < brands.length; i++) {\n    let count = 0;\n    getProducts.map(prods => {\n      if (brands[i] == prods.BRAND) {\n        count++;\n        itemsCount[i] = count;\n      }\n    });\n  }\n\n  brandFilters.brand = [...brands];\n  brandFilters.itemsCount = [...itemsCount];\n  return brandFilters;\n};\nexport const shopBySize = getProducts => {\n  let selectedSizes = [];\n  getProducts.map(product => {\n    if (product.GENER == \"simple\") {} else {\n      product.VARIANTS.map(vProducts => {\n        if (vProducts.SIZE != null) {\n          vProducts.SIZE.map(SIZES => {\n            if (selectedSizes.includes(SIZES)) {} else {\n              selectedSizes.push(SIZES);\n            }\n          });\n        }\n      });\n    }\n  });\n  return selectedSizes;\n};\nexport const shopByColor = getProducts => {\n  let selectedColors = [];\n  getProducts.map(product => {\n    if (product.GENER === \"simple\") {} else {\n      product.VARIANTS.map(vProducts => {\n        if (vProducts.COLOR != null) {\n          vProducts.COLOR.map(prodColor => {\n            if (selectedColors.includes(prodColor.NAME)) {} else {\n              selectedColors.push(prodColor.NAME);\n            }\n          });\n        }\n      });\n    }\n  });\n  return selectedColors;\n};\nexport const taxonomyLevels = filters => {\n  let taxonomyLetvel = 0;\n  if (filters.SUBTYP_2 && filters.SUBTYP_2 != \"EMPTY\") taxonomyLetvel = 4;else if (filters.SUBTYP_1 && filters.SUBTYP_1 != \"EMPTY\") taxonomyLetvel = 3;else if (filters.TYP && filters.TYP != \"EMPTY\") taxonomyLetvel = 2;else if (filters.DEPT && filters.DEPT != \"EMPTY\") taxonomyLetvel = 1;else taxonomyLetvel = 0;\n  return taxonomyLetvel;\n};\nexport const shopByCategories = (currentFilters, url) => {\n  let level = 0;\n  let categoryData = {\n    taxonomy: \"\",\n    categories: []\n  };\n  level = taxonomyLevels(currentFilters);\n\n  if (level == 4) {\n    Data.allProducts.map(product => {\n      if (product.SUBTYP_3) {\n        if (categoryData.categories.includes(product.SUBTYP_3)) {} else {\n          if (product.SUBTYP_2.toUpperCase() == currentFilters.SUBTYP_2.toUpperCase() && product.SUBTYP_3 != \"EMPTY\" && product.subTYP_4 == \"EMPTY\") {\n            categoryData.categories.push(product.SUBTYP_3);\n            categoryData.taxonomy = \"SUBTYP_3\";\n          }\n        }\n      }\n    });\n  } else if (level == 3) {\n    Data.allProducts.map(product => {\n      if (product.SUBTYP_2) {\n        if (categoryData.categories.includes(product.SUBTYP_2)) {} else {\n          if (product.SUBTYP_1.toUpperCase() == currentFilters.SUBTYP_1.toUpperCase() && product.SUBTYP_2 != \"EMPTY\" && product.SUBTYP_3 == \"EMPTY\") {\n            categoryData.categories.push(product.SUBTYP_2);\n            categoryData.taxonomy = \"SUBTYP_2\";\n          }\n        }\n      }\n    });\n  } else if (level == 2) {\n    Data.allProducts.map(product => {\n      if (product.SUBTYP_1) {\n        if (categoryData.categories.includes(product.SUBTYP_1)) {} else {\n          if (product.TYP == currentFilters.TYP && product.SUBTYP_1 != \"EMPTY\" && product.SUBTYP_2 == \"EMPTY\") {\n            categoryData.categories.push(product.SUBTYP_1);\n            categoryData.taxonomy = \"SUBTYP_1\";\n          }\n        }\n      }\n    });\n  } else if (level == 1) {\n    Data.allProducts.map(product => {\n      if (product.TYP) {\n        if (categoryData.categories.includes(product.TYP)) {} else {\n          if (product.DEPT.toUpperCase() == currentFilters.DEPT.toUpperCase() && product.TYP != \"EMPTY\" && product.SUBTYP_1 == \"EMPTY\") {\n            categoryData.categories.push(product.TYP);\n            categoryData.taxonomy = \"TYP\";\n          }\n        }\n      }\n    });\n  } else if (level == 0) {\n    Data.allProducts.map(product => {\n      if (product.DEPT) {\n        if (categoryData.categories.includes(product.DEPT) || product.DEPT == \"\" || product.DEPT == \" \" || product.DEPT == \"EMPTY\") {} else {\n          categoryData.categories.push(product.DEPT);\n          categoryData.taxonomy = \"DEPT\";\n        }\n      }\n    });\n  } else {}\n\n  return categoryData;\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"GetSelectedFilters\");","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/client/src/components/sideNav/sideNavController.js"],"names":["React","useStateValue","reactLocalStorage","useHistory","Data","productsBySelectedBrands","filters","getProducts","selectedProducts","map","prods","brand","includes","push","GetSelectedFilters","props","basket","sFilters","dispatch","getObject","console","log","BRAND","removeCategyFilters","slectedFilters","term","value","history","isHistory","index","indexOf","splice","length","type","filterItems","setObject","SUBTYP_3_Url","SUBTYP_2_Url","SUBTYP_1_Url","TYP_Url","DEPT_Url","removeFilter","DEPT","TYP","SUBTYP_1","selectedSUBTYP_2","selectedSUBTYP_3","color","seleted_Color","seleted_Brand","size","slected_Sizes","priceRange","slected_price","shopByPrice","product","PRICERANGE","sort","sortPricing","n1","n2","Number","match","shopByBrand","brandFilters","itemsCount","brands","i","count","shopBySize","selectedSizes","GENER","VARIANTS","vProducts","SIZE","SIZES","shopByColor","selectedColors","COLOR","prodColor","NAME","taxonomyLevels","taxonomyLetvel","SUBTYP_2","shopByCategories","currentFilters","url","level","categoryData","taxonomy","categories","allProducts","SUBTYP_3","toUpperCase","subTYP_4"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useStateValue } from \"../../StateProvider\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as Data from \"../../Data\";\r\n\r\nconst productsBySelectedBrands = (filters, getProducts) => {\r\n  let selectedProducts = [];\r\n\r\n  if (getProducts) {\r\n    getProducts.map((prods) => {\r\n      if (prods.brand == filters.brand) {\r\n        if (selectedProducts.includes(prods)) {\r\n        } else {\r\n          selectedProducts.push(prods);\r\n        }\r\n      }\r\n    });\r\n  } else {\r\n    selectedProducts = [];\r\n  }\r\n  return selectedProducts;\r\n};\r\n\r\nexport const GetSelectedFilters = (props) => {\r\n  const [{ basket, sFilters }, dispatch] = useStateValue();\r\n\r\n  let filters = reactLocalStorage.getObject(\"storedFilters\");\r\n\r\n  console.log(\"props.filters.brand\");\r\n  console.log(props.filters.BRAND);\r\n\r\n  const removeCategyFilters = (\r\n    slectedFilters,\r\n    term,\r\n    value,\r\n    history,\r\n    isHistory\r\n  ) => {\r\n    let index;\r\n    if (\r\n      term == \"brand\" ||\r\n      term == \"color\" ||\r\n      term == \"size\" ||\r\n      term == \"priceRange\"\r\n    ) {\r\n      index = slectedFilters[term].indexOf(value);\r\n      slectedFilters[term].splice(index, index + 1);\r\n      if (slectedFilters[term].length == 0) {\r\n        delete slectedFilters[term];\r\n      }\r\n    } else {\r\n      delete slectedFilters[term];\r\n      delete slectedFilters[value];\r\n    }\r\n\r\n    //reactLocalStorage.clear('storedFilters')\r\n\r\n    dispatch({\r\n      type: \"ADD_FILTERS\",\r\n      filterItems: {\r\n        ...slectedFilters,\r\n      },\r\n    });\r\n    filters = reactLocalStorage.setObject(\"storedFilters\", slectedFilters);\r\n    if (slectedFilters.SUBTYP_3_Url) {\r\n      history.push(\"/category/\" + slectedFilters.SUBTYP_3_Url);\r\n    } else if (slectedFilters.SUBTYP_2_Url) {\r\n      history.push(\"/category/\" + slectedFilters.SUBTYP_2_Url);\r\n    } else if (slectedFilters.SUBTYP_1_Url) {\r\n      history.push(\"/category/\" + slectedFilters.SUBTYP_1_Url);\r\n    } else if (slectedFilters.TYP_Url) {\r\n      history.push(\"/category/\" + slectedFilters.TYP_Url);\r\n    } else if (slectedFilters.DEPT_Url) {\r\n      history.push(\"/category/\" + slectedFilters.DEPT_Url);\r\n    } else {\r\n      history.push(\"/category/all-products\");\r\n    }\r\n  };\r\n\r\n  const removeFilter = (slectedFilters, term, value) => {\r\n    let index;\r\n    if (\r\n      term == \"brand\" ||\r\n      term == \"color\" ||\r\n      term == \"size\" ||\r\n      term == \"priceRange\"\r\n    ) {\r\n      index = slectedFilters[term].indexOf(value);\r\n      slectedFilters[term].splice(index, index + 1);\r\n      if (slectedFilters[term].length == 0) {\r\n        delete slectedFilters[term];\r\n      }\r\n    } else {\r\n      delete slectedFilters[term];\r\n    }\r\n\r\n    // reactLocalStorage.clear('storedFilters')\r\n\r\n    dispatch({\r\n      type: \"ADD_FILTERS\",\r\n      filterItems: {\r\n        ...slectedFilters,\r\n      },\r\n    });\r\n    filters = reactLocalStorage.setObject(\"storedFilters\", slectedFilters);\r\n  };\r\n  let history = useHistory();\r\n\r\n  return (\r\n    <>\r\n      {props.filters.DEPT && (\r\n        <span className=\"d-block mb-2\">\r\n          <i\r\n            className=\"fa fa-times pr-2\"\r\n            onClick={() => {\r\n              removeCategyFilters(\r\n                props.filters,\r\n                \"DEPT\",\r\n                \"DEPT_Url\",\r\n                history,\r\n                \"yes\"\r\n              );\r\n            }}\r\n          ></i>\r\n          {props.filters.DEPT}\r\n        </span>\r\n      )}\r\n\r\n      {props.filters.TYP && (\r\n        <span className=\"d-block mb-2\">\r\n          <i\r\n            className=\"fa fa-times pr-2\"\r\n            onClick={() => {\r\n              removeCategyFilters(\r\n                props.filters,\r\n                \"TYP\",\r\n                \"TYP_Url\",\r\n                history,\r\n                \"yes\"\r\n              );\r\n            }}\r\n          ></i>\r\n          {props.filters.TYP}\r\n        </span>\r\n      )}\r\n\r\n      {props.filters.SUBTYP_1 && (\r\n        <span className=\"d-block mb-2\">\r\n          <i\r\n            className=\"fa fa-times pr-2\"\r\n            onClick={() => {\r\n              removeCategyFilters(\r\n                props.filters,\r\n                \"SUBTYP_1\",\r\n                \"SUBTYP_1_Url\",\r\n                history,\r\n                \"yes\"\r\n              );\r\n            }}\r\n          ></i>\r\n          {props.filters.SUBTYP_1}\r\n        </span>\r\n      )}\r\n      {props.filters.selectedSUBTYP_2 && (\r\n        <span className=\"d-block mb-2\">\r\n          <i\r\n            className=\"fa fa-times pr-2\"\r\n            onClick={() => {\r\n              removeCategyFilters(\r\n                props.filters,\r\n                \"SUBTYP_2\",\r\n                \"SUBTYP_2_Url\",\r\n                history,\r\n                \"yes\"\r\n              );\r\n            }}\r\n          ></i>\r\n          {props.filters.selectedSUBTYP_2}\r\n        </span>\r\n      )}\r\n\r\n      {props.filters.selectedSUBTYP_3 && (\r\n        <span className=\"d-block mb-2\">\r\n          <i\r\n            className=\"fa fa-times pr-2\"\r\n            onClick={() => {\r\n              removeFilter(props.filters, \"SUBTYP_3\", productsBySelectedBrands);\r\n            }}\r\n          ></i>\r\n          {props.filters.selectedSUBTYP_3}\r\n        </span>\r\n      )}\r\n\r\n      {props.filters.color\r\n        ? props.filters.color.map((seleted_Color) => {\r\n            return (\r\n              <span className=\"d-block mb-2\">\r\n                <i\r\n                  className=\"fa fa-times pr-2\"\r\n                  onClick={() => {\r\n                    removeFilter(props.filters, \"color\", seleted_Color);\r\n                  }}\r\n                ></i>\r\n                {seleted_Color}\r\n              </span>\r\n            );\r\n          })\r\n        : \"\"}\r\n\r\n      {props.filters.brand\r\n        ? props.filters.brand.map((seleted_Brand) => {\r\n            return (\r\n              <span className=\"d-block mb-2\">\r\n                <i\r\n                  className=\"fa fa-times pr-2\"\r\n                  onClick={() => {\r\n                    removeFilter(props.filters, \"brand\", seleted_Brand);\r\n                  }}\r\n                ></i>\r\n                {seleted_Brand}\r\n              </span>\r\n            );\r\n          })\r\n        : \"\"}\r\n\r\n      {props.filters.size\r\n        ? props.filters.size.map((slected_Sizes) => {\r\n            return (\r\n              <span className=\"d-block mb-2\">\r\n                <i\r\n                  className=\"fa fa-times pr-2\"\r\n                  onClick={() => {\r\n                    removeFilter(props.filters, \"size\", slected_Sizes);\r\n                  }}\r\n                ></i>\r\n                {slected_Sizes}\r\n              </span>\r\n            );\r\n          })\r\n        : \"\"}\r\n\r\n      {props.filters.priceRange\r\n        ? props.filters.priceRange.map((slected_price) => {\r\n            return (\r\n              <span className=\"d-block mb-2\">\r\n                <i\r\n                  className=\"fa fa-times pr-2\"\r\n                  onClick={() => {\r\n                    removeFilter(props.filters, \"priceRange\", slected_price);\r\n                  }}\r\n                ></i>\r\n                {slected_price}\r\n              </span>\r\n            );\r\n          })\r\n        : \"\"}\r\n    </>\r\n  );\r\n};\r\n\r\nexport const shopByPrice = (getProducts) => {\r\n  let priceRange = [];\r\n\r\n  getProducts.map((product) => {\r\n    if (product.PRICERANGE != null) {\r\n      if (priceRange.includes(product.PRICERANGE)) {\r\n      } else {\r\n        priceRange.push(product.PRICERANGE);\r\n      }\r\n    }\r\n  });\r\n  priceRange = priceRange.sort(sortPricing);\r\n\r\n  return priceRange;\r\n};\r\n\r\nvar sortPricing = (n1, n2) => {\r\n  return Number(n1.match(/(\\d+)/g)[0]) - Number(n2.match(/(\\d+)/g)[0]);\r\n};\r\n\r\nexport const shopByBrand = (getProducts) => {\r\n  let brandFilters = {\r\n    brand: [],\r\n    itemsCount: [],\r\n  };\r\n  brandFilters = [];\r\n  let brands = [];\r\n  let itemsCount = [];\r\n\r\n  if (getProducts.length > 0) {\r\n    getProducts.map((prods) => {\r\n      if (brands.includes(prods.BRAND)) {\r\n      } else {\r\n        brands.push(prods.BRAND);\r\n      }\r\n    });\r\n  } else {\r\n  }\r\n\r\n  for (let i = 0; i < brands.length; i++) {\r\n    let count = 0;\r\n    getProducts.map((prods) => {\r\n      if (brands[i] == prods.BRAND) {\r\n        count++;\r\n        itemsCount[i] = count;\r\n      }\r\n    });\r\n  }\r\n  brandFilters.brand = [...brands];\r\n  brandFilters.itemsCount = [...itemsCount];\r\n  return brandFilters;\r\n};\r\n\r\nexport const shopBySize = (getProducts) => {\r\n  let selectedSizes = [];\r\n\r\n  getProducts.map((product) => {\r\n    if (product.GENER == \"simple\") {\r\n    } else {\r\n      product.VARIANTS.map((vProducts) => {\r\n        if (vProducts.SIZE != null) {\r\n          vProducts.SIZE.map((SIZES) => {\r\n            if (selectedSizes.includes(SIZES)) {\r\n            } else {\r\n              selectedSizes.push(SIZES);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return selectedSizes;\r\n};\r\n\r\nexport const shopByColor = (getProducts) => {\r\n  let selectedColors = [];\r\n\r\n  getProducts.map((product) => {\r\n    if (product.GENER === \"simple\") {\r\n    } else {\r\n      product.VARIANTS.map((vProducts) => {\r\n        if (vProducts.COLOR != null) {\r\n          vProducts.COLOR.map((prodColor) => {\r\n            if (selectedColors.includes(prodColor.NAME)) {\r\n            } else {\r\n              selectedColors.push(prodColor.NAME);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return selectedColors;\r\n};\r\n\r\nexport const taxonomyLevels = (filters) => {\r\n  let taxonomyLetvel = 0;\r\n  if (filters.SUBTYP_2 && filters.SUBTYP_2 != \"EMPTY\") taxonomyLetvel = 4;\r\n  else if (filters.SUBTYP_1 && filters.SUBTYP_1 != \"EMPTY\") taxonomyLetvel = 3;\r\n  else if (filters.TYP && filters.TYP != \"EMPTY\") taxonomyLetvel = 2;\r\n  else if (filters.DEPT && filters.DEPT != \"EMPTY\") taxonomyLetvel = 1;\r\n  else taxonomyLetvel = 0;\r\n  return taxonomyLetvel;\r\n};\r\nexport const shopByCategories = (currentFilters, url) => {\r\n  let level = 0;\r\n  let categoryData = {\r\n    taxonomy: \"\",\r\n    categories: [],\r\n  };\r\n\r\n  level = taxonomyLevels(currentFilters);\r\n\r\n  if (level == 4) {\r\n    Data.allProducts.map((product) => {\r\n      if (product.SUBTYP_3) {\r\n        if (categoryData.categories.includes(product.SUBTYP_3)) {\r\n        } else {\r\n          if (\r\n            product.SUBTYP_2.toUpperCase() ==\r\n              currentFilters.SUBTYP_2.toUpperCase() &&\r\n            product.SUBTYP_3 != \"EMPTY\" &&\r\n            product.subTYP_4 == \"EMPTY\"\r\n          ) {\r\n            categoryData.categories.push(product.SUBTYP_3);\r\n            categoryData.taxonomy = \"SUBTYP_3\";\r\n          }\r\n        }\r\n      }\r\n    });\r\n  } else if (level == 3) {\r\n    Data.allProducts.map((product) => {\r\n      if (product.SUBTYP_2) {\r\n        if (categoryData.categories.includes(product.SUBTYP_2)) {\r\n        } else {\r\n          if (\r\n            product.SUBTYP_1.toUpperCase() ==\r\n              currentFilters.SUBTYP_1.toUpperCase() &&\r\n            product.SUBTYP_2 != \"EMPTY\" &&\r\n            product.SUBTYP_3 == \"EMPTY\"\r\n          ) {\r\n            categoryData.categories.push(product.SUBTYP_2);\r\n            categoryData.taxonomy = \"SUBTYP_2\";\r\n          }\r\n        }\r\n      }\r\n    });\r\n  } else if (level == 2) {\r\n    Data.allProducts.map((product) => {\r\n      if (product.SUBTYP_1) {\r\n        if (categoryData.categories.includes(product.SUBTYP_1)) {\r\n        } else {\r\n          if (\r\n            product.TYP == currentFilters.TYP &&\r\n            product.SUBTYP_1 != \"EMPTY\" &&\r\n            product.SUBTYP_2 == \"EMPTY\"\r\n          ) {\r\n            categoryData.categories.push(product.SUBTYP_1);\r\n            categoryData.taxonomy = \"SUBTYP_1\";\r\n          }\r\n        }\r\n      }\r\n    });\r\n  } else if (level == 1) {\r\n    Data.allProducts.map((product) => {\r\n      if (product.TYP) {\r\n        if (categoryData.categories.includes(product.TYP)) {\r\n        } else {\r\n          if (\r\n            product.DEPT.toUpperCase() == currentFilters.DEPT.toUpperCase() &&\r\n            product.TYP != \"EMPTY\" &&\r\n            product.SUBTYP_1 == \"EMPTY\"\r\n          ) {\r\n            categoryData.categories.push(product.TYP);\r\n            categoryData.taxonomy = \"TYP\";\r\n          }\r\n        }\r\n      }\r\n    });\r\n  } else if (level == 0) {\r\n    Data.allProducts.map((product) => {\r\n      if (product.DEPT) {\r\n        if (\r\n          categoryData.categories.includes(product.DEPT) ||\r\n          product.DEPT == \"\" ||\r\n          product.DEPT == \" \" ||\r\n          product.DEPT == \"EMPTY\"\r\n        ) {\r\n        } else {\r\n          categoryData.categories.push(product.DEPT);\r\n          categoryData.taxonomy = \"DEPT\";\r\n        }\r\n      }\r\n    });\r\n  } else {\r\n  }\r\n\r\n  return categoryData;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}