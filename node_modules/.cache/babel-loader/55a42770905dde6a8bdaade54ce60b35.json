{"ast":null,"code":"import _objectSpread from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{useStateValue}from\"../../StateProvider\";import{reactLocalStorage}from\"reactjs-localstorage\";import{useHistory}from\"react-router-dom\";import*as pC from\"../product/productController\";//import { productSizesStyle } from \"../../settings\";\n//import { productColorsStyle } from \"../../settings\";\nimport{allowOutOfStock}from\"../../settings\";import{prodImagesDir}from\"../../settings\";import{defaultImage}from\"../../settings\";import{comingSoonS}from\"../../settings\";import{useParams}from\"react-router\";import{Link}from\"react-router-dom\";var productSizesStyle=\"select\";var productColorsStyle=\"select\";var selectedProduct={style_id:0,name:\"\",brand:\"\",image:\"\",colorImage:\"\",cartImage:defaultImage,regularPrice:0,salesPrice:0,quantity:0,total:0,selectedSize:\"\",selectedColor:\"\",stock:0,stockMessage:\"Out of Stock\"};export var BreadCrumbDisplay=function BreadCrumbDisplay(breadcrumbs){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"BreadCrumbs\",className:\"col-12 pt-3\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"bg-transparent p-0\",children:/*#__PURE__*/_jsx(\"ol\",{className:\"breadcrumb bg-transparent p-0\",children:breadcrumbs.map(function(item){return item;})})})})});};export var displayProductImage=function displayProductImage(imageInfo){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{id:\"productmainimage\",className:\"col-lg-7 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(Link,{id:\"zoomer\",to:imageInfo.image,className:\"MagicZoom\",\"data-options\":\"rightClick: true; expand: off;\",children:/*#__PURE__*/_jsx(\"img\",{id:\"zoom-image\",itemprop:\"image\",className:\"w-100\",src:imageInfo.image,alt:\" Mask\"})}),/*#__PURE__*/_jsx(\"article\",{id:\"alt-images\",className:\"altimages d-flex justify-content-center my-2\"})]})});};export var displayProductInfo=function displayProductInfo(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"productinfo\",className:\"col-lg-5 col-md-6 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"infoinner\",children:[productMainInfo(props),productPrice(props),productQuantity(props),props.gener==\"variable\"?productAttributes(props):\"\",ProductAddtoButtons(props),AddToCartPopUp(props),productShareButtons(props)]})})});};var productMainInfo=function productMainInfo(product){var stockStatus=checkStockAvailability(product);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"article\",{className:\"productdesc\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"pname\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"pcode\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"product code:\"}),/*#__PURE__*/_jsx(\"span\",{children:product.style_id})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"pbrand\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"brand:\"}),/*#__PURE__*/_jsx(\"span\",{children:product.brand})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"pstatus\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"availability:\"}),product.stock>0?/*#__PURE__*/_jsx(\"i\",{i:true,className:\"fas fa-check\"}):/*#__PURE__*/_jsx(\"i\",{i:true,className:\"fas fa-times\"}),/*#__PURE__*/_jsx(\"span\",{id:\"stock-status\",children:stockStatus.availability})]})]})});};var productPrice=function productPrice(product){var prodPrice=pC.productPricing(product);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"article\",{className:\"pricing\",children:prodPrice.salesPrice>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{id:\"rPrice\",className:\"\",children:/*#__PURE__*/_jsxs(\"del\",{children:[\"$\",prodPrice.regularPrice]})}),/*#__PURE__*/_jsxs(\"p\",{id:\"sPrice\",className:\"color-red\",children:[\"$\",prodPrice.salesPrice]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{id:\"rPrice\",className:\"\",children:[\"$\",prodPrice.regularPrice]}),/*#__PURE__*/_jsxs(\"p\",{id:\"sPrice\",className:\"color-red d-none\",children:[\"$\",prodPrice.salesPrice]})]})})});};var productQuantity=function productQuantity(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"article\",{className:\"quantity\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"quantity\",children:\"qty\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"qty\",name:\"qty\",min:\"1\",defaultValue:\"1\",onChange:function onChange(e){selectedProduct=pC.updateQuantity(e,selectedProduct);}})]})});};var productAttributes=function productAttributes(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[getSizes(props),getColors(props)]});// CAN ADD MORE ATTRIBUTES HERE\n};var getSizes=function getSizes(product){if(product.style_id&&product.style_id==1){productSizesStyle=\"select\";productColorsStyle=\"buttons\";}else if(product.style_id&&product.style_id==11){productSizesStyle=\"buttons\";productColorsStyle=\"colors\";}else if(product.style_id&&product.style_id==22){productSizesStyle=\"buttons\";productColorsStyle=\"images\";}var productSizes=pC.getProductSizes(product);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"article\",{className:\"size\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"sizeButtons\",className:\"sizebox\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"size\",className:\"fw-bold\",children:[\"size : \",/*#__PURE__*/_jsx(\"span\",{id:\"selected-size\",className:\"selected-size\"})]}),productSizesStyle==\"select\"?/*#__PURE__*/_jsxs(\"select\",{name:\"choosesize\",id:\"size\",onChange:function onChange(e){selectedProduct=pC.getSelectedColors(\"select\",e,product,selectedProduct,productColorsStyle,allowOutOfStock);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Select a Size\",children:\"Select a Size\"}),productSizes.map(function(size){return/*#__PURE__*/_jsx(\"option\",{value:size,children:size});})]}):\"\",productSizesStyle==\"buttons\"?productSizes.map(function(size){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\",value:size,type:\"button\",onClick:function onClick(e){selectedProduct=pC.getSelectedColors(\"buttons\",e,product,selectedProduct,productColorsStyle,allowOutOfStock);},children:size})});}):\"\"]})})});};var getColors=function getColors(product){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"article\",{className:\"color\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"colorbox\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"color\",className:\"fw-bold\",children:[\"Color :\",/*#__PURE__*/_jsx(\"span\",{id:\"selected-color\",className:\"selected-color\"})]}),/*#__PURE__*/_jsx(\"br\",{}),productColorsStyle==\"select\"?/*#__PURE__*/_jsx(\"select\",{name:\"choosecolor\",id:\"color\",className:\"d-block border-1 border-secondary rounded\"}):\"\",productColorsStyle==\"buttons\"?/*#__PURE__*/_jsx(\"div\",{id:\"colorButtons\"}):\"\",productColorsStyle==\"colors\"?/*#__PURE__*/_jsx(\"div\",{id:\"colorButtons\"}):\"\",productColorsStyle==\"images\"?/*#__PURE__*/_jsx(\"div\",{id:\"colorImages\"}):\"\"]})})});};var ProductAddtoButtons=function ProductAddtoButtons(product){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),basket=_useStateValue2[0].basket,dispatch=_useStateValue2[1];if(selectedProduct&&selectedProduct.style_id>0){if(product.gener==\"simple\"){}else{product.variants.map(function(vProduct){vProduct.color.map(function(clr){if(clr.name==selectedProduct.selectedColor){selectedProduct.stock=parseInt(clr.stock);if(selectedProduct.stock>0){selectedProduct.stockMessage=\"In Stock\";}else{selectedProduct.stockMessage=\"Out of Stock\";}}});});}}else{if(product.stock&&product.stock>0){selectedProduct.stock=parseInt(product.stock);selectedProduct.stockMessage=\"In Stock\";}else{selectedProduct.stock=0;selectedProduct.stockMessage=\"Out of Stock\";}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"article\",{className:\"addtobuttons\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"sizeAlert\",className:\"alert alert-danger d-none\",role:\"alert\",children:\"Select an Avaiable Size\"}),/*#__PURE__*/_jsx(\"div\",{id:\"colorAlert\",className:\"alert alert-danger d-none\",role:\"alert\",children:\"Select an Avaiable Color\"}),product.stock>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",id:\"AddToCart\",className:\"AddToCart\",onClick:function onClick(e){AddToCart(e,product,basket,dispatch);},children:\"add to cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"AddToWishlist\",children:\"+ add to wishlist\"})]}):allowOutOfStock==\"yes\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",id:\"AddToCart\",className:\"AddToCart\",onClick:function onClick(e){AddToCart(e,product,basket,dispatch);},children:\"add to cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"AddToWishlist\",children:\"+ add to wishlist\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{id:\"AddToCart\",class:\"AddToCart\",onClick:function onClick(e){AddToCart(e,product,basket,dispatch);},children:\"Out of Stock\"})})]})});};var newsBasket=[];export var AddToCart=function AddToCart(e,product,basket,dispatch){e.preventDefault();var cart=[];var itemIndex=-1;selectedProduct.quantity=parseInt(document.getElementById(\"qty\").value,10);if(selectedProduct.stock&&selectedProduct.stock>0){selectedProduct.stockMessage=\"In Stock\";}else{selectedProduct.stockMessage=\"Out of Stock\";}if(selectedProduct.quantity&&selectedProduct.quantity!=\"\"&&parseInt(selectedProduct.quantity,10)){}else{alert(\"Please select a quantity in Numbers\");return;}if(allowOutOfStock==\"yes\"||selectedProduct.stock>0){selectedProduct.image=pC.getProductSmallImage(product);selectedProduct.style_id=product.style_id;selectedProduct.name=product.name;// selectedProduct.stock = product.stock;\nselectedProduct.brand=product.brand;selectedProduct.regularPrice=product.regular_price;selectedProduct.salesPrice=product.sales_price;if(selectedProduct.colorImage&&selectedProduct.colorImage!=\"\"){if(selectedProduct.colorImage.includes(prodImagesDir)){selectedProduct.colorImage=selectedProduct.colorImage;}else{selectedProduct.colorImage=prodImagesDir+selectedProduct.colorImage;}selectedProduct.cartImage=selectedProduct.colorImage;}else if(selectedProduct.image&&selectedProduct.image!=\"\"){selectedProduct.image=selectedProduct.image;selectedProduct.cartImage=selectedProduct.image;}else{selectedProduct.cartImage=prodImagesDir+selectedProduct.cartImage;}var price=0;if(selectedProduct.salesPrice&&selectedProduct.salesPrice>0){price=selectedProduct.salesPrice;}else{price=selectedProduct.regularPrice;}selectedProduct.total=price*selectedProduct.quantity;if(product.gener==\"simple\"){// START ADD SIMPLE PRODUCT IN THE CART\nvar sessions=[];var _cart=[];sessions=reactLocalStorage.getObject(\"cartSessions\");_cart=reactLocalStorage.getObject(\"cartSessions\");var itemMatched=false;if(sessions.length>0){var tempCart=[];tempCart=_toConsumableArray(sessions);var tempSeletedProduct={};tempSeletedProduct=_objectSpread({},selectedProduct);tempCart.map(function(item){item.quantity=0;item.total=0;tempSeletedProduct.quantity=0;tempSeletedProduct.total=0;if(JSON.stringify(item)==JSON.stringify(tempSeletedProduct)){itemMatched=true;itemIndex=tempCart.indexOf(item);}});if(itemMatched==true){var qty=0;var itemPrice=0;if(_cart[itemIndex].salesPrice&&_cart[itemIndex].salesPrice>0){itemPrice=_cart[itemIndex].salesPrice;}else{itemPrice=_cart[itemIndex].regularPrice;}qty=_cart[itemIndex].quantity;_cart[itemIndex].quantity=qty+1;_cart[itemIndex].total=_cart[itemIndex].quantity*itemPrice;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart)});}else{_cart.push(_objectSpread({},selectedProduct));itemIndex=_cart.length-1;var _itemPrice=0;if(_cart[itemIndex].salesPrice&&_cart[itemIndex].salesPrice>0){_itemPrice=_cart[itemIndex].salesPrice;}else{_itemPrice=_cart[itemIndex].regularPrice;}_cart[itemIndex].total=_cart[itemIndex].quantity*_itemPrice;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart)});}}else{_cart=[];_cart.push(_objectSpread({},selectedProduct));itemIndex=_cart.length-1;var _itemPrice2=0;if(_cart[itemIndex].salesPrice&&_cart[itemIndex].salesPrice>0){_itemPrice2=_cart[itemIndex].salesPrice;}else{_itemPrice2=_cart[itemIndex].regularPrice;}_cart[itemIndex].total=_cart[itemIndex].quantity*_itemPrice2;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart)});}updateCartPopUp(_cart,itemIndex);// END ADD SIMPLE PRODUCT IN THE CART\n}else{if(selectedProduct.selectedSize==\"\"||selectedProduct.selectedSize==\"Select a Size\"){document.getElementById(\"sizeAlert\").classList.remove(\"d-none\");}else{if(selectedProduct.selectedColor==\"\"||selectedProduct.selectedColor==\"Select a Color\"){document.getElementById(\"colorAlert\").classList.remove(\"d-none\");}else{// START ADD VARIABLE PRODUCT IN THE CART\nvar _sessions=[];var _cart2=[];_sessions=reactLocalStorage.getObject(\"cartSessions\");_cart2=reactLocalStorage.getObject(\"cartSessions\");var _itemMatched=false;if(_sessions.length>0){var _tempCart=[];_tempCart=_toConsumableArray(_sessions);var _tempSeletedProduct={};_tempSeletedProduct=_objectSpread({},selectedProduct);_tempCart.map(function(item){item.quantity=0;item.total=0;_tempSeletedProduct.quantity=0;_tempSeletedProduct.total=0;if(JSON.stringify(item)==JSON.stringify(_tempSeletedProduct)){_itemMatched=true;itemIndex=_tempCart.indexOf(item);}});if(_itemMatched==true){var _qty=0;var _itemPrice3=0;if(_cart2[itemIndex].salesPrice&&_cart2[itemIndex].salesPrice>0){_itemPrice3=_cart2[itemIndex].salesPrice;}else{_itemPrice3=_cart2[itemIndex].regularPrice;}_qty=_cart2[itemIndex].quantity;_cart2[itemIndex].quantity=_qty+1;_cart2[itemIndex].total=_cart2[itemIndex].quantity*_itemPrice3;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart2));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart2)});}else{_cart2.push(_objectSpread({},selectedProduct));itemIndex=_cart2.length-1;var _itemPrice4=0;if(_cart2[itemIndex].salesPrice&&_cart2[itemIndex].salesPrice>0){_itemPrice4=_cart2[itemIndex].salesPrice;}else{_itemPrice4=_cart2[itemIndex].regularPrice;}_cart2[itemIndex].total=_cart2[itemIndex].quantity*_itemPrice4;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart2));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart2)});}}else{_cart2=[];_cart2.push(_objectSpread({},selectedProduct));itemIndex=_cart2.length-1;var _itemPrice5=0;if(_cart2[itemIndex].salesPrice&&_cart2[itemIndex].salesPrice>0){_itemPrice5=_cart2[itemIndex].salesPrice;}else{_itemPrice5=_cart2[itemIndex].regularPrice;}_cart2[itemIndex].total=_cart2[itemIndex].quantity*_itemPrice5;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart2));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart2)});}updateCartPopUp(_cart2,itemIndex);document.getElementById(\"basket-total-top\").innerHTML=\"(\"+_cart2.length+\")\";// END ADD VARIABLE PRODUCT IN THE CART\n}}}}};var productShareButtons=function productShareButtons(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"article\",{className:\"share\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"share\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Link,{to:\"\",title:\"\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-square\"})}),/*#__PURE__*/_jsx(Link,{to:\"\",title:\"\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter-square\"})}),/*#__PURE__*/_jsx(Link,{to:\"\",title:\"\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-instagram\"})}),/*#__PURE__*/_jsx(Link,{to:\"\",title:\"\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-pinterest-square\"})}),/*#__PURE__*/_jsx(Link,{to:\"\",title:\"\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope-square\"})})]})]})});};export var displayProductNewsLetters=function displayProductNewsLetters(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{id:\"newsletters\",className:\"col-lg-7 col-md-6 col-12\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"px-4 py-5 text-left border\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"d-block w-100 \",children:\"Receive instant lower price quote\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"lowerpricequote\",className:\"d-flex justify-content-between align-content-center text-capitalize\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-50 text-dark\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-dark text-light text-uppercase text-center border-0 py-1 px-3\",children:\"get lower price\"})]})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"px-4 py-5 text-left border\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sign up for price alerts\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"pricealerts\",className:\"d-flex justify-content-between align-content-center text-capitalize\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-50 text-dark\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-dark text-light text-uppercase text-center border-0 py-1 px-3\",children:\"sign me up\"})]})]})]})});};export var displayProductDetails=function displayProductDetails(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"descandreview\",class:\" col-12 mt-5 mb-3 module\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"accordion\",id:\"accordionExample\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"accordion-item\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"accordion-header\",id:\"headingOne\",children:/*#__PURE__*/_jsx(\"button\",{class:\"text-uppercase accordion-button\",type:\"button\",onClick:function onClick(){collapseOne();},\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\",children:\"Description\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"collapseOne\",class:\"accordion-collapse collapse\",\"aria-labelledby\":\"headingOne\",\"data-parent\":\"#accordionExample\",style:{display:\"block\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"accordion-body\",children:props.product.description})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"accordion-item\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"accordion-header\",id:\"headingTwo\",children:/*#__PURE__*/_jsx(\"button\",{class:\"text-uppercase accordion-button collapsed\",type:\"button\",onClick:function onClick(){collapseTwo();},\"aria-expanded\":\"false\",\"aria-controls\":\"collapseTwo\",children:\"review\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"collapseTwo\",class:\"accordion-collapse collapse\",\"aria-labelledby\":\"headingTwo\",\"data-parent\":\"#accordionExample\",style:{display:\"none\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"accordion-body\",children:\"Reviews will go here. Coming Soon....\"})})]})]})})});};export var displayAdditionalProducts=function displayAdditionalProducts(products,basket,dispatch,history){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"productslider\",class:\"mb-4 module\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-12 heading text-center text-dark text-uppercase headings-animation\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Related Products\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"slider featured-items-animation\",id:\"slider\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"outer\",children:/*#__PURE__*/_jsx(\"ul\",{class:\"slide list-unstyled p-0\",id:\"slide\",children:products.map(function(prod){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"productListing module text-center p-1 \",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/product/\"+prod.style_id+\"/\"+prod.url,class:\"product text-decoration-none text-left\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"image text-center mb-2 d-block\",children:/*#__PURE__*/_jsx(\"img\",{class:\"item\",src:prodImagesDir+prod.smallImage,alt:prod.name})}),/*#__PURE__*/_jsx(\"span\",{class:\"brand text-capitalize  text-dark d-block mb-1\",children:prod.brand}),/*#__PURE__*/_jsx(\"span\",{class:\"name text-dark d-block mb-1\",children:prod.name}),/*#__PURE__*/_jsx(\"span\",{class:\"pricing\",children:/*#__PURE__*/_jsxs(\"strong\",{class:\"listPrice  text-dark d-block mb-1\",children:[\"$\",prod.sales_price?prod.sales_price:prod.regular_price]})})]})})})});})})}),/*#__PURE__*/_jsx(\"button\",{class:\"ctrl-btn pro-prev\",children:\"<\"}),/*#__PURE__*/_jsx(\"button\",{class:\"ctrl-btn pro-next\",children:\">\"})]})]})})})});};var checkStockAvailability=function checkStockAvailability(product){var stockInfo={};if(product.stock>0){stockInfo.stock=product.stock;stockInfo.availability=\"In Stock\";}else{stockInfo.stock=0;stockInfo.availability=\"Out of Stock\";}return stockInfo;};var AddToCartPopUp=function AddToCartPopUp(product){var history=useHistory();var cart=[];var RecentCartProd={};cart=reactLocalStorage.getObject(\"cartSessions\");if(cart.length>0){RecentCartProd=cart[0];}else{cart=[];}var prodCount=0;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"popup\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-12\"})})})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal fade show\",id:\"exampleModal\",tabindex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog modal-lg shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header border-0\",children:[/*#__PURE__*/_jsxs(\"h5\",{class:\"modal-title text-dark fw-bolder\",id:\"exampleModalLabel\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"far fa-check-circle pr-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Added to cart\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close border-1 rounded border-dark border-2\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"currentItem\",class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-4\",children:/*#__PURE__*/_jsx(\"img\",{id:\"currentItem-img\",src:RecentCartProd.cartImage,class:\"img-fluid p-image\",alt:RecentCartProd.name})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-8\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"currentItem-brand\",class:\"d-block text-capitalize text-secondary fw-bold mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Brand: \"}),\" \",RecentCartProd.brand]}),/*#__PURE__*/_jsxs(\"span\",{id:\"currentItem-name\",class:\"d-block text-capitalize text-secondary fw-bold\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name: \"}),\" \",RecentCartProd.name]}),/*#__PURE__*/_jsxs(\"span\",{id:\"currentItem-qty\",class:\"d-block text-capitalize text-secondary fw-bold\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity: \"}),\" \",RecentCartProd.quantity]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12 mt-3\",children:/*#__PURE__*/_jsxs(\"h6\",{id:\"currentItem-cart-total\",class:\"fw-bolder text-dark\",children:[\"Cart subtotal: $168.00\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{id:\"currentItem-no-item\",class:\"text-secondary\",children:\"(2 items)\"})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 my-3 d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"rounded bg-dark text-light py-3 text-capitalize fw-bolder w-48 border-0\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/cart\",children:\"View Vart\"})}),/*#__PURE__*/_jsx(\"button\",{class:\"rounded bg-light text-dark py-3 text-capitalize fw-bolder w-48 border-1 border-dark\",children:/*#__PURE__*/_jsx(\"span\",{children:\"continue shopping\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-12 border-top border-secondary mb-3\",children:/*#__PURE__*/_jsx(\"h4\",{class:\"text-dark fw-bold pt-2\",children:\"Related Products\"})}),pC.cartRelated(product).map(function(prod,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-3 col-md-3 col-sm-6 col-6\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/product/\"+prod.style_id+\"/\"+prod.url,children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://template2icumulus-com.ntc5-p2stl.ezhostingserver.com/dragndrop/images/hp_product_img_m.jpg\",class:\"img-fluid mb-1\"}),/*#__PURE__*/_jsx(\"span\",{class:\"lh-sm d-block mb-1 text-secondary fw-normal\",children:prod.brand}),/*#__PURE__*/_jsx(\"p\",{class:\"lh-sm mb-2 text-capitalize text-dark fw-bold\",children:prod.name}),/*#__PURE__*/_jsxs(\"span\",{class:\"lh-sm d-block fw-bold saleprice text-danger\",children:[\"$\",prod.sales_price?prod.sales_price:prod.regular_price]})]})})});})]})]})})]})})})]});};var updateCartPopUp=function updateCartPopUp(cart,itemIndex){document.getElementById(\"currentItem-img\").innerHTML=cart[itemIndex].image;document.getElementById(\"currentItem-name\").innerHTML=\"<strong>Name: </strong>\"+cart[itemIndex].name;document.getElementById(\"currentItem-brand\").innerHTML=\"<strong>Brand: </strong>\"+cart[itemIndex].brand;document.getElementById(\"currentItem-qty\").innerHTML=\"<strong>Quantity: </strong>\"+cart[itemIndex].quantity;document.getElementById(\"currentItem-no-item\").innerHTML=\"(\"+cart.length+\" Items)\";};export var simpleAddToCart=function simpleAddToCart(e,product,basket,dispatch,history){e.preventDefault();var cart=[];var itemIndex=-1;selectedProduct.quantity=1;if(product.stock&&product.stock>0){product.stockMessage=\"In Stock\";}else{product.stockMessage=\"Out of Stock\";}if(allowOutOfStock==\"yes\"||selectedProduct.stock>0){selectedProduct.image=pC.getProductSmallImage(product);selectedProduct.style_id=product.style_id;selectedProduct.name=product.name;// selectedProduct.stock = product.stock;\nselectedProduct.brand=product.brand;selectedProduct.regularPrice=product.regular_price;selectedProduct.salesPrice=product.sales_price;selectedProduct.cartImage=prodImagesDir+product.smallImage;var price=0;if(selectedProduct.salesPrice&&selectedProduct.salesPrice>0){price=selectedProduct.salesPrice;}else{price=selectedProduct.regularPrice;}selectedProduct.total=price*selectedProduct.quantity;if(product.gener==\"simple\"){// START ADD SIMPLE PRODUCT IN THE CART\nvar sessions=[];var _cart3=[];sessions=reactLocalStorage.getObject(\"cartSessions\");_cart3=reactLocalStorage.getObject(\"cartSessions\");var itemMatched=false;if(sessions.length>0){var tempCart=[];tempCart=_toConsumableArray(sessions);var tempSeletedProduct={};tempSeletedProduct=_objectSpread({},selectedProduct);tempCart.map(function(item){item.quantity=0;item.total=0;tempSeletedProduct.quantity=0;tempSeletedProduct.total=0;if(JSON.stringify(item)==JSON.stringify(tempSeletedProduct)){itemMatched=true;itemIndex=tempCart.indexOf(item);}});if(itemMatched==true){var qty=0;var itemPrice=0;if(_cart3[itemIndex].salesPrice&&_cart3[itemIndex].salesPrice>0){itemPrice=_cart3[itemIndex].salesPrice;}else{itemPrice=_cart3[itemIndex].regularPrice;}qty=_cart3[itemIndex].quantity;_cart3[itemIndex].quantity=qty+1;_cart3[itemIndex].total=_cart3[itemIndex].quantity*itemPrice;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart3));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart3)});}else{_cart3.push(_objectSpread({},selectedProduct));itemIndex=_cart3.length-1;var _itemPrice6=0;if(_cart3[itemIndex].salesPrice&&_cart3[itemIndex].salesPrice>0){_itemPrice6=_cart3[itemIndex].salesPrice;}else{_itemPrice6=_cart3[itemIndex].regularPrice;}_cart3[itemIndex].total=_cart3[itemIndex].quantity*_itemPrice6;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart3));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart3)});}}else{_cart3=[];_cart3.push(_objectSpread({},selectedProduct));itemIndex=_cart3.length-1;var _itemPrice7=0;if(_cart3[itemIndex].salesPrice&&_cart3[itemIndex].salesPrice>0){_itemPrice7=_cart3[itemIndex].salesPrice;}else{_itemPrice7=_cart3[itemIndex].regularPrice;}_cart3[itemIndex].total=_cart3[itemIndex].quantity*_itemPrice7;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(_cart3));dispatch({type:\"ADD_TO_BASKET\",item:_toConsumableArray(_cart3)});}document.getElementById(\"basket-total-top\").innerHTML=\"(\"+_cart3.length+\")\";document.getElementById(\"cartdropdown\").style.display=\"block\";var top=document.getElementById(\"cartdropdown\").offsetTop;window.scrollTo(0,top);history.push(\"/\");// END ADD SIMPLE PRODUCT IN THE CART\n}}else{alert(\"Zero Stock Availabale\");}};function collapseOne(){var x=document.getElementById(\"collapseOne\");if(x.style.display==\"none\"){x.style.display=\"block\";document.getElementById(\"collapseTwo\").style.display=\"none\";}else{x.style.display=\"none\";document.getElementById(\"collapseTwo\").style.display=\"block\";}}function collapseTwo(){var x=document.getElementById(\"collapseTwo\");if(x.style.display==\"none\"){x.style.display=\"block\";document.getElementById(\"collapseOne\").style.display=\"none\";}else{x.style.display=\"none\";document.getElementById(\"collapseOne\").style.display=\"block\";}}","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/product/productViews.js"],"names":["React","useState","useEffect","useStateValue","reactLocalStorage","useHistory","pC","allowOutOfStock","prodImagesDir","defaultImage","comingSoonS","useParams","Link","productSizesStyle","productColorsStyle","selectedProduct","style_id","name","brand","image","colorImage","cartImage","regularPrice","salesPrice","quantity","total","selectedSize","selectedColor","stock","stockMessage","BreadCrumbDisplay","breadcrumbs","map","item","displayProductImage","imageInfo","displayProductInfo","props","productMainInfo","productPrice","productQuantity","gener","productAttributes","ProductAddtoButtons","AddToCartPopUp","productShareButtons","product","stockStatus","checkStockAvailability","availability","prodPrice","productPricing","e","updateQuantity","getSizes","getColors","productSizes","getProductSizes","getSelectedColors","size","basket","dispatch","variants","vProduct","color","clr","parseInt","AddToCart","newsBasket","preventDefault","cart","itemIndex","document","getElementById","value","alert","getProductSmallImage","regular_price","sales_price","includes","price","sessions","getObject","itemMatched","length","tempCart","tempSeletedProduct","JSON","stringify","indexOf","qty","itemPrice","setObject","type","push","updateCartPopUp","classList","remove","innerHTML","displayProductNewsLetters","displayProductDetails","collapseOne","display","description","collapseTwo","displayAdditionalProducts","products","history","prod","url","smallImage","stockInfo","RecentCartProd","prodCount","cartRelated","index","simpleAddToCart","style","top","offsetTop","window","scrollTo","x"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAT,KAA8B,qBAA9B,CACA,OAASC,iBAAT,KAAkC,sBAAlC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,8BAApB,CACA;AACA;AACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,OAASC,aAAT,KAA8B,gBAA9B,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,WAAT,KAA4B,gBAA5B,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,GAAIC,CAAAA,iBAAiB,CAAG,QAAxB,CACA,GAAIC,CAAAA,kBAAkB,CAAG,QAAzB,CAEA,GAAIC,CAAAA,eAAe,CAAG,CACpBC,QAAQ,CAAE,CADU,CAEpBC,IAAI,CAAE,EAFc,CAGpBC,KAAK,CAAE,EAHa,CAIpBC,KAAK,CAAE,EAJa,CAKpBC,UAAU,CAAE,EALQ,CAMpBC,SAAS,CAAEZ,YANS,CAOpBa,YAAY,CAAE,CAPM,CAQpBC,UAAU,CAAE,CARQ,CASpBC,QAAQ,CAAE,CATU,CAUpBC,KAAK,CAAE,CAVa,CAWpBC,YAAY,CAAE,EAXM,CAYpBC,aAAa,CAAE,EAZK,CAapBC,KAAK,CAAE,CAba,CAcpBC,YAAY,CAAE,cAdM,CAAtB,CAgBA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,WAAD,CAAiB,CAChD,mBACE,sCACE,gBAAS,EAAE,CAAC,aAAZ,CAA0B,SAAS,CAAC,aAApC,uBACE,YAAK,aAAW,YAAhB,CAA6B,SAAS,CAAC,oBAAvC,uBACE,WAAI,SAAS,CAAC,+BAAd,UACGA,WAAW,CAACC,GAAZ,CAAgB,SAACC,IAAD,CAAU,CACzB,MAAOA,CAAAA,IAAP,CACD,CAFA,CADH,EADF,EADF,EADF,EADF,CAaD,CAdM,CAgBP,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,SAAD,CAAe,CAChD,mBACE,sCACE,iBAAS,EAAE,CAAC,kBAAZ,CAA+B,SAAS,CAAC,0BAAzC,wBACE,KAAC,IAAD,EACE,EAAE,CAAC,QADL,CAEE,EAAE,CAAEA,SAAS,CAAChB,KAFhB,CAGE,SAAS,CAAC,WAHZ,CAIE,eAAa,gCAJf,uBAME,YACE,EAAE,CAAC,YADL,CAEE,QAAQ,CAAC,OAFX,CAGE,SAAS,CAAC,OAHZ,CAIE,GAAG,CAAEgB,SAAS,CAAChB,KAJjB,CAKE,GAAG,CAAC,OALN,EANF,EADF,cAwBE,gBACE,EAAE,CAAC,YADL,CAEE,SAAS,CAAC,8CAFZ,EAxBF,GADF,EADF,CAiCD,CAlCM,CAoCP,MAAO,IAAMiB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CAC3C,mBACE,sCACE,gBAAS,EAAE,CAAC,aAAZ,CAA0B,SAAS,CAAC,0BAApC,uBACE,aAAK,SAAS,CAAC,WAAf,WACGC,eAAe,CAACD,KAAD,CADlB,CAGGE,YAAY,CAACF,KAAD,CAHf,CAIGG,eAAe,CAACH,KAAD,CAJlB,CAMGA,KAAK,CAACI,KAAN,EAAe,UAAf,CAA4BC,iBAAiB,CAACL,KAAD,CAA7C,CAAuD,EAN1D,CAQGM,mBAAmB,CAACN,KAAD,CARtB,CASGO,cAAc,CAACP,KAAD,CATjB,CAUGQ,mBAAmB,CAACR,KAAD,CAVtB,GADF,EADF,EADF,CAkBD,CAnBM,CAqBP,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACQ,OAAD,CAAa,CACnC,GAAIC,CAAAA,WAAW,CAAGC,sBAAsB,CAACF,OAAD,CAAxC,CACA,mBACE,sCACE,iBAAS,SAAS,CAAC,aAAnB,wBACE,WAAI,SAAS,CAAC,OAAd,UAAuBA,OAAO,CAAC7B,IAA/B,EADF,cAEE,WAAG,SAAS,CAAC,OAAb,wBACE,uCADF,cAEE,sBAAO6B,OAAO,CAAC9B,QAAf,EAFF,GAFF,cAME,WAAG,SAAS,CAAC,QAAb,wBACE,gCADF,cAEE,sBAAO8B,OAAO,CAAC5B,KAAf,EAFF,GANF,cAUE,WAAG,SAAS,CAAC,SAAb,wBACE,uCADF,CAEG4B,OAAO,CAAClB,KAAR,CAAgB,CAAhB,cACC,UAAG,CAAC,KAAJ,CAAK,SAAS,CAAC,cAAf,EADD,cAGC,UAAG,CAAC,KAAJ,CAAK,SAAS,CAAC,cAAf,EALJ,cAQE,aAAM,EAAE,CAAC,cAAT,UAAyBmB,WAAW,CAACE,YAArC,EARF,GAVF,GADF,EADF,CAyBD,CA3BD,CA6BA,GAAMV,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACO,OAAD,CAAa,CAChC,GAAII,CAAAA,SAAS,CAAG5C,EAAE,CAAC6C,cAAH,CAAkBL,OAAlB,CAAhB,CACA,mBACE,sCACE,gBAAS,SAAS,CAAC,SAAnB,UACGI,SAAS,CAAC3B,UAAV,CAAuB,CAAvB,cACC,wCACE,UAAG,EAAE,CAAC,QAAN,CAAe,SAAS,CAAC,EAAzB,uBACE,2BAAO2B,SAAS,CAAC5B,YAAjB,GADF,EADF,cAIE,WAAG,EAAE,CAAC,QAAN,CAAe,SAAS,CAAC,WAAzB,eACI4B,SAAS,CAAC3B,UADd,GAJF,GADD,cAUC,wCACE,WAAG,EAAE,CAAC,QAAN,CAAe,SAAS,CAAC,EAAzB,eACI2B,SAAS,CAAC5B,YADd,GADF,cAIE,WAAG,EAAE,CAAC,QAAN,CAAe,SAAS,CAAC,kBAAzB,eACI4B,SAAS,CAAC3B,UADd,GAJF,GAXJ,EADF,EADF,CAyBD,CA3BD,CA6BA,GAAMiB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACH,KAAD,CAAW,CACjC,mBACE,sCACE,iBAAS,SAAS,CAAC,UAAnB,wBACE,cAAO,GAAG,CAAC,UAAX,iBADF,cAEE,cACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAC,KAFL,CAGE,IAAI,CAAC,KAHP,CAIE,GAAG,CAAC,GAJN,CAKE,YAAY,CAAC,GALf,CAME,QAAQ,CAAE,kBAACe,CAAD,CAAO,CACfrC,eAAe,CAAGT,EAAE,CAAC+C,cAAH,CAAkBD,CAAlB,CAAqBrC,eAArB,CAAlB,CACD,CARH,EAFF,GADF,EADF,CAiBD,CAlBD,CAoBA,GAAM2B,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACL,KAAD,CAAW,CACnC,mBACE,2BACGiB,QAAQ,CAACjB,KAAD,CADX,CAEGkB,SAAS,CAAClB,KAAD,CAFZ,GADF,CAMA;AACD,CARD,CAUA,GAAMiB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACR,OAAD,CAAa,CAC5B,GAAIA,OAAO,CAAC9B,QAAR,EAAoB8B,OAAO,CAAC9B,QAAR,EAAoB,CAA5C,CAA+C,CAC7CH,iBAAiB,CAAG,QAApB,CACAC,kBAAkB,CAAG,SAArB,CACD,CAHD,IAGO,IAAIgC,OAAO,CAAC9B,QAAR,EAAoB8B,OAAO,CAAC9B,QAAR,EAAoB,EAA5C,CAAgD,CACrDH,iBAAiB,CAAG,SAApB,CACAC,kBAAkB,CAAG,QAArB,CACD,CAHM,IAGA,IAAIgC,OAAO,CAAC9B,QAAR,EAAoB8B,OAAO,CAAC9B,QAAR,EAAoB,EAA5C,CAAgD,CACrDH,iBAAiB,CAAG,SAApB,CACAC,kBAAkB,CAAG,QAArB,CACD,CAED,GAAI0C,CAAAA,YAAY,CAAGlD,EAAE,CAACmD,eAAH,CAAmBX,OAAnB,CAAnB,CACA,mBACE,sCACE,gBAAS,SAAS,CAAC,MAAnB,uBACE,aAAK,EAAE,CAAC,aAAR,CAAsB,SAAS,CAAC,SAAhC,wBACE,eAAO,GAAG,CAAC,MAAX,CAAkB,SAAS,CAAC,SAA5B,kCACS,aAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,eAAnC,EADT,GADF,CAMGjC,iBAAiB,EAAI,QAArB,cACC,gBACE,IAAI,CAAC,YADP,CAEE,EAAE,CAAC,MAFL,CAGE,QAAQ,CAAE,kBAACuC,CAAD,CAAO,CACfrC,eAAe,CAAGT,EAAE,CAACoD,iBAAH,CAChB,QADgB,CAEhBN,CAFgB,CAGhBN,OAHgB,CAIhB/B,eAJgB,CAKhBD,kBALgB,CAMhBP,eANgB,CAAlB,CAQD,CAZH,wBAcE,eAAQ,KAAK,CAAC,eAAd,2BAdF,CAeGiD,YAAY,CAACxB,GAAb,CAAiB,SAAC2B,IAAD,CAAU,CAC1B,mBAAO,eAAQ,KAAK,CAAEA,IAAf,UAAsBA,IAAtB,EAAP,CACD,CAFA,CAfH,GADD,CAqBC,EA3BJ,CAiCG9C,iBAAiB,EAAI,SAArB,CACG2C,YAAY,CAACxB,GAAb,CAAiB,SAAC2B,IAAD,CAAU,CACzB,mBACE,sCACE,eACE,SAAS,CAAC,kGADZ,CAEE,KAAK,CAAEA,IAFT,CAGE,IAAI,CAAC,QAHP,CAIE,OAAO,CAAE,iBAACP,CAAD,CAAO,CACdrC,eAAe,CAAGT,EAAE,CAACoD,iBAAH,CAChB,SADgB,CAEhBN,CAFgB,CAGhBN,OAHgB,CAIhB/B,eAJgB,CAKhBD,kBALgB,CAMhBP,eANgB,CAAlB,CAQD,CAbH,UAeGoD,IAfH,EADF,EADF,CAqBD,CAtBD,CADH,CAwBG,EAzDN,GADF,EADF,EADF,CAmED,CAhFD,CAkFA,GAAMJ,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACT,OAAD,CAAa,CAC7B,mBACE,sCACE,gBAAS,SAAS,CAAC,OAAnB,uBACE,aAAK,SAAS,CAAC,UAAf,wBACE,eAAO,GAAG,CAAC,OAAX,CAAmB,SAAS,CAAC,SAA7B,kCACS,aAAM,EAAE,CAAC,gBAAT,CAA0B,SAAS,CAAC,gBAApC,EADT,GADF,cAIE,aAJF,CAOGhC,kBAAkB,EAAI,QAAtB,cACC,eACE,IAAI,CAAC,aADP,CAEE,EAAE,CAAC,OAFL,CAGE,SAAS,CAAC,2CAHZ,EADD,CAOC,EAdJ,CAmBGA,kBAAkB,EAAI,SAAtB,cAAkC,YAAK,EAAE,CAAC,cAAR,EAAlC,CAAkE,EAnBrE,CAuBGA,kBAAkB,EAAI,QAAtB,cAAiC,YAAK,EAAE,CAAC,cAAR,EAAjC,CAAiE,EAvBpE,CA2BGA,kBAAkB,EAAI,QAAtB,cAAiC,YAAK,EAAE,CAAC,aAAR,EAAjC,CAAgE,EA3BnE,GADF,EADF,EADF,CAoCD,CArCD,CAuCA,GAAM6B,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACG,OAAD,CAAa,oBACR3C,aAAa,EADL,kDAC9ByD,MAD8B,oBAC9BA,MAD8B,CACpBC,QADoB,oBAGvC,GAAI9C,eAAe,EAAIA,eAAe,CAACC,QAAhB,CAA2B,CAAlD,CAAqD,CACnD,GAAI8B,OAAO,CAACL,KAAR,EAAiB,QAArB,CAA+B,CAC9B,CADD,IACO,CACLK,OAAO,CAACgB,QAAR,CAAiB9B,GAAjB,CAAqB,SAAC+B,QAAD,CAAc,CACjCA,QAAQ,CAACC,KAAT,CAAehC,GAAf,CAAmB,SAACiC,GAAD,CAAS,CAC1B,GAAIA,GAAG,CAAChD,IAAJ,EAAYF,eAAe,CAACY,aAAhC,CAA+C,CAC7CZ,eAAe,CAACa,KAAhB,CAAwBsC,QAAQ,CAACD,GAAG,CAACrC,KAAL,CAAhC,CACA,GAAIb,eAAe,CAACa,KAAhB,CAAwB,CAA5B,CAA+B,CAC7Bb,eAAe,CAACc,YAAhB,CAA+B,UAA/B,CACD,CAFD,IAEO,CACLd,eAAe,CAACc,YAAhB,CAA+B,cAA/B,CACD,CACF,CACF,CATD,EAUD,CAXD,EAYD,CACF,CAhBD,IAgBO,CACL,GAAIiB,OAAO,CAAClB,KAAR,EAAiBkB,OAAO,CAAClB,KAAR,CAAgB,CAArC,CAAwC,CACtCb,eAAe,CAACa,KAAhB,CAAwBsC,QAAQ,CAACpB,OAAO,CAAClB,KAAT,CAAhC,CACAb,eAAe,CAACc,YAAhB,CAA+B,UAA/B,CACD,CAHD,IAGO,CACLd,eAAe,CAACa,KAAhB,CAAwB,CAAxB,CACAb,eAAe,CAACc,YAAhB,CAA+B,cAA/B,CACD,CACF,CAED,mBACE,sCACE,iBAAS,SAAS,CAAC,cAAnB,wBACE,YAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,2BAA9B,CAA0D,IAAI,CAAC,OAA/D,qCADF,cAIE,YAAK,EAAE,CAAC,YAAR,CAAqB,SAAS,CAAC,2BAA/B,CAA2D,IAAI,CAAC,OAAhE,sCAJF,CAOGiB,OAAO,CAAClB,KAAR,CAAgB,CAAhB,cACC,wCACE,eACE,iBAAe,OADjB,CAEE,iBAAe,eAFjB,CAGE,EAAE,CAAC,WAHL,CAIE,SAAS,CAAC,WAJZ,CAKE,OAAO,CAAE,iBAACwB,CAAD,CAAO,CACde,SAAS,CAACf,CAAD,CAAIN,OAAJ,CAAac,MAAb,CAAqBC,QAArB,CAAT,CACD,CAPH,yBADF,cAYE,eAAQ,SAAS,CAAC,eAAlB,+BAZF,GADD,CAeGtD,eAAe,EAAI,KAAnB,cACF,wCACE,eACE,iBAAe,OADjB,CAEE,iBAAe,eAFjB,CAGE,EAAE,CAAC,WAHL,CAIE,SAAS,CAAC,WAJZ,CAKE,OAAO,CAAE,iBAAC6C,CAAD,CAAO,CACde,SAAS,CAACf,CAAD,CAAIN,OAAJ,CAAac,MAAb,CAAqBC,QAArB,CAAT,CACD,CAPH,yBADF,cAYE,eAAQ,SAAS,CAAC,eAAlB,+BAZF,GADE,cAgBF,sCACE,eACE,EAAE,CAAC,WADL,CAEE,KAAK,CAAC,WAFR,CAGE,OAAO,CAAE,iBAACT,CAAD,CAAO,CACde,SAAS,CAACf,CAAD,CAAIN,OAAJ,CAAac,MAAb,CAAqBC,QAArB,CAAT,CACD,CALH,0BADF,EAtCJ,GADF,EADF,CAuDD,CApFD,CAqFA,GAAIO,CAAAA,UAAU,CAAG,EAAjB,CACA,MAAO,IAAMD,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACf,CAAD,CAAIN,OAAJ,CAAac,MAAb,CAAqBC,QAArB,CAAkC,CACzDT,CAAC,CAACiB,cAAF,GACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIC,CAAAA,SAAS,CAAG,CAAC,CAAjB,CAEAxD,eAAe,CAACS,QAAhB,CAA2B0C,QAAQ,CAACM,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAAhC,CAAuC,EAAvC,CAAnC,CAEA,GAAI3D,eAAe,CAACa,KAAhB,EAAyBb,eAAe,CAACa,KAAhB,CAAwB,CAArD,CAAwD,CACtDb,eAAe,CAACc,YAAhB,CAA+B,UAA/B,CACD,CAFD,IAEO,CACLd,eAAe,CAACc,YAAhB,CAA+B,cAA/B,CACD,CAED,GACEd,eAAe,CAACS,QAAhB,EACAT,eAAe,CAACS,QAAhB,EAA4B,EAD5B,EAEA0C,QAAQ,CAACnD,eAAe,CAACS,QAAjB,CAA2B,EAA3B,CAHV,CAIE,CACD,CALD,IAKO,CACLmD,KAAK,CAAC,qCAAD,CAAL,CACA,OACD,CAED,GAAIpE,eAAe,EAAI,KAAnB,EAA4BQ,eAAe,CAACa,KAAhB,CAAwB,CAAxD,CAA2D,CACzDb,eAAe,CAACI,KAAhB,CAAwBb,EAAE,CAACsE,oBAAH,CAAwB9B,OAAxB,CAAxB,CAEA/B,eAAe,CAACC,QAAhB,CAA2B8B,OAAO,CAAC9B,QAAnC,CACAD,eAAe,CAACE,IAAhB,CAAuB6B,OAAO,CAAC7B,IAA/B,CAEA;AACAF,eAAe,CAACG,KAAhB,CAAwB4B,OAAO,CAAC5B,KAAhC,CACAH,eAAe,CAACO,YAAhB,CAA+BwB,OAAO,CAAC+B,aAAvC,CACA9D,eAAe,CAACQ,UAAhB,CAA6BuB,OAAO,CAACgC,WAArC,CAEA,GAAI/D,eAAe,CAACK,UAAhB,EAA8BL,eAAe,CAACK,UAAhB,EAA8B,EAAhE,CAAoE,CAClE,GAAIL,eAAe,CAACK,UAAhB,CAA2B2D,QAA3B,CAAoCvE,aAApC,CAAJ,CAAwD,CACtDO,eAAe,CAACK,UAAhB,CAA6BL,eAAe,CAACK,UAA7C,CACD,CAFD,IAEO,CACLL,eAAe,CAACK,UAAhB,CAA6BZ,aAAa,CAAGO,eAAe,CAACK,UAA7D,CACD,CAEDL,eAAe,CAACM,SAAhB,CAA4BN,eAAe,CAACK,UAA5C,CACD,CARD,IAQO,IAAIL,eAAe,CAACI,KAAhB,EAAyBJ,eAAe,CAACI,KAAhB,EAAyB,EAAtD,CAA0D,CAC/DJ,eAAe,CAACI,KAAhB,CAAwBJ,eAAe,CAACI,KAAxC,CACAJ,eAAe,CAACM,SAAhB,CAA4BN,eAAe,CAACI,KAA5C,CACD,CAHM,IAGA,CACLJ,eAAe,CAACM,SAAhB,CAA4Bb,aAAa,CAAGO,eAAe,CAACM,SAA5D,CACD,CAED,GAAI2D,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAIjE,eAAe,CAACQ,UAAhB,EAA8BR,eAAe,CAACQ,UAAhB,CAA6B,CAA/D,CAAkE,CAChEyD,KAAK,CAAGjE,eAAe,CAACQ,UAAxB,CACD,CAFD,IAEO,CACLyD,KAAK,CAAGjE,eAAe,CAACO,YAAxB,CACD,CAEDP,eAAe,CAACU,KAAhB,CAAwBuD,KAAK,CAAGjE,eAAe,CAACS,QAAhD,CAEA,GAAIsB,OAAO,CAACL,KAAR,EAAiB,QAArB,CAA+B,CAC7B;AAEA,GAAIwC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIX,CAAAA,KAAI,CAAG,EAAX,CACAW,QAAQ,CAAG7E,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAX,CACAZ,KAAI,CAAGlE,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAP,CAEA,GAAIC,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAIF,QAAQ,CAACG,MAAT,CAAkB,CAAtB,CAAyB,CACvB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACAA,QAAQ,oBAAOJ,QAAP,CAAR,CACA,GAAIK,CAAAA,kBAAkB,CAAG,EAAzB,CACAA,kBAAkB,kBAAQvE,eAAR,CAAlB,CAEAsE,QAAQ,CAACrD,GAAT,CAAa,SAACC,IAAD,CAAU,CACrBA,IAAI,CAACT,QAAL,CAAgB,CAAhB,CACAS,IAAI,CAACR,KAAL,CAAa,CAAb,CAEA6D,kBAAkB,CAAC9D,QAAnB,CAA8B,CAA9B,CACA8D,kBAAkB,CAAC7D,KAAnB,CAA2B,CAA3B,CAEA,GAAI8D,IAAI,CAACC,SAAL,CAAevD,IAAf,GAAwBsD,IAAI,CAACC,SAAL,CAAeF,kBAAf,CAA5B,CAAgE,CAC9DH,WAAW,CAAG,IAAd,CACAZ,SAAS,CAAGc,QAAQ,CAACI,OAAT,CAAiBxD,IAAjB,CAAZ,CACD,CACF,CAXD,EAaA,GAAIkD,WAAW,EAAI,IAAnB,CAAyB,CACvB,GAAIO,CAAAA,GAAG,CAAG,CAAV,CACA,GAAIC,CAAAA,SAAS,CAAG,CAAhB,CACA,GAAIrB,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,SAAS,CAAGrB,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,SAAS,CAAGrB,KAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CACDoE,GAAG,CAAGpB,KAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAtB,CACA8C,KAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BkE,GAAG,CAAG,CAAjC,CACApB,KAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,KAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,SAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,KAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,KAAN,CAFG,CAAD,CAAR,CAID,CAhBD,IAgBO,CACLA,KAAI,CAACwB,IAAL,kBAAe/E,eAAf,GACAwD,SAAS,CAAGD,KAAI,CAACc,MAAL,CAAc,CAA1B,CAEA,GAAIO,CAAAA,UAAS,CAAG,CAAhB,CACA,GAAIrB,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,UAAS,CAAGrB,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,UAAS,CAAGrB,KAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CAEDgD,KAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,KAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,UAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,KAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,KAAN,CAFG,CAAD,CAAR,CAID,CACF,CArDD,IAqDO,CACLA,KAAI,CAAG,EAAP,CACAA,KAAI,CAACwB,IAAL,kBAAe/E,eAAf,GACAwD,SAAS,CAAGD,KAAI,CAACc,MAAL,CAAc,CAA1B,CAEA,GAAIO,CAAAA,WAAS,CAAG,CAAhB,CACA,GAAIrB,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,WAAS,CAAGrB,KAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,WAAS,CAAGrB,KAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CAEDgD,KAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,KAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,WAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,KAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,KAAN,CAFG,CAAD,CAAR,CAID,CACDyB,eAAe,CAACzB,KAAD,CAAOC,SAAP,CAAf,CAEA;AACD,CApFD,IAoFO,CACL,GACExD,eAAe,CAACW,YAAhB,EAAgC,EAAhC,EACAX,eAAe,CAACW,YAAhB,EAAgC,eAFlC,CAGE,CACA8C,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCuB,SAArC,CAA+CC,MAA/C,CAAsD,QAAtD,EACD,CALD,IAKO,CACL,GACElF,eAAe,CAACY,aAAhB,EAAiC,EAAjC,EACAZ,eAAe,CAACY,aAAhB,EAAiC,gBAFnC,CAGE,CACA6C,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCuB,SAAtC,CAAgDC,MAAhD,CAAuD,QAAvD,EACD,CALD,IAKO,CACL;AAEA,GAAIhB,CAAAA,SAAQ,CAAG,EAAf,CACA,GAAIX,CAAAA,MAAI,CAAG,EAAX,CACAW,SAAQ,CAAG7E,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAX,CACAZ,MAAI,CAAGlE,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAP,CAEA,GAAIC,CAAAA,YAAW,CAAG,KAAlB,CACA,GAAIF,SAAQ,CAACG,MAAT,CAAkB,CAAtB,CAAyB,CACvB,GAAIC,CAAAA,SAAQ,CAAG,EAAf,CACAA,SAAQ,oBAAOJ,SAAP,CAAR,CACA,GAAIK,CAAAA,mBAAkB,CAAG,EAAzB,CACAA,mBAAkB,kBAAQvE,eAAR,CAAlB,CAEAsE,SAAQ,CAACrD,GAAT,CAAa,SAACC,IAAD,CAAU,CACrBA,IAAI,CAACT,QAAL,CAAgB,CAAhB,CACAS,IAAI,CAACR,KAAL,CAAa,CAAb,CAEA6D,mBAAkB,CAAC9D,QAAnB,CAA8B,CAA9B,CACA8D,mBAAkB,CAAC7D,KAAnB,CAA2B,CAA3B,CAEA,GAAI8D,IAAI,CAACC,SAAL,CAAevD,IAAf,GAAwBsD,IAAI,CAACC,SAAL,CAAeF,mBAAf,CAA5B,CAAgE,CAC9DH,YAAW,CAAG,IAAd,CACAZ,SAAS,CAAGc,SAAQ,CAACI,OAAT,CAAiBxD,IAAjB,CAAZ,CACD,CACF,CAXD,EAaA,GAAIkD,YAAW,EAAI,IAAnB,CAAyB,CACvB,GAAIO,CAAAA,IAAG,CAAG,CAAV,CACA,GAAIC,CAAAA,WAAS,CAAG,CAAhB,CACA,GACErB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EACA+C,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAF/B,CAGE,CACAoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CALD,IAKO,CACLoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CACDoE,IAAG,CAAGpB,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAtB,CACA8C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BkE,IAAG,CAAG,CAAjC,CACApB,MAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,WAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,MAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,MAAN,CAFG,CAAD,CAAR,CAID,CAnBD,IAmBO,CACLA,MAAI,CAACwB,IAAL,kBAAe/E,eAAf,GACAwD,SAAS,CAAGD,MAAI,CAACc,MAAL,CAAc,CAA1B,CAEA,GAAIO,CAAAA,WAAS,CAAG,CAAhB,CACA,GACErB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EACA+C,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAF/B,CAGE,CACAoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CALD,IAKO,CACLoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CAEDgD,MAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,WAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,MAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,MAAN,CAFG,CAAD,CAAR,CAID,CACF,CA3DD,IA2DO,CACLA,MAAI,CAAG,EAAP,CACAA,MAAI,CAACwB,IAAL,kBAAe/E,eAAf,GACAwD,SAAS,CAAGD,MAAI,CAACc,MAAL,CAAc,CAA1B,CAEA,GAAIO,CAAAA,WAAS,CAAG,CAAhB,CACA,GAAIrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CAEDgD,MAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,WAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,MAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,MAAN,CAFG,CAAD,CAAR,CAID,CAEDyB,eAAe,CAACzB,MAAD,CAAOC,SAAP,CAAf,CACAC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CyB,SAA5C,CACE,IAAM5B,MAAI,CAACc,MAAX,CAAoB,GADtB,CAEA;AACD,CACF,CACF,CACF,CACF,CA1PM,CA4PP,GAAMvC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACR,KAAD,CAAW,CACrC,mBACE,sCACE,iBAAS,SAAS,CAAC,OAAnB,wBACE,4BADF,cAEE,kCACE,KAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CAAY,KAAK,CAAC,EAAlB,uBACE,UAAG,SAAS,CAAC,wBAAb,EADF,EADF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CAAY,KAAK,CAAC,EAAlB,uBACE,UAAG,SAAS,CAAC,uBAAb,EADF,EAJF,cAOE,KAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CAAY,KAAK,CAAC,EAAlB,uBACE,UAAG,SAAS,CAAC,kBAAb,EADF,EAPF,cAUE,KAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CAAY,KAAK,CAAC,EAAlB,uBACE,UAAG,SAAS,CAAC,yBAAb,EADF,EAVF,cAaE,KAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CAAY,KAAK,CAAC,EAAlB,uBACE,UAAG,SAAS,CAAC,wBAAb,EADF,EAbF,GAFF,GADF,EADF,CAwBD,CAzBD,CA2BA,MAAO,IAAM8D,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAAC9D,KAAD,CAAW,CAClD,mBACE,sCACE,iBAAS,EAAE,CAAC,aAAZ,CAA0B,SAAS,CAAC,0BAApC,wBACE,eAAO,SAAS,CAAC,4BAAjB,wBACE,UAAG,SAAS,CAAC,gBAAb,+CADF,cAEE,cACE,EAAE,CAAC,iBADL,CAEE,SAAS,CAAC,qEAFZ,wBAIE,iCAJF,cAKE,cAAO,SAAS,CAAC,gBAAjB,EALF,cAME,eAAQ,SAAS,CAAC,kEAAlB,6BANF,GAFF,GADF,cAcE,eAAO,SAAS,CAAC,4BAAjB,wBACE,+CADF,cAEE,cACE,EAAE,CAAC,aADL,CAEE,SAAS,CAAC,qEAFZ,wBAIE,iCAJF,cAKE,cAAO,SAAS,CAAC,gBAAjB,EALF,cAME,eAAQ,SAAS,CAAC,kEAAlB,wBANF,GAFF,GAdF,GADF,EADF,CAgCD,CAjCM,CAmCP,MAAO,IAAM+D,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAAC/D,KAAD,CAAW,CAC9C,mBACE,sCACE,gBAAS,EAAE,CAAC,eAAZ,CAA4B,KAAK,CAAC,0BAAlC,uBACE,aAAK,KAAK,CAAC,WAAX,CAAuB,EAAE,CAAC,kBAA1B,wBACE,aAAK,KAAK,CAAC,gBAAX,wBACE,WAAI,KAAK,CAAC,kBAAV,CAA6B,EAAE,CAAC,YAAhC,uBACE,eACE,KAAK,CAAC,iCADR,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,kBAAM,CACbgE,WAAW,GACZ,CALH,CAME,gBAAc,MANhB,CAOE,gBAAc,aAPhB,yBADF,EADF,cAcE,YACE,EAAE,CAAC,aADL,CAEE,KAAK,CAAC,6BAFR,CAGE,kBAAgB,YAHlB,CAIE,cAAY,mBAJd,CAKE,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAX,CALT,uBAOE,YAAK,KAAK,CAAC,gBAAX,UAA6BjE,KAAK,CAACS,OAAN,CAAcyD,WAA3C,EAPF,EAdF,GADF,cAyBE,aAAK,KAAK,CAAC,gBAAX,wBACE,WAAI,KAAK,CAAC,kBAAV,CAA6B,EAAE,CAAC,YAAhC,uBACE,eACE,KAAK,CAAC,2CADR,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,kBAAM,CACbC,WAAW,GACZ,CALH,CAME,gBAAc,OANhB,CAOE,gBAAc,aAPhB,oBADF,EADF,cAcE,YACE,EAAE,CAAC,aADL,CAEE,KAAK,CAAC,6BAFR,CAGE,kBAAgB,YAHlB,CAIE,cAAY,mBAJd,CAKE,KAAK,CAAE,CAAEF,OAAO,CAAE,MAAX,CALT,uBAOE,YAAK,KAAK,CAAC,gBAAX,mDAPF,EAdF,GAzBF,GADF,EADF,EADF,CA0DD,CA3DM,CA6DP,MAAO,IAAMG,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CACvCC,QADuC,CAEvC9C,MAFuC,CAGvCC,QAHuC,CAIvC8C,OAJuC,CAKpC,CACH,mBACE,sCACE,gBAAS,EAAE,CAAC,eAAZ,CAA4B,KAAK,CAAC,aAAlC,uBACE,YAAK,KAAK,CAAC,WAAX,uBACE,aAAK,KAAK,CAAC,KAAX,wBACE,YAAK,KAAK,CAAC,wEAAX,uBACE,uCADF,EADF,cAKE,aAAK,KAAK,CAAC,iCAAX,CAA6C,EAAE,CAAC,QAAhD,wBACE,YAAK,KAAK,CAAC,OAAX,uBACE,WAAI,KAAK,CAAC,yBAAV,CAAoC,EAAE,CAAC,OAAvC,UACGD,QAAQ,CAAC1E,GAAT,CAAa,SAAC4E,IAAD,CAAU,CACtB,mBACE,sCACE,iCACE,YAAK,KAAK,CAAC,wCAAX,uBACE,WACE,IAAI,CACF,YAAcA,IAAI,CAAC5F,QAAnB,CAA8B,GAA9B,CAAoC4F,IAAI,CAACC,GAF7C,CAIE,KAAK,CAAC,wCAJR,wBAME,aAAM,KAAK,CAAC,gCAAZ,uBACE,YACE,KAAK,CAAC,MADR,CAEE,GAAG,CAAErG,aAAa,CAAGoG,IAAI,CAACE,UAF5B,CAGE,GAAG,CAAEF,IAAI,CAAC3F,IAHZ,EADF,EANF,cAaE,aAAM,KAAK,CAAC,+CAAZ,UACG2F,IAAI,CAAC1F,KADR,EAbF,cAgBE,aAAM,KAAK,CAAC,6BAAZ,UACG0F,IAAI,CAAC3F,IADR,EAhBF,cAmBE,aAAM,KAAK,CAAC,SAAZ,uBACE,gBAAQ,KAAK,CAAC,mCAAd,eAEG2F,IAAI,CAAC9B,WAAL,CACG8B,IAAI,CAAC9B,WADR,CAEG8B,IAAI,CAAC/B,aAJX,GADF,EAnBF,GADF,EADF,EADF,EADF,CAoED,CArEA,CADH,EADF,EADF,cA2EE,eAAQ,KAAK,CAAC,mBAAd,eA3EF,cA4EE,eAAQ,KAAK,CAAC,mBAAd,eA5EF,GALF,GADF,EADF,EADF,EADF,CA4FD,CAlGM,CAoGP,GAAM7B,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACF,OAAD,CAAa,CAC1C,GAAIiE,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIjE,OAAO,CAAClB,KAAR,CAAgB,CAApB,CAAuB,CACrBmF,SAAS,CAACnF,KAAV,CAAkBkB,OAAO,CAAClB,KAA1B,CACAmF,SAAS,CAAC9D,YAAV,CAAyB,UAAzB,CACD,CAHD,IAGO,CACL8D,SAAS,CAACnF,KAAV,CAAkB,CAAlB,CACAmF,SAAS,CAAC9D,YAAV,CAAyB,cAAzB,CACD,CAED,MAAO8D,CAAAA,SAAP,CACD,CAXD,CAaA,GAAMnE,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACE,OAAD,CAAa,CAClC,GAAI6D,CAAAA,OAAO,CAAGtG,UAAU,EAAxB,CAEA,GAAIiE,CAAAA,IAAI,CAAG,EAAX,CAEA,GAAI0C,CAAAA,cAAc,CAAG,EAArB,CACA1C,IAAI,CAAGlE,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAP,CACA,GAAIZ,IAAI,CAACc,MAAL,CAAc,CAAlB,CAAqB,CACnB4B,cAAc,CAAG1C,IAAI,CAAC,CAAD,CAArB,CACD,CAFD,IAEO,CACLA,IAAI,CAAG,EAAP,CACD,CACD,GAAI2C,CAAAA,SAAS,CAAG,CAAhB,CACA,mBACE,wCACE,YAAK,EAAE,CAAC,OAAR,uBACE,YAAK,KAAK,CAAC,iBAAX,uBACE,YAAK,KAAK,CAAC,KAAX,uBACE,YAAK,KAAK,CAAC,QAAX,EADF,EADF,EADF,EADF,cAQE,YACE,KAAK,CAAC,iBADR,CAEE,EAAE,CAAC,cAFL,CAGE,QAAQ,CAAC,IAHX,CAIE,kBAAgB,mBAJlB,CAKE,cAAY,MALd,uBAOE,YAAK,KAAK,CAAC,iCAAX,uBACE,aAAK,KAAK,CAAC,eAAX,wBACE,aAAK,KAAK,CAAC,uBAAX,wBACE,YACE,KAAK,CAAC,iCADR,CAEE,EAAE,CAAC,mBAFL,wBAIE,UAAG,KAAK,CAAC,0BAAT,EAJF,cAKE,uCALF,GADF,cAQE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,iDAFR,CAGE,kBAAgB,OAHlB,CAIE,aAAW,OAJb,EARF,GADF,cAgBE,YAAK,KAAK,CAAC,YAAX,uBACE,aAAK,KAAK,CAAC,iBAAX,wBACE,aAAK,EAAE,CAAC,aAAR,CAAsB,KAAK,CAAC,KAA5B,wBACE,YAAK,KAAK,CAAC,OAAX,uBACE,YACE,EAAE,CAAC,iBADL,CAEE,GAAG,CAAED,cAAc,CAAC3F,SAFtB,CAGE,KAAK,CAAC,mBAHR,CAIE,GAAG,CAAE2F,cAAc,CAAC/F,IAJtB,EADF,EADF,cASE,aAAK,KAAK,CAAC,OAAX,wBACE,WACE,EAAE,CAAC,mBADL,CAEE,KAAK,CAAC,qDAFR,wBAIE,mCAJF,KAI4B+F,cAAc,CAAC9F,KAJ3C,GADF,cAOE,cACE,EAAE,CAAC,kBADL,CAEE,KAAK,CAAC,gDAFR,wBAIE,kCAJF,KAI2B8F,cAAc,CAAC/F,IAJ1C,GAPF,cAcE,cACE,EAAE,CAAC,iBADL,CAEE,KAAK,CAAC,gDAFR,wBAIE,sCAJF,KAI+B+F,cAAc,CAACxF,QAJ9C,GAdF,GATF,cA8BE,YAAK,KAAK,CAAC,aAAX,uBACE,YAAI,EAAE,CAAC,wBAAP,CAAgC,KAAK,CAAC,qBAAtC,iDAEE,aAFF,cAGE,aAAM,EAAE,CAAC,qBAAT,CAA+B,KAAK,CAAC,gBAArC,uBAHF,GADF,EA9BF,cAuCE,aAAK,KAAK,CAAC,4CAAX,wBACE,eAAQ,KAAK,CAAC,yEAAd,uBACE,UAAG,IAAI,CAAC,OAAR,uBADF,EADF,cAIE,eAAQ,KAAK,CAAC,qFAAd,uBACE,2CADF,EAJF,GAvCF,GADF,cAkDE,aAAK,KAAK,CAAC,KAAX,wBACE,YAAK,KAAK,CAAC,yCAAX,uBACE,WAAI,KAAK,CAAC,wBAAV,8BADF,EADF,CAIGlB,EAAE,CAAC4G,WAAH,CAAepE,OAAf,EAAwBd,GAAxB,CAA4B,SAAC4E,IAAD,CAAOO,KAAP,CAAiB,CAC5C,mBACE,sCACE,YAAK,KAAK,CAAC,kCAAX,uBACE,WACE,IAAI,CAAE,YAAcP,IAAI,CAAC5F,QAAnB,CAA8B,GAA9B,CAAoC4F,IAAI,CAACC,GADjD,wBAGE,YACE,GAAG,CAAC,mGADN,CAEE,KAAK,CAAC,gBAFR,EAHF,cAOE,aAAM,KAAK,CAAC,6CAAZ,UACGD,IAAI,CAAC1F,KADR,EAPF,cAUE,UAAG,KAAK,CAAC,8CAAT,UACG0F,IAAI,CAAC3F,IADR,EAVF,cAcE,cAAM,KAAK,CAAC,6CAAZ,eAEG2F,IAAI,CAAC9B,WAAL,CACG8B,IAAI,CAAC9B,WADR,CAEG8B,IAAI,CAAC/B,aAJX,GAdF,GADF,EADF,EADF,CA2BD,CA5BA,CAJH,GAlDF,GADF,EAhBF,GADF,EAPF,EARF,GADF,CA6HD,CA1ID,CA4IA,GAAMkB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACzB,IAAD,CAAOC,SAAP,CAAqB,CAC3CC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CyB,SAA3C,CAAuD5B,IAAI,CAACC,SAAD,CAAJ,CAAgBpD,KAAvE,CACAqD,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CyB,SAA5C,CACE,0BAA4B5B,IAAI,CAACC,SAAD,CAAJ,CAAgBtD,IAD9C,CAEAuD,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CyB,SAA7C,CACE,2BAA6B5B,IAAI,CAACC,SAAD,CAAJ,CAAgBrD,KAD/C,CAEAsD,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CyB,SAA3C,CACE,8BAAgC5B,IAAI,CAACC,SAAD,CAAJ,CAAgB/C,QADlD,CAEAgD,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAA+CyB,SAA/C,CACE,IAAM5B,IAAI,CAACc,MAAX,CAAoB,SADtB,CAED,CAVD,CAYA,MAAO,IAAMgC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAChE,CAAD,CAAIN,OAAJ,CAAac,MAAb,CAAqBC,QAArB,CAA+B8C,OAA/B,CAA2C,CACxEvD,CAAC,CAACiB,cAAF,GACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIC,CAAAA,SAAS,CAAG,CAAC,CAAjB,CAEAxD,eAAe,CAACS,QAAhB,CAA2B,CAA3B,CAEA,GAAIsB,OAAO,CAAClB,KAAR,EAAiBkB,OAAO,CAAClB,KAAR,CAAgB,CAArC,CAAwC,CACtCkB,OAAO,CAACjB,YAAR,CAAuB,UAAvB,CACD,CAFD,IAEO,CACLiB,OAAO,CAACjB,YAAR,CAAuB,cAAvB,CACD,CAED,GAAItB,eAAe,EAAI,KAAnB,EAA4BQ,eAAe,CAACa,KAAhB,CAAwB,CAAxD,CAA2D,CACzDb,eAAe,CAACI,KAAhB,CAAwBb,EAAE,CAACsE,oBAAH,CAAwB9B,OAAxB,CAAxB,CAEA/B,eAAe,CAACC,QAAhB,CAA2B8B,OAAO,CAAC9B,QAAnC,CACAD,eAAe,CAACE,IAAhB,CAAuB6B,OAAO,CAAC7B,IAA/B,CAEA;AACAF,eAAe,CAACG,KAAhB,CAAwB4B,OAAO,CAAC5B,KAAhC,CACAH,eAAe,CAACO,YAAhB,CAA+BwB,OAAO,CAAC+B,aAAvC,CACA9D,eAAe,CAACQ,UAAhB,CAA6BuB,OAAO,CAACgC,WAArC,CAEA/D,eAAe,CAACM,SAAhB,CAA4Bb,aAAa,CAAGsC,OAAO,CAACgE,UAApD,CAEA,GAAI9B,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAIjE,eAAe,CAACQ,UAAhB,EAA8BR,eAAe,CAACQ,UAAhB,CAA6B,CAA/D,CAAkE,CAChEyD,KAAK,CAAGjE,eAAe,CAACQ,UAAxB,CACD,CAFD,IAEO,CACLyD,KAAK,CAAGjE,eAAe,CAACO,YAAxB,CACD,CAEDP,eAAe,CAACU,KAAhB,CAAwBuD,KAAK,CAAGjE,eAAe,CAACS,QAAhD,CAEA,GAAIsB,OAAO,CAACL,KAAR,EAAiB,QAArB,CAA+B,CAC7B;AAEA,GAAIwC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIX,CAAAA,MAAI,CAAG,EAAX,CACAW,QAAQ,CAAG7E,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAX,CACAZ,MAAI,CAAGlE,iBAAiB,CAAC8E,SAAlB,CAA4B,cAA5B,CAAP,CAEA,GAAIC,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAIF,QAAQ,CAACG,MAAT,CAAkB,CAAtB,CAAyB,CACvB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACAA,QAAQ,oBAAOJ,QAAP,CAAR,CACA,GAAIK,CAAAA,kBAAkB,CAAG,EAAzB,CACAA,kBAAkB,kBAAQvE,eAAR,CAAlB,CAEAsE,QAAQ,CAACrD,GAAT,CAAa,SAACC,IAAD,CAAU,CACrBA,IAAI,CAACT,QAAL,CAAgB,CAAhB,CACAS,IAAI,CAACR,KAAL,CAAa,CAAb,CAEA6D,kBAAkB,CAAC9D,QAAnB,CAA8B,CAA9B,CACA8D,kBAAkB,CAAC7D,KAAnB,CAA2B,CAA3B,CAEA,GAAI8D,IAAI,CAACC,SAAL,CAAevD,IAAf,GAAwBsD,IAAI,CAACC,SAAL,CAAeF,kBAAf,CAA5B,CAAgE,CAC9DH,WAAW,CAAG,IAAd,CACAZ,SAAS,CAAGc,QAAQ,CAACI,OAAT,CAAiBxD,IAAjB,CAAZ,CACD,CACF,CAXD,EAaA,GAAIkD,WAAW,EAAI,IAAnB,CAAyB,CACvB,GAAIO,CAAAA,GAAG,CAAG,CAAV,CACA,GAAIC,CAAAA,SAAS,CAAG,CAAhB,CACA,GAAIrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,SAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,SAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CACDoE,GAAG,CAAGpB,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAtB,CACA8C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BkE,GAAG,CAAG,CAAjC,CACApB,MAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,SAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,MAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,MAAN,CAFG,CAAD,CAAR,CAID,CAhBD,IAgBO,CACLA,MAAI,CAACwB,IAAL,kBAAe/E,eAAf,GACAwD,SAAS,CAAGD,MAAI,CAACc,MAAL,CAAc,CAA1B,CAEA,GAAIO,CAAAA,WAAS,CAAG,CAAhB,CACA,GAAIrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CAEDgD,MAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,WAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,MAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,MAAN,CAFG,CAAD,CAAR,CAID,CACF,CArDD,IAqDO,CACLA,MAAI,CAAG,EAAP,CACAA,MAAI,CAACwB,IAAL,kBAAe/E,eAAf,GACAwD,SAAS,CAAGD,MAAI,CAACc,MAAL,CAAc,CAA1B,CAEA,GAAIO,CAAAA,WAAS,CAAG,CAAhB,CACA,GAAIrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,EAA8B+C,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAAhB,CAA6B,CAA/D,CAAkE,CAChEoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBhD,UAA5B,CACD,CAFD,IAEO,CACLoE,WAAS,CAAGrB,MAAI,CAACC,SAAD,CAAJ,CAAgBjD,YAA5B,CACD,CAEDgD,MAAI,CAACC,SAAD,CAAJ,CAAgB9C,KAAhB,CAAwB6C,MAAI,CAACC,SAAD,CAAJ,CAAgB/C,QAAhB,CAA2BmE,WAAnD,CACAvF,iBAAiB,CAACwF,SAAlB,CAA4B,cAA5B,oBAAgDtB,MAAhD,GACAT,QAAQ,CAAC,CACPgC,IAAI,CAAE,eADC,CAEP5D,IAAI,oBAAMqC,MAAN,CAFG,CAAD,CAAR,CAID,CACDE,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CyB,SAA5C,CACE,IAAM5B,MAAI,CAACc,MAAX,CAAoB,GADtB,CAEAZ,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwC4C,KAAxC,CAA8Cf,OAA9C,CAAwD,OAAxD,CACA,GAAIgB,CAAAA,GAAG,CAAG9C,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwC8C,SAAlD,CACAC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmBH,GAAnB,EACAX,OAAO,CAACb,IAAR,CAAa,GAAb,EAEA;AACD,CACF,CAhHD,IAgHO,CACLnB,KAAK,CAAC,uBAAD,CAAL,CACD,CACF,CAhIM,CAkIP,QAAS0B,CAAAA,WAAT,EAAuB,CACrB,GAAMqB,CAAAA,CAAC,CAAGlD,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAV,CACA,GAAIiD,CAAC,CAACL,KAAF,CAAQf,OAAR,EAAmB,MAAvB,CAA+B,CAC7BoB,CAAC,CAACL,KAAF,CAAQf,OAAR,CAAkB,OAAlB,CACA9B,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuC4C,KAAvC,CAA6Cf,OAA7C,CAAuD,MAAvD,CACD,CAHD,IAGO,CACLoB,CAAC,CAACL,KAAF,CAAQf,OAAR,CAAkB,MAAlB,CACA9B,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuC4C,KAAvC,CAA6Cf,OAA7C,CAAuD,OAAvD,CACD,CACF,CAED,QAASE,CAAAA,WAAT,EAAuB,CACrB,GAAMkB,CAAAA,CAAC,CAAGlD,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAV,CACA,GAAIiD,CAAC,CAACL,KAAF,CAAQf,OAAR,EAAmB,MAAvB,CAA+B,CAC7BoB,CAAC,CAACL,KAAF,CAAQf,OAAR,CAAkB,OAAlB,CACA9B,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuC4C,KAAvC,CAA6Cf,OAA7C,CAAuD,MAAvD,CACD,CAHD,IAGO,CACLoB,CAAC,CAACL,KAAF,CAAQf,OAAR,CAAkB,MAAlB,CACA9B,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuC4C,KAAvC,CAA6Cf,OAA7C,CAAuD,OAAvD,CACD,CACF","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useStateValue } from \"../../StateProvider\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as pC from \"../product/productController\";\r\n//import { productSizesStyle } from \"../../settings\";\r\n//import { productColorsStyle } from \"../../settings\";\r\nimport { allowOutOfStock } from \"../../settings\";\r\nimport { prodImagesDir } from \"../../settings\";\r\nimport { defaultImage } from \"../../settings\";\r\nimport { comingSoonS } from \"../../settings\";\r\nimport { useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nlet productSizesStyle = \"select\";\r\nlet productColorsStyle = \"select\";\r\n\r\nlet selectedProduct = {\r\n  style_id: 0,\r\n  name: \"\",\r\n  brand: \"\",\r\n  image: \"\",\r\n  colorImage: \"\",\r\n  cartImage: defaultImage,\r\n  regularPrice: 0,\r\n  salesPrice: 0,\r\n  quantity: 0,\r\n  total: 0,\r\n  selectedSize: \"\",\r\n  selectedColor: \"\",\r\n  stock: 0,\r\n  stockMessage: \"Out of Stock\",\r\n};\r\nexport const BreadCrumbDisplay = (breadcrumbs) => {\r\n  return (\r\n    <>\r\n      <section id=\"BreadCrumbs\" className=\"col-12 pt-3\">\r\n        <nav aria-label=\"breadcrumb\" className=\"bg-transparent p-0\">\r\n          <ol className=\"breadcrumb bg-transparent p-0\">\r\n            {breadcrumbs.map((item) => {\r\n              return item;\r\n            })}\r\n          </ol>\r\n        </nav>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const displayProductImage = (imageInfo) => {\r\n  return (\r\n    <>\r\n      <section id=\"productmainimage\" className=\"col-lg-7 col-md-6 col-12\">\r\n        <Link\r\n          id=\"zoomer\"\r\n          to={imageInfo.image}\r\n          className=\"MagicZoom\"\r\n          data-options=\"rightClick: true; expand: off;\"\r\n        >\r\n          <img\r\n            id=\"zoom-image\"\r\n            itemprop=\"image\"\r\n            className=\"w-100\"\r\n            src={imageInfo.image}\r\n            alt=\" Mask\"\r\n          />\r\n        </Link>\r\n\r\n        {/*\r\n          <img\r\n            src={imageInfo.image}\r\n            className='img-fluid w-100'\r\n            alt={imageInfo.altText}\r\n          />\r\n        */}\r\n\r\n        <article\r\n          id=\"alt-images\"\r\n          className=\"altimages d-flex justify-content-center my-2\"\r\n        ></article>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const displayProductInfo = (props) => {\r\n  return (\r\n    <>\r\n      <section id=\"productinfo\" className=\"col-lg-5 col-md-6 col-12\">\r\n        <div className=\"infoinner\">\r\n          {productMainInfo(props)}\r\n\r\n          {productPrice(props)}\r\n          {productQuantity(props)}\r\n\r\n          {props.gener == \"variable\" ? productAttributes(props) : \"\"}\r\n\r\n          {ProductAddtoButtons(props)}\r\n          {AddToCartPopUp(props)}\r\n          {productShareButtons(props)}\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst productMainInfo = (product) => {\r\n  let stockStatus = checkStockAvailability(product);\r\n  return (\r\n    <>\r\n      <article className=\"productdesc\">\r\n        <h1 className=\"pname\">{product.name}</h1>\r\n        <p className=\"pcode\">\r\n          <span>product code:</span>\r\n          <span>{product.style_id}</span>\r\n        </p>\r\n        <p className=\"pbrand\">\r\n          <span>brand:</span>\r\n          <span>{product.brand}</span>\r\n        </p>\r\n        <p className=\"pstatus\">\r\n          <span>availability:</span>\r\n          {product.stock > 0 ? (\r\n            <i i className=\"fas fa-check\" />\r\n          ) : (\r\n            <i i className=\"fas fa-times\" />\r\n          )}\r\n\r\n          <span id=\"stock-status\">{stockStatus.availability}</span>\r\n        </p>\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nconst productPrice = (product) => {\r\n  let prodPrice = pC.productPricing(product);\r\n  return (\r\n    <>\r\n      <article className=\"pricing\">\r\n        {prodPrice.salesPrice > 0 ? (\r\n          <>\r\n            <p id=\"rPrice\" className=\"\">\r\n              <del>${prodPrice.regularPrice}</del>\r\n            </p>\r\n            <p id=\"sPrice\" className=\"color-red\">\r\n              ${prodPrice.salesPrice}\r\n            </p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <p id=\"rPrice\" className=\"\">\r\n              ${prodPrice.regularPrice}\r\n            </p>\r\n            <p id=\"sPrice\" className=\"color-red d-none\">\r\n              ${prodPrice.salesPrice}\r\n            </p>\r\n          </>\r\n        )}\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nconst productQuantity = (props) => {\r\n  return (\r\n    <>\r\n      <article className=\"quantity\">\r\n        <label for=\"quantity\">qty</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"qty\"\r\n          name=\"qty\"\r\n          min=\"1\"\r\n          defaultValue=\"1\"\r\n          onChange={(e) => {\r\n            selectedProduct = pC.updateQuantity(e, selectedProduct);\r\n          }}\r\n        />\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nconst productAttributes = (props) => {\r\n  return (\r\n    <>\r\n      {getSizes(props)}\r\n      {getColors(props)}\r\n    </>\r\n  );\r\n  // CAN ADD MORE ATTRIBUTES HERE\r\n};\r\n\r\nconst getSizes = (product) => {\r\n  if (product.style_id && product.style_id == 1) {\r\n    productSizesStyle = \"select\";\r\n    productColorsStyle = \"buttons\";\r\n  } else if (product.style_id && product.style_id == 11) {\r\n    productSizesStyle = \"buttons\";\r\n    productColorsStyle = \"colors\";\r\n  } else if (product.style_id && product.style_id == 22) {\r\n    productSizesStyle = \"buttons\";\r\n    productColorsStyle = \"images\";\r\n  }\r\n\r\n  let productSizes = pC.getProductSizes(product);\r\n  return (\r\n    <>\r\n      <article className=\"size\">\r\n        <div id=\"sizeButtons\" className=\"sizebox\">\r\n          <label for=\"size\" className=\"fw-bold\">\r\n            size : <span id=\"selected-size\" className=\"selected-size\"></span>\r\n          </label>\r\n\r\n          {/******START DISPLAY SIZE AS SELECT DROP DOWN******/}\r\n          {productSizesStyle == \"select\" ? (\r\n            <select\r\n              name=\"choosesize\"\r\n              id=\"size\"\r\n              onChange={(e) => {\r\n                selectedProduct = pC.getSelectedColors(\r\n                  \"select\",\r\n                  e,\r\n                  product,\r\n                  selectedProduct,\r\n                  productColorsStyle,\r\n                  allowOutOfStock\r\n                );\r\n              }}\r\n            >\r\n              <option value=\"Select a Size\">Select a Size</option>\r\n              {productSizes.map((size) => {\r\n                return <option value={size}>{size}</option>;\r\n              })}\r\n            </select>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {/******END DISPLAY SIZE AS SELECT DROP DOWN******/}\r\n\r\n          {/******START DISPLAY SIZE AS BUTTONS******/}\r\n\r\n          {productSizesStyle == \"buttons\"\r\n            ? productSizes.map((size) => {\r\n                return (\r\n                  <>\r\n                    <button\r\n                      className=\"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\"\r\n                      value={size}\r\n                      type=\"button\"\r\n                      onClick={(e) => {\r\n                        selectedProduct = pC.getSelectedColors(\r\n                          \"buttons\",\r\n                          e,\r\n                          product,\r\n                          selectedProduct,\r\n                          productColorsStyle,\r\n                          allowOutOfStock\r\n                        );\r\n                      }}\r\n                    >\r\n                      {size}\r\n                    </button>\r\n                  </>\r\n                );\r\n              })\r\n            : \"\"}\r\n\r\n          {/******END DISPLAY SIZE AS BUTTONS******/}\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nconst getColors = (product) => {\r\n  return (\r\n    <>\r\n      <article className=\"color\">\r\n        <div className=\"colorbox\">\r\n          <label for=\"color\" className=\"fw-bold\">\r\n            Color :<span id=\"selected-color\" className=\"selected-color\"></span>\r\n          </label>\r\n          <br />\r\n\r\n          {/******START DISPLAY Colors AS SELECT DROP DOWN******/}\r\n          {productColorsStyle == \"select\" ? (\r\n            <select\r\n              name=\"choosecolor\"\r\n              id=\"color\"\r\n              className=\"d-block border-1 border-secondary rounded\"\r\n            ></select>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {/******END DISPLAY Colors AS SELECT DROP DOWN******/}\r\n\r\n          {/******START DISPLAY Colors AS BUTTONS******/}\r\n          {productColorsStyle == \"buttons\" ? <div id=\"colorButtons\"></div> : \"\"}\r\n          {/******END DISPLAY Colors AS BUTTONS******/}\r\n\r\n          {/******START DISPLAY Colors AS Colors******/}\r\n          {productColorsStyle == \"colors\" ? <div id=\"colorButtons\"></div> : \"\"}\r\n          {/******END DISPLAY Colors AS Colors******/}\r\n\r\n          {/******START DISPLAY Colors AS IMAGES******/}\r\n          {productColorsStyle == \"images\" ? <div id=\"colorImages\"></div> : \"\"}\r\n          {/******END DISPLAY Colors AS BUTTONS******/}\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ProductAddtoButtons = (product) => {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n  if (selectedProduct && selectedProduct.style_id > 0) {\r\n    if (product.gener == \"simple\") {\r\n    } else {\r\n      product.variants.map((vProduct) => {\r\n        vProduct.color.map((clr) => {\r\n          if (clr.name == selectedProduct.selectedColor) {\r\n            selectedProduct.stock = parseInt(clr.stock);\r\n            if (selectedProduct.stock > 0) {\r\n              selectedProduct.stockMessage = \"In Stock\";\r\n            } else {\r\n              selectedProduct.stockMessage = \"Out of Stock\";\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  } else {\r\n    if (product.stock && product.stock > 0) {\r\n      selectedProduct.stock = parseInt(product.stock);\r\n      selectedProduct.stockMessage = \"In Stock\";\r\n    } else {\r\n      selectedProduct.stock = 0;\r\n      selectedProduct.stockMessage = \"Out of Stock\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <article className=\"addtobuttons\">\r\n        <div id=\"sizeAlert\" className=\"alert alert-danger d-none\" role=\"alert\">\r\n          Select an Avaiable Size\r\n        </div>\r\n        <div id=\"colorAlert\" className=\"alert alert-danger d-none\" role=\"alert\">\r\n          Select an Avaiable Color\r\n        </div>\r\n        {product.stock > 0 ? (\r\n          <>\r\n            <button\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#exampleModal\"\r\n              id=\"AddToCart\"\r\n              className=\"AddToCart\"\r\n              onClick={(e) => {\r\n                AddToCart(e, product, basket, dispatch);\r\n              }}\r\n            >\r\n              add to cart\r\n            </button>\r\n            <button className=\"AddToWishlist\">+ add to wishlist</button>\r\n          </>\r\n        ) : allowOutOfStock == \"yes\" ? (\r\n          <>\r\n            <button\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#exampleModal\"\r\n              id=\"AddToCart\"\r\n              className=\"AddToCart\"\r\n              onClick={(e) => {\r\n                AddToCart(e, product, basket, dispatch);\r\n              }}\r\n            >\r\n              add to cart\r\n            </button>\r\n            <button className=\"AddToWishlist\">+ add to wishlist</button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button\r\n              id=\"AddToCart\"\r\n              class=\"AddToCart\"\r\n              onClick={(e) => {\r\n                AddToCart(e, product, basket, dispatch);\r\n              }}\r\n            >\r\n              Out of Stock\r\n            </button>\r\n          </>\r\n        )}\r\n      </article>\r\n    </>\r\n  );\r\n};\r\nlet newsBasket = [];\r\nexport const AddToCart = (e, product, basket, dispatch) => {\r\n  e.preventDefault();\r\n  let cart = [];\r\n  let itemIndex = -1;\r\n\r\n  selectedProduct.quantity = parseInt(document.getElementById(\"qty\").value, 10);\r\n\r\n  if (selectedProduct.stock && selectedProduct.stock > 0) {\r\n    selectedProduct.stockMessage = \"In Stock\";\r\n  } else {\r\n    selectedProduct.stockMessage = \"Out of Stock\";\r\n  }\r\n\r\n  if (\r\n    selectedProduct.quantity &&\r\n    selectedProduct.quantity != \"\" &&\r\n    parseInt(selectedProduct.quantity, 10)\r\n  ) {\r\n  } else {\r\n    alert(\"Please select a quantity in Numbers\");\r\n    return;\r\n  }\r\n\r\n  if (allowOutOfStock == \"yes\" || selectedProduct.stock > 0) {\r\n    selectedProduct.image = pC.getProductSmallImage(product);\r\n\r\n    selectedProduct.style_id = product.style_id;\r\n    selectedProduct.name = product.name;\r\n\r\n    // selectedProduct.stock = product.stock;\r\n    selectedProduct.brand = product.brand;\r\n    selectedProduct.regularPrice = product.regular_price;\r\n    selectedProduct.salesPrice = product.sales_price;\r\n\r\n    if (selectedProduct.colorImage && selectedProduct.colorImage != \"\") {\r\n      if (selectedProduct.colorImage.includes(prodImagesDir)) {\r\n        selectedProduct.colorImage = selectedProduct.colorImage;\r\n      } else {\r\n        selectedProduct.colorImage = prodImagesDir + selectedProduct.colorImage;\r\n      }\r\n\r\n      selectedProduct.cartImage = selectedProduct.colorImage;\r\n    } else if (selectedProduct.image && selectedProduct.image != \"\") {\r\n      selectedProduct.image = selectedProduct.image;\r\n      selectedProduct.cartImage = selectedProduct.image;\r\n    } else {\r\n      selectedProduct.cartImage = prodImagesDir + selectedProduct.cartImage;\r\n    }\r\n\r\n    let price = 0;\r\n    if (selectedProduct.salesPrice && selectedProduct.salesPrice > 0) {\r\n      price = selectedProduct.salesPrice;\r\n    } else {\r\n      price = selectedProduct.regularPrice;\r\n    }\r\n\r\n    selectedProduct.total = price * selectedProduct.quantity;\r\n\r\n    if (product.gener == \"simple\") {\r\n      // START ADD SIMPLE PRODUCT IN THE CART\r\n\r\n      let sessions = [];\r\n      let cart = [];\r\n      sessions = reactLocalStorage.getObject(\"cartSessions\");\r\n      cart = reactLocalStorage.getObject(\"cartSessions\");\r\n\r\n      let itemMatched = false;\r\n      if (sessions.length > 0) {\r\n        let tempCart = [];\r\n        tempCart = [...sessions];\r\n        let tempSeletedProduct = {};\r\n        tempSeletedProduct = { ...selectedProduct };\r\n\r\n        tempCart.map((item) => {\r\n          item.quantity = 0;\r\n          item.total = 0;\r\n\r\n          tempSeletedProduct.quantity = 0;\r\n          tempSeletedProduct.total = 0;\r\n\r\n          if (JSON.stringify(item) == JSON.stringify(tempSeletedProduct)) {\r\n            itemMatched = true;\r\n            itemIndex = tempCart.indexOf(item);\r\n          }\r\n        });\r\n\r\n        if (itemMatched == true) {\r\n          let qty = 0;\r\n          let itemPrice = 0;\r\n          if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n            itemPrice = cart[itemIndex].salesPrice;\r\n          } else {\r\n            itemPrice = cart[itemIndex].regularPrice;\r\n          }\r\n          qty = cart[itemIndex].quantity;\r\n          cart[itemIndex].quantity = qty + 1;\r\n          cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n          reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n          dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: [...cart],\r\n          });\r\n        } else {\r\n          cart.push({ ...selectedProduct });\r\n          itemIndex = cart.length - 1;\r\n\r\n          let itemPrice = 0;\r\n          if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n            itemPrice = cart[itemIndex].salesPrice;\r\n          } else {\r\n            itemPrice = cart[itemIndex].regularPrice;\r\n          }\r\n\r\n          cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n          reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n          dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: [...cart],\r\n          });\r\n        }\r\n      } else {\r\n        cart = [];\r\n        cart.push({ ...selectedProduct });\r\n        itemIndex = cart.length - 1;\r\n\r\n        let itemPrice = 0;\r\n        if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n          itemPrice = cart[itemIndex].salesPrice;\r\n        } else {\r\n          itemPrice = cart[itemIndex].regularPrice;\r\n        }\r\n\r\n        cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n        reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n        dispatch({\r\n          type: \"ADD_TO_BASKET\",\r\n          item: [...cart],\r\n        });\r\n      }\r\n      updateCartPopUp(cart, itemIndex);\r\n\r\n      // END ADD SIMPLE PRODUCT IN THE CART\r\n    } else {\r\n      if (\r\n        selectedProduct.selectedSize == \"\" ||\r\n        selectedProduct.selectedSize == \"Select a Size\"\r\n      ) {\r\n        document.getElementById(\"sizeAlert\").classList.remove(\"d-none\");\r\n      } else {\r\n        if (\r\n          selectedProduct.selectedColor == \"\" ||\r\n          selectedProduct.selectedColor == \"Select a Color\"\r\n        ) {\r\n          document.getElementById(\"colorAlert\").classList.remove(\"d-none\");\r\n        } else {\r\n          // START ADD VARIABLE PRODUCT IN THE CART\r\n\r\n          let sessions = [];\r\n          let cart = [];\r\n          sessions = reactLocalStorage.getObject(\"cartSessions\");\r\n          cart = reactLocalStorage.getObject(\"cartSessions\");\r\n\r\n          let itemMatched = false;\r\n          if (sessions.length > 0) {\r\n            let tempCart = [];\r\n            tempCart = [...sessions];\r\n            let tempSeletedProduct = {};\r\n            tempSeletedProduct = { ...selectedProduct };\r\n\r\n            tempCart.map((item) => {\r\n              item.quantity = 0;\r\n              item.total = 0;\r\n\r\n              tempSeletedProduct.quantity = 0;\r\n              tempSeletedProduct.total = 0;\r\n\r\n              if (JSON.stringify(item) == JSON.stringify(tempSeletedProduct)) {\r\n                itemMatched = true;\r\n                itemIndex = tempCart.indexOf(item);\r\n              }\r\n            });\r\n\r\n            if (itemMatched == true) {\r\n              let qty = 0;\r\n              let itemPrice = 0;\r\n              if (\r\n                cart[itemIndex].salesPrice &&\r\n                cart[itemIndex].salesPrice > 0\r\n              ) {\r\n                itemPrice = cart[itemIndex].salesPrice;\r\n              } else {\r\n                itemPrice = cart[itemIndex].regularPrice;\r\n              }\r\n              qty = cart[itemIndex].quantity;\r\n              cart[itemIndex].quantity = qty + 1;\r\n              cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n              reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n              dispatch({\r\n                type: \"ADD_TO_BASKET\",\r\n                item: [...cart],\r\n              });\r\n            } else {\r\n              cart.push({ ...selectedProduct });\r\n              itemIndex = cart.length - 1;\r\n\r\n              let itemPrice = 0;\r\n              if (\r\n                cart[itemIndex].salesPrice &&\r\n                cart[itemIndex].salesPrice > 0\r\n              ) {\r\n                itemPrice = cart[itemIndex].salesPrice;\r\n              } else {\r\n                itemPrice = cart[itemIndex].regularPrice;\r\n              }\r\n\r\n              cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n              reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n              dispatch({\r\n                type: \"ADD_TO_BASKET\",\r\n                item: [...cart],\r\n              });\r\n            }\r\n          } else {\r\n            cart = [];\r\n            cart.push({ ...selectedProduct });\r\n            itemIndex = cart.length - 1;\r\n\r\n            let itemPrice = 0;\r\n            if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n              itemPrice = cart[itemIndex].salesPrice;\r\n            } else {\r\n              itemPrice = cart[itemIndex].regularPrice;\r\n            }\r\n\r\n            cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n            reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n            dispatch({\r\n              type: \"ADD_TO_BASKET\",\r\n              item: [...cart],\r\n            });\r\n          }\r\n\r\n          updateCartPopUp(cart, itemIndex);\r\n          document.getElementById(\"basket-total-top\").innerHTML =\r\n            \"(\" + cart.length + \")\";\r\n          // END ADD VARIABLE PRODUCT IN THE CART\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nconst productShareButtons = (props) => {\r\n  return (\r\n    <>\r\n      <article className=\"share\">\r\n        <p>share</p>\r\n        <p>\r\n          <Link to=\"\" title=\"\">\r\n            <i className=\"fab fa-facebook-square\"></i>\r\n          </Link>\r\n          <Link to=\"\" title=\"\">\r\n            <i className=\"fab fa-twitter-square\"></i>\r\n          </Link>\r\n          <Link to=\"\" title=\"\">\r\n            <i className=\"fab fa-instagram\"></i>\r\n          </Link>\r\n          <Link to=\"\" title=\"\">\r\n            <i className=\"fab fa-pinterest-square\"></i>\r\n          </Link>\r\n          <Link to=\"\" title=\"\">\r\n            <i className=\"fas fa-envelope-square\"></i>\r\n          </Link>\r\n        </p>\r\n      </article>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const displayProductNewsLetters = (props) => {\r\n  return (\r\n    <>\r\n      <section id=\"newsletters\" className=\"col-lg-7 col-md-6 col-12\">\r\n        <aside className=\"px-4 py-5 text-left border\">\r\n          <p className=\"d-block w-100 \">Receive instant lower price quote</p>\r\n          <form\r\n            id=\"lowerpricequote\"\r\n            className=\"d-flex justify-content-between align-content-center text-capitalize\"\r\n          >\r\n            <label>email:</label>\r\n            <input className=\"w-50 text-dark\" />\r\n            <button className=\"bg-dark text-light text-uppercase text-center border-0 py-1 px-3\">\r\n              get lower price\r\n            </button>\r\n          </form>\r\n        </aside>\r\n        <aside className=\"px-4 py-5 text-left border\">\r\n          <p>Sign up for price alerts</p>\r\n          <form\r\n            id=\"pricealerts\"\r\n            className=\"d-flex justify-content-between align-content-center text-capitalize\"\r\n          >\r\n            <label>email:</label>\r\n            <input className=\"w-50 text-dark\" />\r\n            <button className=\"bg-dark text-light text-uppercase text-center border-0 py-1 px-3\">\r\n              sign me up\r\n            </button>\r\n          </form>\r\n        </aside>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const displayProductDetails = (props) => {\r\n  return (\r\n    <>\r\n      <section id=\"descandreview\" class=\" col-12 mt-5 mb-3 module\">\r\n        <div class=\"accordion\" id=\"accordionExample\">\r\n          <div class=\"accordion-item\">\r\n            <h2 class=\"accordion-header\" id=\"headingOne\">\r\n              <button\r\n                class=\"text-uppercase accordion-button\"\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  collapseOne();\r\n                }}\r\n                aria-expanded=\"true\"\r\n                aria-controls=\"collapseOne\"\r\n              >\r\n                Description\r\n              </button>\r\n            </h2>\r\n            <div\r\n              id=\"collapseOne\"\r\n              class=\"accordion-collapse collapse\"\r\n              aria-labelledby=\"headingOne\"\r\n              data-parent=\"#accordionExample\"\r\n              style={{ display: \"block\" }}\r\n            >\r\n              <div class=\"accordion-body\">{props.product.description}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"accordion-item\">\r\n            <h2 class=\"accordion-header\" id=\"headingTwo\">\r\n              <button\r\n                class=\"text-uppercase accordion-button collapsed\"\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  collapseTwo();\r\n                }}\r\n                aria-expanded=\"false\"\r\n                aria-controls=\"collapseTwo\"\r\n              >\r\n                review\r\n              </button>\r\n            </h2>\r\n            <div\r\n              id=\"collapseTwo\"\r\n              class=\"accordion-collapse collapse\"\r\n              aria-labelledby=\"headingTwo\"\r\n              data-parent=\"#accordionExample\"\r\n              style={{ display: \"none\" }}\r\n            >\r\n              <div class=\"accordion-body\">\r\n                Reviews will go here. Coming Soon....\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const displayAdditionalProducts = (\r\n  products,\r\n  basket,\r\n  dispatch,\r\n  history\r\n) => {\r\n  return (\r\n    <>\r\n      <section id=\"productslider\" class=\"mb-4 module\">\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12 heading text-center text-dark text-uppercase headings-animation\">\r\n              <p>Related Products</p>\r\n            </div>\r\n\r\n            <div class=\"slider featured-items-animation\" id=\"slider\">\r\n              <div class=\"outer\">\r\n                <ul class=\"slide list-unstyled p-0\" id=\"slide\">\r\n                  {products.map((prod) => {\r\n                    return (\r\n                      <>\r\n                        <li>\r\n                          <div class=\"productListing module text-center p-1 \">\r\n                            <a\r\n                              href={\r\n                                \"/product/\" + prod.style_id + \"/\" + prod.url\r\n                              }\r\n                              class=\"product text-decoration-none text-left\"\r\n                            >\r\n                              <span class=\"image text-center mb-2 d-block\">\r\n                                <img\r\n                                  class=\"item\"\r\n                                  src={prodImagesDir + prod.smallImage}\r\n                                  alt={prod.name}\r\n                                />\r\n                              </span>\r\n                              <span class=\"brand text-capitalize  text-dark d-block mb-1\">\r\n                                {prod.brand}\r\n                              </span>\r\n                              <span class=\"name text-dark d-block mb-1\">\r\n                                {prod.name}\r\n                              </span>\r\n                              <span class=\"pricing\">\r\n                                <strong class=\"listPrice  text-dark d-block mb-1\">\r\n                                  $\r\n                                  {prod.sales_price\r\n                                    ? prod.sales_price\r\n                                    : prod.regular_price}\r\n                                </strong>\r\n                              </span>\r\n                              {/*\r\n                              <div class=\"add-to-cart-button\">\r\n                                {prod.gener == \"simple\" ? (\r\n                                  <button\r\n                                    onClick={(e) => {\r\n                                      simpleAddToCart(\r\n                                        e,\r\n                                        prod,\r\n                                        basket,\r\n                                        dispatch,\r\n                                        history\r\n                                      );\r\n                                    }}\r\n                                    class=\"bg-dark text-light border-1 p-2 fw-bold border-dark  w-75 mx-auto d-block\"\r\n                                  >\r\n                                    Add To Cart\r\n                                  </button>\r\n                                ) : (\r\n                                  <a\r\n                                    href={\r\n                                      \"/product/\" +\r\n                                      prod.style_id +\r\n                                      \"/\" +\r\n                                      prod.url\r\n                                    }\r\n                                    class=\"bg-dark text-light border-1 p-2 fw-bold border-dark  w-75 mx-auto d-block\"\r\n                                  >\r\n                                    View Options\r\n                                  </a>\r\n                                )}\r\n                              </div>\r\n                                  */}\r\n                            </a>\r\n                          </div>\r\n                        </li>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              </div>\r\n              <button class=\"ctrl-btn pro-prev\">&lt;</button>\r\n              <button class=\"ctrl-btn pro-next\">&gt;</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst checkStockAvailability = (product) => {\r\n  let stockInfo = {};\r\n  if (product.stock > 0) {\r\n    stockInfo.stock = product.stock;\r\n    stockInfo.availability = \"In Stock\";\r\n  } else {\r\n    stockInfo.stock = 0;\r\n    stockInfo.availability = \"Out of Stock\";\r\n  }\r\n\r\n  return stockInfo;\r\n};\r\n\r\nconst AddToCartPopUp = (product) => {\r\n  let history = useHistory();\r\n\r\n  let cart = [];\r\n\r\n  let RecentCartProd = {};\r\n  cart = reactLocalStorage.getObject(\"cartSessions\");\r\n  if (cart.length > 0) {\r\n    RecentCartProd = cart[0];\r\n  } else {\r\n    cart = [];\r\n  }\r\n  let prodCount = 0;\r\n  return (\r\n    <>\r\n      <div id=\"popup\">\r\n        <div class=\"container-fluid\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"modal fade show\"\r\n        id=\"exampleModal\"\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog modal-lg shadow-lg\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header border-0\">\r\n              <h5\r\n                class=\"modal-title text-dark fw-bolder\"\r\n                id=\"exampleModalLabel\"\r\n              >\r\n                <i class=\"far fa-check-circle pr-3\"></i>\r\n                <span>Added to cart</span>\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close border-1 rounded border-dark border-2\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <div class=\"container-fluid\">\r\n                <div id=\"currentItem\" class=\"row\">\r\n                  <div class=\"col-4\">\r\n                    <img\r\n                      id=\"currentItem-img\"\r\n                      src={RecentCartProd.cartImage}\r\n                      class=\"img-fluid p-image\"\r\n                      alt={RecentCartProd.name}\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-8\">\r\n                    <p\r\n                      id=\"currentItem-brand\"\r\n                      class=\"d-block text-capitalize text-secondary fw-bold mb-1\"\r\n                    >\r\n                      <strong>Brand: </strong> {RecentCartProd.brand}\r\n                    </p>\r\n                    <span\r\n                      id=\"currentItem-name\"\r\n                      class=\"d-block text-capitalize text-secondary fw-bold\"\r\n                    >\r\n                      <strong>Name: </strong> {RecentCartProd.name}\r\n                    </span>\r\n\r\n                    <span\r\n                      id=\"currentItem-qty\"\r\n                      class=\"d-block text-capitalize text-secondary fw-bold\"\r\n                    >\r\n                      <strong>Quantity: </strong> {RecentCartProd.quantity}\r\n                    </span>\r\n                  </div>\r\n                  <div class=\"col-12 mt-3\">\r\n                    <h6 id=\"currentItem-cart-total\" class=\"fw-bolder text-dark\">\r\n                      Cart subtotal: $168.00\r\n                      <br />\r\n                      <span id=\"currentItem-no-item\" class=\"text-secondary\">\r\n                        (2 items)\r\n                      </span>\r\n                    </h6>\r\n                  </div>\r\n                  <div class=\"col-12 my-3 d-flex justify-content-between\">\r\n                    <button class=\"rounded bg-dark text-light py-3 text-capitalize fw-bolder w-48 border-0\">\r\n                      <a href=\"/cart\">View Vart</a>\r\n                    </button>\r\n                    <button class=\"rounded bg-light text-dark py-3 text-capitalize fw-bolder w-48 border-1 border-dark\">\r\n                      <span>continue shopping</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col-12 border-top border-secondary mb-3\">\r\n                    <h4 class=\"text-dark fw-bold pt-2\">Related Products</h4>\r\n                  </div>\r\n                  {pC.cartRelated(product).map((prod, index) => {\r\n                    return (\r\n                      <>\r\n                        <div class=\"col-lg-3 col-md-3 col-sm-6 col-6\">\r\n                          <a\r\n                            href={\"/product/\" + prod.style_id + \"/\" + prod.url}\r\n                          >\r\n                            <img\r\n                              src=\"http://template2icumulus-com.ntc5-p2stl.ezhostingserver.com/dragndrop/images/hp_product_img_m.jpg\"\r\n                              class=\"img-fluid mb-1\"\r\n                            />\r\n                            <span class=\"lh-sm d-block mb-1 text-secondary fw-normal\">\r\n                              {prod.brand}\r\n                            </span>\r\n                            <p class=\"lh-sm mb-2 text-capitalize text-dark fw-bold\">\r\n                              {prod.name}\r\n                            </p>\r\n\r\n                            <span class=\"lh-sm d-block fw-bold saleprice text-danger\">\r\n                              $\r\n                              {prod.sales_price\r\n                                ? prod.sales_price\r\n                                : prod.regular_price}\r\n                            </span>\r\n                          </a>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst updateCartPopUp = (cart, itemIndex) => {\r\n  document.getElementById(\"currentItem-img\").innerHTML = cart[itemIndex].image;\r\n  document.getElementById(\"currentItem-name\").innerHTML =\r\n    \"<strong>Name: </strong>\" + cart[itemIndex].name;\r\n  document.getElementById(\"currentItem-brand\").innerHTML =\r\n    \"<strong>Brand: </strong>\" + cart[itemIndex].brand;\r\n  document.getElementById(\"currentItem-qty\").innerHTML =\r\n    \"<strong>Quantity: </strong>\" + cart[itemIndex].quantity;\r\n  document.getElementById(\"currentItem-no-item\").innerHTML =\r\n    \"(\" + cart.length + \" Items)\";\r\n};\r\n\r\nexport const simpleAddToCart = (e, product, basket, dispatch, history) => {\r\n  e.preventDefault();\r\n  let cart = [];\r\n  let itemIndex = -1;\r\n\r\n  selectedProduct.quantity = 1;\r\n\r\n  if (product.stock && product.stock > 0) {\r\n    product.stockMessage = \"In Stock\";\r\n  } else {\r\n    product.stockMessage = \"Out of Stock\";\r\n  }\r\n\r\n  if (allowOutOfStock == \"yes\" || selectedProduct.stock > 0) {\r\n    selectedProduct.image = pC.getProductSmallImage(product);\r\n\r\n    selectedProduct.style_id = product.style_id;\r\n    selectedProduct.name = product.name;\r\n\r\n    // selectedProduct.stock = product.stock;\r\n    selectedProduct.brand = product.brand;\r\n    selectedProduct.regularPrice = product.regular_price;\r\n    selectedProduct.salesPrice = product.sales_price;\r\n\r\n    selectedProduct.cartImage = prodImagesDir + product.smallImage;\r\n\r\n    let price = 0;\r\n    if (selectedProduct.salesPrice && selectedProduct.salesPrice > 0) {\r\n      price = selectedProduct.salesPrice;\r\n    } else {\r\n      price = selectedProduct.regularPrice;\r\n    }\r\n\r\n    selectedProduct.total = price * selectedProduct.quantity;\r\n\r\n    if (product.gener == \"simple\") {\r\n      // START ADD SIMPLE PRODUCT IN THE CART\r\n\r\n      let sessions = [];\r\n      let cart = [];\r\n      sessions = reactLocalStorage.getObject(\"cartSessions\");\r\n      cart = reactLocalStorage.getObject(\"cartSessions\");\r\n\r\n      let itemMatched = false;\r\n      if (sessions.length > 0) {\r\n        let tempCart = [];\r\n        tempCart = [...sessions];\r\n        let tempSeletedProduct = {};\r\n        tempSeletedProduct = { ...selectedProduct };\r\n\r\n        tempCart.map((item) => {\r\n          item.quantity = 0;\r\n          item.total = 0;\r\n\r\n          tempSeletedProduct.quantity = 0;\r\n          tempSeletedProduct.total = 0;\r\n\r\n          if (JSON.stringify(item) == JSON.stringify(tempSeletedProduct)) {\r\n            itemMatched = true;\r\n            itemIndex = tempCart.indexOf(item);\r\n          }\r\n        });\r\n\r\n        if (itemMatched == true) {\r\n          let qty = 0;\r\n          let itemPrice = 0;\r\n          if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n            itemPrice = cart[itemIndex].salesPrice;\r\n          } else {\r\n            itemPrice = cart[itemIndex].regularPrice;\r\n          }\r\n          qty = cart[itemIndex].quantity;\r\n          cart[itemIndex].quantity = qty + 1;\r\n          cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n          reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n          dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: [...cart],\r\n          });\r\n        } else {\r\n          cart.push({ ...selectedProduct });\r\n          itemIndex = cart.length - 1;\r\n\r\n          let itemPrice = 0;\r\n          if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n            itemPrice = cart[itemIndex].salesPrice;\r\n          } else {\r\n            itemPrice = cart[itemIndex].regularPrice;\r\n          }\r\n\r\n          cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n          reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n          dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: [...cart],\r\n          });\r\n        }\r\n      } else {\r\n        cart = [];\r\n        cart.push({ ...selectedProduct });\r\n        itemIndex = cart.length - 1;\r\n\r\n        let itemPrice = 0;\r\n        if (cart[itemIndex].salesPrice && cart[itemIndex].salesPrice > 0) {\r\n          itemPrice = cart[itemIndex].salesPrice;\r\n        } else {\r\n          itemPrice = cart[itemIndex].regularPrice;\r\n        }\r\n\r\n        cart[itemIndex].total = cart[itemIndex].quantity * itemPrice;\r\n        reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n        dispatch({\r\n          type: \"ADD_TO_BASKET\",\r\n          item: [...cart],\r\n        });\r\n      }\r\n      document.getElementById(\"basket-total-top\").innerHTML =\r\n        \"(\" + cart.length + \")\";\r\n      document.getElementById(\"cartdropdown\").style.display = \"block\";\r\n      var top = document.getElementById(\"cartdropdown\").offsetTop;\r\n      window.scrollTo(0, top);\r\n      history.push(\"/\");\r\n\r\n      // END ADD SIMPLE PRODUCT IN THE CART\r\n    }\r\n  } else {\r\n    alert(\"Zero Stock Availabale\");\r\n  }\r\n};\r\n\r\nfunction collapseOne() {\r\n  const x = document.getElementById(\"collapseOne\");\r\n  if (x.style.display == \"none\") {\r\n    x.style.display = \"block\";\r\n    document.getElementById(\"collapseTwo\").style.display = \"none\";\r\n  } else {\r\n    x.style.display = \"none\";\r\n    document.getElementById(\"collapseTwo\").style.display = \"block\";\r\n  }\r\n}\r\n\r\nfunction collapseTwo() {\r\n  const x = document.getElementById(\"collapseTwo\");\r\n  if (x.style.display == \"none\") {\r\n    x.style.display = \"block\";\r\n    document.getElementById(\"collapseOne\").style.display = \"none\";\r\n  } else {\r\n    x.style.display = \"none\";\r\n    document.getElementById(\"collapseOne\").style.display = \"block\";\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}