{"ast":null,"code":"import _toConsumableArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useStateValue}from\"../StateProvider\";import{useHistory}from\"react-router-dom\";import{reactLocalStorage}from\"reactjs-localstorage\";import{updateQuantity}from\"./product/productController\";import*as cc from\"./cart/cartController\";function Cart(){var history=useHistory();var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),basket=_useStateValue2[0].basket,dispatch=_useStateValue2[1];var cart=[];cart=cc.GetCart();var cartSubTotal=0;cartSubTotal=cc.GetCartSubTotal(cart);//RemoveCartItem();\n//UpdateCartQuantity();\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"contentHolder\",children:/*#__PURE__*/_jsx(\"div\",{id:\"viewcart\",class:\"mb-4 pt-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[CartTopLeft(cart,history),CartTopRight(cartSubTotal),cartContent(cart,history),cartBottomLeft(cart),cartBottomRight(cartSubTotal)]})})})})});}var CartTopLeft=function CartTopLeft(cart,history){console.log(cart);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{id:\"cart-item-info\",class:\"col-lg-6 col-md-6 col-sm-12 col-12 text-start\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"text-dark\",children:\"Shopping cart\"}),/*#__PURE__*/_jsxs(\"p\",{id:\"cartLength\",class:\"text-secondary\",children:[cart.length,\" items\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){history.push(\"/category/all-products\");},class:\"bg-secondary text-light p-2 border-1 fw-bold border-dark rounded\",children:\"Continue Shopping\"})]})});};var CartTopRight=function CartTopRight(cartSubTotal){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{id:\"cart-item-total\",class:\"col-lg-6 col-md-6 col-sm-12 col-12 text-right\",children:[/*#__PURE__*/_jsxs(\"h3\",{id:\"cart-total-top\",class:\"text-dark\",children:[\"$\",cartSubTotal]}),/*#__PURE__*/_jsx(\"p\",{class:\"text-secondary\",children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"button\",{class:\"bg-dark text-light border-1 p-2 fw-bold border-dark rounded\",children:\"Proceed to checkout\"})]})});};var cartContent=function cartContent(cart,history){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{id:\"cart-detail-heading\",class:\"col-12 border-top border-bottom border-secondary mt-3 py-2 mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-6 col-md-6 col-sm-3 col-3\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-capitalize text-secondary fw-bold\",children:\"product\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-2 col-md-2 col-sm-3 col-3\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-capitalize text-secondary fw-bold\",children:\"quantity\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-2 col-md-2 col-sm-3 col-3 text-right\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-capitalize text-secondary fw-bold\",children:\"item price\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-2 col-md-2 col-sm-3 col-3 text-right\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-capitalize text-secondary fw-bold\",children:\"total\"})})]})}),cart.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"cart-detail\",class:\"col-12 rounded shadow my-2 py-2 border-1 border-secondary mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"product-picture\",class:\"col-lg-2 col-md-2 col-12\",children:/*#__PURE__*/_jsx(\"img\",{src:item.cartImage,class:\"img-fluid w-75 mx-auto\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"product-description\",class:\"col-lg-4 col-md-4 col-12\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/product/\"+item.style_id+\"/fromcart\",class:\"text-decoration-none\",children:[/*#__PURE__*/_jsx(\"b\",{class:\"d-block text-dark\",children:item.brand}),/*#__PURE__*/_jsxs(\"strong\",{class:\"d-block text-secondary\",children:[item.name,\" \"]})]}),/*#__PURE__*/_jsxs(\"em\",{class:\"d-block text-secondary fw-normal fst-normal\",children:[\"#\",item.style_id]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"product-information\",class:\"col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"product-upper-info d-flex justify-content-between border-bottom border-secondary py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"first\",children:[/*#__PURE__*/_jsx(\"button\",{value:\"-\",class:\"rounded\",onClick:function onClick(e){UpdateCartQuantity(e,index,cart);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",_defineProperty({id:\"itemsQTY\"+index,value:index,class:\"w-25\",type:\"number\"},\"value\",item.quantity)),/*#__PURE__*/_jsx(\"button\",{value:\"+\",class:\"rounded\",onClick:function onClick(e){UpdateCartQuantity(e,index,cart);},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",item.salesPrice?item.salesPrice:item.regularPrice]}),/*#__PURE__*/_jsxs(\"span\",{id:\"item-total\"+index,children:[\"$\",item.total]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"product-middle-info py-3 border-bottom border-secondary\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"p-desc-button d-flex justify-content-between mt-3\",children:[item.selectedColor?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Color:\"}),item.selectedColor]}):\"\",item.selectedSize?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Size:\"}),\" \",item.selectedSize]}):\"\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){RemoveCartItem(cart,index,history);},class:\"text-dark bg-light border-1 border-dark py-1 px-3 rounded fw-normal \",children:\"Remove\"})]})})]})]})})});})]});};var cartBottomLeft=function cartBottomLeft(cart){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{id:\"cart-end-information\",class:\"col-lg-5 col-md-6 col-12 mt-3\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"text-dark bg-light border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\",children:\"Save for later\"}),/*#__PURE__*/_jsx(\"button\",{class:\"text-light bg-dark border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\",children:\"Share cart link\"})]})});};var cartBottomRight=function cartBottomRight(cartSubTotal){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{id:\"cart-end-total\",class:\"col-lg-6 col-md-6 col-12 mt-3 mx-auto\",children:[/*#__PURE__*/_jsxs(\"p\",{class:\"w-100 fw-bold text-dark\",children:[\"Cart Subtotal\",/*#__PURE__*/_jsxs(\"span\",{id:\"bottom-subtotal\",class:\"float-right fw-bold text-dark\",children:[\"$\",cartSubTotal]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"w-100 rounded p-2 bg-dark fw-bold text-light text-center\",children:\"Proceed to checkout\"})]})});};var RemoveCartItem=function RemoveCartItem(cart,index,history){cart.splice(index,index+1);document.getElementById(\"cartLength\").innerHTML=\"(\"+cart.length+\")\";document.getElementById(\"basket-total-top\").innerHTML=\"(\"+cart.length+\")\";reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(cart));history.push(\"cart\");};var UpdateCartQuantity=function UpdateCartQuantity(e,index,cart){if(e.target.value==\"+\"){cart[index].quantity++;}else{cart[index].quantity--;if(cart[index].quantity==0){cart[index].quantity=1;}}cart.map(function(cartitem,index){if(cart.salesPrice&&cart.salesPrice>0){cart[index].total=cart[index].salesPrice*cart[index].quantity;}else{cart[index].total=cart[index].regularPrice*cart[index].quantity;}});document.getElementById(\"itemsQTY\"+index).value=cart[index].quantity;var cartSubTotal=0;cartSubTotal=cc.GetCartSubTotal(cart);document.getElementById(\"bottom-subtotal\").innerHTML=\"$\"+cartSubTotal;document.getElementById(\"cart-total-top\").innerHTML=\"$\"+cartSubTotal;reactLocalStorage.setObject(\"cartSessions\",_toConsumableArray(cart));document.getElementById(\"item-total\"+index).innerHTML=cart[index].total;};export default Cart;","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/Cart.js"],"names":["React","useState","useEffect","useStateValue","useHistory","reactLocalStorage","updateQuantity","cc","Cart","history","basket","dispatch","cart","GetCart","cartSubTotal","GetCartSubTotal","CartTopLeft","CartTopRight","cartContent","cartBottomLeft","cartBottomRight","console","log","length","push","map","item","index","cartImage","style_id","brand","name","e","UpdateCartQuantity","quantity","salesPrice","regularPrice","total","selectedColor","selectedSize","RemoveCartItem","splice","document","getElementById","innerHTML","setObject","target","value","cartitem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nimport { updateQuantity } from \"./product/productController\";\r\nimport * as cc from \"./cart/cartController\";\r\n\r\nfunction Cart() {\r\n  let history = useHistory();\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  let cart = [];\r\n  cart = cc.GetCart();\r\n  let cartSubTotal = 0;\r\n  cartSubTotal = cc.GetCartSubTotal(cart);\r\n  //RemoveCartItem();\r\n  //UpdateCartQuantity();\r\n\r\n  return (\r\n    <>\r\n      <section id=\"contentHolder\">\r\n        <div id=\"viewcart\" class=\"mb-4 pt-5\">\r\n          <div class=\"container\">\r\n            <div class=\"row\">\r\n              {CartTopLeft(cart, history)}\r\n              {CartTopRight(cartSubTotal)}\r\n              {cartContent(cart, history)}\r\n              {cartBottomLeft(cart)}\r\n              {cartBottomRight(cartSubTotal)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nconst CartTopLeft = (cart, history) => {\r\n  console.log(cart);\r\n\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-item-info\"\r\n        class=\"col-lg-6 col-md-6 col-sm-12 col-12 text-start\"\r\n      >\r\n        <h3 class=\"text-dark\">Shopping cart</h3>\r\n        <p id=\"cartLength\" class=\"text-secondary\">\r\n          {cart.length} items\r\n        </p>\r\n        <button\r\n          onClick={() => {\r\n            history.push(\"/category/all-products\");\r\n          }}\r\n          class=\"bg-secondary text-light p-2 border-1 fw-bold border-dark rounded\"\r\n        >\r\n          Continue Shopping\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst CartTopRight = (cartSubTotal) => {\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-item-total\"\r\n        class=\"col-lg-6 col-md-6 col-sm-12 col-12 text-right\"\r\n      >\r\n        <h3 id=\"cart-total-top\" class=\"text-dark\">\r\n          ${cartSubTotal}\r\n        </h3>\r\n        <p class=\"text-secondary\">Subtotal</p>\r\n        <button class=\"bg-dark text-light border-1 p-2 fw-bold border-dark rounded\">\r\n          Proceed to checkout\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst cartContent = (cart, history) => {\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-detail-heading\"\r\n        class=\"col-12 border-top border-bottom border-secondary mt-3 py-2 mb-2\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6 col-md-6 col-sm-3 col-3\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">product</span>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-2 col-sm-3 col-3\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">quantity</span>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-2 col-sm-3 col-3 text-right\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">\r\n              item price\r\n            </span>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-2 col-sm-3 col-3 text-right\">\r\n            <span class=\"text-capitalize text-secondary fw-bold\">total</span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {cart.map((item, index) => {\r\n        return (\r\n          <>\r\n            <section\r\n              id=\"cart-detail\"\r\n              class=\"col-12 rounded shadow my-2 py-2 border-1 border-secondary mb-2\"\r\n            >\r\n              <div class=\"row\">\r\n                <div id=\"product-picture\" class=\"col-lg-2 col-md-2 col-12\">\r\n                  <img src={item.cartImage} class=\"img-fluid w-75 mx-auto\" />\r\n                </div>\r\n                <div id=\"product-description\" class=\"col-lg-4 col-md-4 col-12\">\r\n                  <a\r\n                    href={\"/product/\" + item.style_id + \"/fromcart\"}\r\n                    class=\"text-decoration-none\"\r\n                  >\r\n                    <b class=\"d-block text-dark\">{item.brand}</b>\r\n                    <strong class=\"d-block text-secondary\">{item.name} </strong>\r\n                  </a>\r\n\r\n                  <em class=\"d-block text-secondary fw-normal fst-normal\">\r\n                    #{item.style_id}\r\n                  </em>\r\n                </div>\r\n                <div id=\"product-information\" class=\"col-lg-6 col-md-6 col-12\">\r\n                  <div class=\"product-upper-info d-flex justify-content-between border-bottom border-secondary py-2\">\r\n                    <div class=\"first\">\r\n                      <button\r\n                        value=\"-\"\r\n                        class=\"rounded\"\r\n                        onClick={(e) => {\r\n                          UpdateCartQuantity(e, index, cart);\r\n                        }}\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <input\r\n                        id={\"itemsQTY\" + index}\r\n                        value={index}\r\n                        class=\"w-25\"\r\n                        type=\"number\"\r\n                        value={item.quantity}\r\n                      />\r\n                      <button\r\n                        value=\"+\"\r\n                        class=\"rounded\"\r\n                        onClick={(e) => {\r\n                          UpdateCartQuantity(e, index, cart);\r\n                        }}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                    <p>\r\n                      ${item.salesPrice ? item.salesPrice : item.regularPrice}\r\n                    </p>\r\n                    <span id={\"item-total\" + index}>${item.total}</span>\r\n                  </div>\r\n                  <div class=\"product-middle-info py-3 border-bottom border-secondary\">\r\n                    <div class=\"p-desc-button d-flex justify-content-between mt-3\">\r\n                      {item.selectedColor ? (\r\n                        <span>\r\n                          <strong>Color:</strong>\r\n                          {item.selectedColor}\r\n                        </span>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      {item.selectedSize ? (\r\n                        <span>\r\n                          <strong>Size:</strong> {item.selectedSize}\r\n                        </span>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      <button\r\n                        onClick={() => {\r\n                          RemoveCartItem(cart, index, history);\r\n                        }}\r\n                        class=\"text-dark bg-light border-1 border-dark py-1 px-3 rounded fw-normal \"\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst cartBottomLeft = (cart) => {\r\n  return (\r\n    <>\r\n      <section id=\"cart-end-information\" class=\"col-lg-5 col-md-6 col-12 mt-3\">\r\n        <button class=\"text-dark bg-light border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\">\r\n          Save for later\r\n        </button>\r\n        <button class=\"text-light bg-dark border-1 border-dark py-1 px-3 mb-3 rounded fw-bold d-block w-75\">\r\n          Share cart link\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst cartBottomRight = (cartSubTotal) => {\r\n  return (\r\n    <>\r\n      <section\r\n        id=\"cart-end-total\"\r\n        class=\"col-lg-6 col-md-6 col-12 mt-3 mx-auto\"\r\n      >\r\n        <p class=\"w-100 fw-bold text-dark\">\r\n          Cart Subtotal\r\n          <span id=\"bottom-subtotal\" class=\"float-right fw-bold text-dark\">\r\n            ${cartSubTotal}\r\n          </span>\r\n        </p>\r\n        <button class=\"w-100 rounded p-2 bg-dark fw-bold text-light text-center\">\r\n          Proceed to checkout\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst RemoveCartItem = (cart, index, history) => {\r\n  cart.splice(index, index + 1);\r\n  document.getElementById(\"cartLength\").innerHTML = \"(\" + cart.length + \")\";\r\n  document.getElementById(\"basket-total-top\").innerHTML =\r\n    \"(\" + cart.length + \")\";\r\n  reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n\r\n  history.push(\"cart\");\r\n};\r\n\r\nconst UpdateCartQuantity = (e, index, cart) => {\r\n  if (e.target.value == \"+\") {\r\n    cart[index].quantity++;\r\n  } else {\r\n    cart[index].quantity--;\r\n    if (cart[index].quantity == 0) {\r\n      cart[index].quantity = 1;\r\n    }\r\n  }\r\n  cart.map((cartitem, index) => {\r\n    if (cart.salesPrice && cart.salesPrice > 0) {\r\n      cart[index].total = cart[index].salesPrice * cart[index].quantity;\r\n    } else {\r\n      cart[index].total = cart[index].regularPrice * cart[index].quantity;\r\n    }\r\n  });\r\n  document.getElementById(\"itemsQTY\" + index).value = cart[index].quantity;\r\n\r\n  let cartSubTotal = 0;\r\n  cartSubTotal = cc.GetCartSubTotal(cart);\r\n  document.getElementById(\"bottom-subtotal\").innerHTML = \"$\" + cartSubTotal;\r\n\r\n  document.getElementById(\"cart-total-top\").innerHTML = \"$\" + cartSubTotal;\r\n\r\n  reactLocalStorage.setObject(\"cartSessions\", [...cart]);\r\n\r\n  document.getElementById(\"item-total\" + index).innerHTML = cart[index].total;\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}