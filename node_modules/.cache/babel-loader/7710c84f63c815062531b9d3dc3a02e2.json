{"ast":null,"code":"import _slicedToArray from\"C:/ColdFusion2018/cfusion/wwwroot/celerant360/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import*as Data from\"../../Data\";import{prodImagesDir}from\"../../settings\";import*as headerController from\"../header/headerController\";import MagicZoom from\"../../js/magiczoomplusReactJs\";import{Link}from\"react-router-dom\";import{reactLocalStorage}from\"reactjs-localstorage\";export var getProduct=function getProduct(id){var product=Data.allProducts.find(function(prod){return prod.style_id==id;});return product;};export var getProductBreadCrumbs=function getProductBreadCrumbs(product,history,dispatch){var breadcrumbs=[];var breadcrumbsContent=[];Data.taxonomy.map(function(categories){if(product.dept==categories.url){breadcrumbs.push({item:categories.dept,url:categories.url,taxonomy:\"dept\",redirectUrl:\"dept_Url\"});}else if(product.typ==categories.url){breadcrumbs.push({item:categories.typ,url:categories.url,taxonomy:\"typ\",redirectUrl:\"typ_Url\"});}else if(product.subTyp_1==categories.url){breadcrumbs.push({item:categories.subTyp_1,url:categories.url,taxonomy:\"subTyp_1\",redirectUrl:\"subTyp_1_Url\"});}else if(product.subTyp_2==categories.url){breadcrumbs.push({item:categories.subTyp_2,url:categories.url,taxonomy:\"subTyp_2\",redirectUrl:\"subTyp_2_Url\"});}else if(product.subTyp_3==categories.url){breadcrumbs.push({item:categories.subTyp_3,url:categories.url,taxonomy:\"subTyp_3\",redirectUrl:\"subTyp_2_Url\"});}else{}});if(breadcrumbs.length==0){breadcrumbs.push({item:\"All Products\",url:\"all-products\",taxonomy:\"All Products\",redirectUrl:\"\"});}// ADDED PRODUCT'S NAME IN THE END\nbreadcrumbs.push({item:product.name,url:\"product.url\",taxonomy:\"Product\",redirectUrl:\"\"});breadcrumbsContent.push(/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-dark text-decoration-none\",children:\"Home\"})}));var i=-1;var _loop=function _loop(){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];i++;if(i==breadcrumbs.length-1){breadcrumbsContent.push(/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:value.item}));}else{breadcrumbsContent.push(/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"\",className:\"text-dark text-decoration-none\",onClick:function onClick(e){var dispatchedData={};dispatchedData={taxonomy:value.taxonomy,redirectUrl:value.redirectUrl,taxonomyValue:value.item,taxonomyUrl:value.url};headerController.addFilters(e,dispatchedData,dispatch,history);},children:value.item})}));}};for(var _i=0,_Object$entries=Object.entries(breadcrumbs);_i<_Object$entries.length;_i++){_loop();}return breadcrumbsContent;};export var getProductImage=function getProductImage(props){var productLargeImage={};if(props.product.largeImage){productLargeImage.image=prodImagesDir+props.product.largeImage;productLargeImage.altText=props.product.name;}else{productLargeImage.image=prodImagesDir+\"default-image.jpeg\";productLargeImage.altText=\"Default Image\";}return productLargeImage;};export var getProductSmallImage=function getProductSmallImage(product){var productSmallImage=\"\";if(product.smallImage){productSmallImage=prodImagesDir+product.smallImage;}else{productSmallImage=prodImagesDir+\"default-image.jpeg\";}return productSmallImage;};export var getProductInfo=function getProductInfo(props){var product=props.product;return product;};export var getProductNewsLetters=function getProductNewsLetters(props){return\"\";};export var getProductDetails=function getProductDetails(props){return\"\";};export var getAdditionalProducts=function getAdditionalProducts(props){var addtionalProducts=[];addtionalProducts=Data.allProducts.filter(function(prod){return prod.dept==props.product.dept;});if(!addtionalProducts||addtionalProducts.length<1)addtionalProducts=[];return addtionalProducts;};export var productPricing=function productPricing(product){var prodPrice={regularPrice:0,salesPrice:0};if(product.sales_price&&product.sales_price>0){prodPrice.regularPrice=product.regular_price;prodPrice.salesPrice=product.sales_price;}else{prodPrice.regularPrice=product.regular_price;}return prodPrice;};export var getProductSizes=function getProductSizes(product){var sizes=[];if(product.gener==\"variable\"){product.variants.map(function(prod){sizes.push(prod.size);});}return sizes;};export var updateQuantity=function updateQuantity(e,selectedProduct){selectedProduct.quantity=e.target.value;return selectedProduct;};export var SizeButtonEffectsOnClick=function SizeButtonEffectsOnClick(clickType,e,product,selectedProduct){if(clickType==\"select\"){if(e.target.value==\"\"||e.target.value==\"Select a Size\"){selectedProduct.selectedSize=\"\";document.getElementById(\"selected-size\").innerHTML=\"\";selectedProduct.selectedSize=\"\";}else{selectedProduct.selectedSize=e.target.value;document.getElementById(\"selected-size\").innerHTML=e.target.value;document.getElementById(\"sizeAlert\").classList.add(\"d-none\");}}else{if(e.target.classList.contains(\"selected\")){document.getElementById(\"selected-size\").innerHTML=\"\";selectedProduct.selectedSize=\"\";e.target.classList.remove(\"selected\");}else{try{var SizeBtnParent=document.getElementById(\"sizeButtons\");var allSizeButtons=SizeBtnParent.getElementsByTagName(\"button\");for(var i=0;i<allSizeButtons.length;i++){allSizeButtons[i].classList.remove(\"selected\");}}catch(err){}e.target.classList.add(\"selected\");selectedProduct.selectedSize=e.target.value;document.getElementById(\"selected-size\").innerHTML=e.target.value;}}return selectedProduct;};export var getSelectedColors=function getSelectedColors(clickType,e,product,selectedProduct,productColorsStyle,allowOutOfStock){e.preventDefault();// START SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\nselectedProduct=SizeButtonEffectsOnClick(clickType,e,product,selectedProduct);// END SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\nvar selectedSize=e.target.value;// OBJECT TO HOLD COLOR ATTRIBUTES DATA\nvar colorsData={color:[],colorCode:[],colorSmallImage:[],colorLargeImage:[],colorStock:[],altImages:[]};// LOOP SELECTED PRODUCT VARIANTS\nproduct.variants.map(function(prod){if(prod.size==selectedSize){// GET COLOR ATTRIBUES OF SELECTED SIZE\ncolorsData=fetchColorAttributes(selectedSize,prod,colorsData);// GET PRICE OF SELECTED SIZE\ngetSelectedSizePrice(prod);}});// DISPLAY COLOR ATTRIBUTES LAYOUT ACCORDING TO SETTINGS\nif(productColorsStyle==\"select\"){// DISPLAY SIZE ATTRIBUTES AS SELECT\nselectedProduct=displayColorAsSelect(e,selectedProduct,colorsData,allowOutOfStock);}if(productColorsStyle==\"colors\"){// DISPLAY SIZE ATTRIBUTES AS BUTTONS\nselectedProduct=displayColorAsColor(e,selectedProduct,colorsData,allowOutOfStock);}if(productColorsStyle==\"buttons\"){// DISPLAY SIZE ATTRIBUTES AS BUTTONS\nselectedProduct=displayColorAsButtons(e,selectedProduct,colorsData,allowOutOfStock);}if(productColorsStyle==\"images\"){// DISPLAY SIZE ATTRIBUTES AS BUTTONS\nselectedProduct=displayColorAsImages(e,selectedProduct,colorsData,allowOutOfStock);}if(selectedProduct.selectedSize){document.getElementById(\"sizeAlert\").classList.add(\"d-none\");}return selectedProduct;};var actionOnStockStatus=function actionOnStockStatus(stock,selectedProduct,allowOutOfStock){var stockInfo={availability:\"Out of Stock\",stock:0};if(stock&&stock>0){stockInfo.availability=\"In Stock\";stockInfo.stock=stock;}else{stockInfo.availability=\"Out of Stock\";stockInfo.stock=stock;}document.getElementById(\"stock-status\").innerHTML=stockInfo.availability;selectedProduct.stock=parseInt(stockInfo.stock);if(selectedProduct.stock>0){document.getElementById(\"AddToCart\").innerHTML=\"add to cart\";document.getElementById(\"AddToCart\").disabled=false;document.getElementById(\"AddToCart\").setAttribute(\"data-bs-toggle\",\"modal\");document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\",\"#exampleModal\");}else{if(allowOutOfStock==\"yes\"){}else{document.getElementById(\"AddToCart\").innerHTML=\"Out of Stock\";document.getElementById(\"AddToCart\").disabled=true;document.getElementById(\"AddToCart\").setAttribute(\"data-bs-toggle\",\"\");document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\",\"\");}}return selectedProduct;};var fetchColorAttributes=function fetchColorAttributes(selectedSize,prod,colorsData){prod.color.map(function(clr){colorsData.color.push(clr.name);colorsData.colorCode.push(clr.colorCode);colorsData.colorSmallImage.push(clr.colorSmallImage);colorsData.colorLargeImage.push(clr.colorLargeImage);colorsData.colorStock.push(clr.stock);colorsData.altImages.push(clr.alt_images);});return colorsData;};var getSelectedSizePrice=function getSelectedSizePrice(prod){var rprice=0;var sprice=0;if(prod.sales_price){rprice=prod.regular_price;sprice=prod.sales_price;document.getElementById(\"rPrice\").innerHTML=\"<del>$\"+rprice+\"</del>\";document.getElementById(\"sPrice\").innerHTML=\"$\"+sprice;document.getElementById(\"sPrice\").classList.remove(\"d-none\");}else{rprice=prod.regular_price;document.getElementById(\"rPrice\").innerHTML=\"$\"+rprice;document.getElementById(\"sPrice\").classList.add(\"d-none\");}};var displayColorAsSelect=function displayColorAsSelect(e,selectedProduct,colorsData,allowOutOfStock){var colorSelect=document.getElementById(\"color\");colorSelect.innerHTML=\"\";colorSelect.onchange=function(e){selectedProduct.selectedColor=e.target.value;var attrStock=this.options[this.selectedIndex].getAttribute(\"data-stock\");selectedProduct.colorImage=this.options[this.selectedIndex].getAttribute(\"data-image\");selectedProduct=actionOnStockStatus(attrStock,selectedProduct,allowOutOfStock);selectedProduct.stock=parseInt(attrStock);// alert(e.target.options[e.target.selectedIndex].dataset.stock);\nif(e.target.value&&e.target.value!=\"Select a Color\"){document.getElementById(\"selected-color\").innerHTML=\"<strong> \".concat(e.target.value,\"</strong>\");}else{document.getElementById(\"selected-color\").innerHTML=\"\";}// GET ALT IMAGES\nif(altImagesData&&altImagesData.length>0){displayAltimages(e.target.value,altImagesData);}if(selectedProduct.selectedColor){document.getElementById(\"colorAlert\").classList.add(\"d-none\");}};var myOption=document.createElement(\"option\");myOption.text=\"Select a Color\";myOption.value=\"Select a Color\";colorSelect.appendChild(myOption);var customIndex=-1;var altImagesData=[];colorsData.color.map(function(colorValue){customIndex++;altImagesData.push({color:colorValue,altImages:colorsData.altImages[customIndex]});var myOption=document.createElement(\"option\");myOption.text=colorValue;myOption.value=colorValue;myOption.setAttribute(\"data-stock\",colorsData.colorStock[customIndex]);myOption.setAttribute(\"data-image\",colorsData.colorSmallImage[customIndex]);colorSelect.appendChild(myOption);});return selectedProduct;};var displayColorAsColor=function displayColorAsColor(e,selectedProduct,colorsData,allowOutOfStock){var colorButtons=document.getElementById(\"colorButtons\");colorButtons.innerHTML=\"\";var colorNameIndex=-1;var customIndex=-1;var altImagesData=[];colorsData.colorCode.map(function(colorValue){customIndex++;colorNameIndex++;var colorName=colorsData.color[colorNameIndex];selectedProduct.colorImage=prodImagesDir+colorsData.colorSmallImage[customIndex];altImagesData.push({color:colorName,altImages:colorsData.altImages[customIndex]});var button=document.createElement(\"button\");button.setAttribute(\"type\",\"button\");if(!colorValue){button.setAttribute(\"value\",colorName);}else{// button.style.backgroundColor = colorValue + ' !important'\nbutton.setAttribute(\"style\",\"background-Color:\".concat(colorValue,\" !important;color:\").concat(colorValue,\" !important;\"));button.setAttribute(\"value\",colorName);}button.setAttribute(\"class\",\"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\");button.setAttribute(\"data-stock\",colorsData.colorStock[customIndex]);button.setAttribute(\"data-image\",colorsData.colorSmallImage[customIndex]);if(colorsData.colorStock[customIndex]<=0){button.classList.add(\"disabled\");button.innerHTML=\"<span></span>\"+colorValue;}else{button.innerHTML=colorValue;}button.onclick=function(e){if(e.target.classList.contains(\"selected\")){document.getElementById(\"selected-color\").innerHTML=\"\";selectedProduct.selectedColor=\"\";e.target.classList.remove(\"selected\");}else{try{var colorBtnParent=document.getElementById(\"colorButtons\");var allColorButtons=colorBtnParent.getElementsByTagName(\"button\");for(var i=0;i<allColorButtons.length;i++){allColorButtons[i].classList.remove(\"selected\");}}catch(err){}var attrStock=e.target.getAttribute(\"data-stock\");selectedProduct.colorImage=e.target.getAttribute(\"data-image\");selectedProduct=actionOnStockStatus(attrStock,selectedProduct,allowOutOfStock);selectedProduct.stock=parseInt(attrStock);e.target.classList.add(\"selected\");selectedProduct.selectedColor=e.target.value;document.getElementById(\"selected-color\").innerHTML=e.target.value;}// GET ALT IMAGES\nif(altImagesData&&altImagesData.length>0){displayAltimages(colorName,altImagesData);}if(selectedProduct.selectedColor){document.getElementById(\"colorAlert\").classList.add(\"d-none\");}};colorButtons.appendChild(button);});return selectedProduct;};var displayColorAsButtons=function displayColorAsButtons(e,selectedProduct,colorsData,allowOutOfStock){var colorButtons=document.getElementById(\"colorButtons\");colorButtons.innerHTML=\"\";var customIndex=-1;var altImagesData=[];colorsData.color.map(function(colorValue){customIndex++;altImagesData.push({color:colorValue,altImages:colorsData.altImages[customIndex]});var button=document.createElement(\"button\");button.setAttribute(\"type\",\"button\");button.setAttribute(\"value\",colorValue);button.setAttribute(\"class\",\"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\");button.setAttribute(\"data-stock\",colorsData.colorStock[customIndex]);button.setAttribute(\"data-image\",colorsData.colorSmallImage[customIndex]);if(colorsData.colorStock[customIndex]<=0){button.classList.add(\"disabled\");button.innerHTML=\"<span></span>\"+colorValue;}else{button.innerHTML=colorValue;}button.onclick=function(e){if(e.target.classList.contains(\"selected\")){document.getElementById(\"selected-color\").innerHTML=\"\";selectedProduct.selectedColor=\"\";e.target.classList.remove(\"selected\");}else{try{var colorBtnParent=document.getElementById(\"colorButtons\");var allColorButtons=colorBtnParent.getElementsByTagName(\"button\");for(var i=0;i<allColorButtons.length;i++){allColorButtons[i].classList.remove(\"selected\");}}catch(err){}var attrStock=e.target.getAttribute(\"data-stock\");selectedProduct.colorImage=e.target.getAttribute(\"data-image\");selectedProduct=actionOnStockStatus(attrStock,selectedProduct,allowOutOfStock);selectedProduct.stock=parseInt(attrStock);e.target.classList.add(\"selected\");selectedProduct.selectedColor=e.target.value;document.getElementById(\"selected-color\").innerHTML=e.target.value;}// GET ALT IMAGES\nif(altImagesData&&altImagesData.length>0){displayAltimages(colorValue,altImagesData);}if(selectedProduct.selectedColor){document.getElementById(\"colorAlert\").classList.add(\"d-none\");}};colorButtons.appendChild(button);});return selectedProduct;};var displayColorAsImages=function displayColorAsImages(e,selectedProduct,colorsData,allowOutOfStock){var colorButtons=document.getElementById(\"colorImages\");colorButtons.innerHTML=\"\";var colorImages=document.getElementById(\"colorImages\");colorImages.innerHTML=\"\";var customIndex=-1;var altImages=[];var altImagesData=[];colorsData.colorSmallImage.map(function(colorSmallImage){customIndex++;var colorName=colorsData.color[customIndex];altImagesData.push({color:colorName,altImages:colorsData.altImages[customIndex]});if(!colorSmallImage){//DISPLAY SIZE AS BUTTON IF COLOR IMAGE NOT AVAIABLE\nselectedProduct=displaySizeImageAsButtons(e,selectedProduct,colorsData,allowOutOfStock,customIndex,colorName,colorButtons,altImagesData);}else{var img=document.createElement(\"IMG\");img.src=prodImagesDir+colorSmallImage;img.setAttribute(\"data-stock\",colorsData.colorStock[customIndex]);img.setAttribute(\"data-image\",colorsData.colorSmallImage[customIndex]);img.setAttribute(\"width\",50);img.setAttribute(\"height\",50);img.classList.add(\"ml-2\");img.setAttribute(\"class\",\"border-info p-1  bg-transparent mt-2 rounded \");img.onclick=function(e){if(e.target.classList.contains(\"border-red\")){document.getElementById(\"selected-color\").innerHTML=\"\";selectedProduct.selectedColor=\"\";e.target.classList.remove(\"border-red\");document.getElementById(\"stock-status\").innerHTML=\"Select An Attribute\";document.getElementById(\"AddToCart\").innerHTML=\"add to cart\";document.getElementById(\"AddToCart\").disabled=false;document.getElementById(\"AddToCart\").setAttribute(\"data-bs-toggle\",\"modal\");document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\",\"#exampleModal\");var altImagesContainer=document.getElementById(\"alt-images\");altImagesContainer.innerHTML=\"\";}else{try{var colorBtnParent=document.getElementById(\"colorImages\");var allColorButtons=colorBtnParent.getElementsByTagName(\"button\");for(var i=0;i<allColorButtons.length;i++){allColorButtons[i].classList.remove(\"selected\");}var colorImagesParent=document.getElementById(\"colorImages\");var allColorImages=colorImagesParent.getElementsByTagName(\"IMG\");for(var i=0;i<allColorImages.length;i++){allColorImages[i].classList.remove(\"border-red\");}}catch(err){}var attrStock=e.target.getAttribute(\"data-stock\");selectedProduct.colorImage=e.target.getAttribute(\"data-image\");selectedProduct=actionOnStockStatus(attrStock,selectedProduct,allowOutOfStock);selectedProduct.stock=parseInt(attrStock);e.target.classList.add(\"border-red\");selectedProduct.selectedColor=colorName;document.getElementById(\"selected-color\").innerHTML=colorName;// GET ALT IMAGES\nif(altImagesData&&altImagesData.length>0){displayAltimages(colorName,altImagesData);}if(selectedProduct.selectedColor){document.getElementById(\"colorAlert\").classList.add(\"d-none\");}}};colorImages.appendChild(img);}});return selectedProduct;};var displayAltimages=function displayAltimages(colorName,allAltImages){var selectedAltImages=[];selectedAltImages=allAltImages.find(function(altImage){return altImage.color==colorName;}).altImages;var altImagesContainer=document.getElementById(\"alt-images\");altImagesContainer.innerHTML=\"\";selectedAltImages.map(function(altImg){var imgUrl=prodImagesDir+altImg;var altAnchor=document.createElement(\"a\");altAnchor.setAttribute(\"href\",imgUrl);altAnchor.setAttribute(\"data-image\",imgUrl);altAnchor.setAttribute(\"data-zoom-id\",\"zoomer\");altAnchor.setAttribute(\"class\",\"mz-thumb\");var resizedImage=CreateThumnailImage(altImg,imgUrl);altAnchor.appendChild(resizedImage);altImagesContainer.appendChild(altAnchor);});MagicZoom.refresh();};var CreateThumnailImage=function CreateThumnailImage(imageName,currentImage){var myCan=document.createElement(\"canvas\");var img=new Image();img.setAttribute(\"crossorigin\",\"anonymous\");// works for me\nimg.src=currentImage;var nImg=document.createElement(\"img\");img.onload=function(){myCan.id=imageName;var tsize=64;myCan.width=80;myCan.height=95;var cntxt=myCan.getContext(\"2d\");cntxt.drawImage(img,0,0,myCan.width,myCan.height);setTimeout(abc(myCan),1000);function abc(myCan){var dataURL=myCan.toDataURL();nImg.src=dataURL;nImg.setAttribute(\"name\",imageName);nImg.setAttribute(\"data-url\",currentImage);nImg.setAttribute(\"class\",\"img-fluid mr-1\");nImg.onclick=function(){var altContainer=document.getElementById(\"alt-images\");var altChildren=altContainer.getElementsByTagName(\"img\");try{for(var i=0;i<altChildren.length;i++){altChildren[i].classList.remove(\"mz-border\");}}catch(err){}var mzLens=document.getElementsByClassName(\"mz-lens\")[0];mzLens.getElementsByTagName(\"img\")[0].src=currentImage;nImg.setAttribute(\"class\",\"img-fluid mr-1 mz-border\");};}};return nImg;};var displaySizeImageAsButtons=function displaySizeImageAsButtons(e,selectedProduct,colorsData,allowOutOfStock,customIndex,colorName,colorButtons,altImagesData){var element;var element_label=\"button\";var element_labe2=\"img\";var wrapper=\"colorImages\";element=document.createElement(element_label);element.setAttribute(\"type\",element_label);element.setAttribute(\"value\",colorName);element.setAttribute(\"class\",element_label);element.setAttribute(\"data-stock\",colorsData.colorStock[customIndex]);element.setAttribute(\"data-image\",colorsData.colorSmallImage[customIndex]);element.style.height=\"59px\";element.style.width=\"59px\";// element.style.border = 'solid 1px rgb(185 185 185)'\nelement.style.outline=\"none\";element.innerHTML=colorName;element.classList.add(\"ml-2\");element.setAttribute(\"class\",\"border-info p-1  bg-transparent mt-2 rounded \");//  button.classList.add('h-25')\nelement.onclick=function(e){if(e.target.classList.contains(\"selected\")){document.getElementById(\"selected-color\").innerHTML=\"\";selectedProduct.selectedColor=\"\";e.target.classList.remove(\"selected\");}else{try{var colorBtnParent=document.getElementById(wrapper);var allColorButtons=colorBtnParent.getElementsByTagName(element_label);for(var i=0;i<allColorButtons.length;i++){allColorButtons[i].classList.remove(\"selected\");}var attrStock=e.target.getAttribute(\"data-stock\");selectedProduct.colorImage=e.target.getAttribute(\"data-image\");selectedProduct=actionOnStockStatus(attrStock,selectedProduct,allowOutOfStock);selectedProduct.stock=parseInt(attrStock);var colorImagesParent=document.getElementById(wrapper);var allColorImages=colorImagesParent.getElementsByTagName(element_labe2);for(var i=0;i<allColorImages.length;i++){allColorImages[i].classList.remove(\"border-red\");}}catch(err){}e.target.classList.add(\"selected\");selectedProduct.selectedColor=e.target.value;document.getElementById(\"selected-color\").innerHTML=e.target.value;}// GET ALT IMAGES\nif(altImagesData&&altImagesData.length>0)displayAltimages(colorName,altImagesData);if(selectedProduct.selectedColor){document.getElementById(\"colorAlert\").classList.add(\"d-none\");}};colorButtons.appendChild(element);return selectedProduct;};export var cartRelated=function cartRelated(product){var cartRelated=[];cartRelated=Data.allProducts.filter(function(prod){return prod.brand==product.brand;});if(!cartRelated||cartRelated.length<1)cartRelated=[];return cartRelated;};export var setRecentlyViewed=function setRecentlyViewed(product){var recentlyViewedTemp=[];var recentlyViewed=[];recentlyViewedTemp=reactLocalStorage.getObject(\"recentlyViewed\");//reactLocalStorage.clear(\"recentlyViewed\");\nif(recentlyViewedTemp&&recentlyViewedTemp.length>0){}else{recentlyViewedTemp=[];}var matched=false;recentlyViewedTemp.map(function(item){if(JSON.stringify(item)==JSON.stringify(product)){matched=true;}else{}});if(matched==true){}else{recentlyViewedTemp.unshift(product);}recentlyViewedTemp.map(function(prod,index){if(index<7){recentlyViewed.push(prod);}});reactLocalStorage.setObject(\"recentlyViewed\",[].concat(recentlyViewed));};","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/product/productController.js"],"names":["Data","prodImagesDir","headerController","MagicZoom","Link","reactLocalStorage","getProduct","id","product","allProducts","find","prod","style_id","getProductBreadCrumbs","history","dispatch","breadcrumbs","breadcrumbsContent","taxonomy","map","categories","dept","url","push","item","redirectUrl","typ","subTyp_1","subTyp_2","subTyp_3","length","name","i","key","value","e","dispatchedData","taxonomyValue","taxonomyUrl","addFilters","Object","entries","getProductImage","props","productLargeImage","largeImage","image","altText","getProductSmallImage","productSmallImage","smallImage","getProductInfo","getProductNewsLetters","getProductDetails","getAdditionalProducts","addtionalProducts","filter","productPricing","prodPrice","regularPrice","salesPrice","sales_price","regular_price","getProductSizes","sizes","gener","variants","size","updateQuantity","selectedProduct","quantity","target","SizeButtonEffectsOnClick","clickType","selectedSize","document","getElementById","innerHTML","classList","add","contains","remove","SizeBtnParent","allSizeButtons","getElementsByTagName","err","getSelectedColors","productColorsStyle","allowOutOfStock","preventDefault","colorsData","color","colorCode","colorSmallImage","colorLargeImage","colorStock","altImages","fetchColorAttributes","getSelectedSizePrice","displayColorAsSelect","displayColorAsColor","displayColorAsButtons","displayColorAsImages","actionOnStockStatus","stock","stockInfo","availability","parseInt","disabled","setAttribute","clr","alt_images","rprice","sprice","colorSelect","onchange","selectedColor","attrStock","options","selectedIndex","getAttribute","colorImage","altImagesData","displayAltimages","myOption","createElement","text","appendChild","customIndex","colorValue","colorButtons","colorNameIndex","colorName","button","onclick","colorBtnParent","allColorButtons","colorImages","displaySizeImageAsButtons","img","src","altImagesContainer","colorImagesParent","allColorImages","allAltImages","selectedAltImages","altImage","altImg","imgUrl","altAnchor","resizedImage","CreateThumnailImage","refresh","imageName","currentImage","myCan","Image","nImg","onload","tsize","width","height","cntxt","getContext","drawImage","setTimeout","abc","dataURL","toDataURL","altContainer","altChildren","mzLens","getElementsByClassName","element","element_label","element_labe2","wrapper","style","outline","cartRelated","brand","setRecentlyViewed","recentlyViewedTemp","recentlyViewed","getObject","matched","JSON","stringify","unshift","index","setObject"],"mappings":"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","sourcesContent":["import * as Data from \"../../Data\";\r\nimport { prodImagesDir } from \"../../settings\";\r\nimport * as headerController from \"../header/headerController\";\r\nimport MagicZoom from \"../../js/magiczoomplusReactJs\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\n\r\nexport const getProduct = (id) => {\r\n  let product = Data.allProducts.find((prod) => prod.style_id == id);\r\n\r\n  return product;\r\n};\r\nexport const getProductBreadCrumbs = (product, history, dispatch) => {\r\n  let breadcrumbs = [];\r\n  let breadcrumbsContent = [];\r\n\r\n  Data.taxonomy.map((categories) => {\r\n    if (product.dept == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.dept,\r\n        url: categories.url,\r\n        taxonomy: \"dept\",\r\n        redirectUrl: \"dept_Url\",\r\n      });\r\n    } else if (product.typ == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.typ,\r\n        url: categories.url,\r\n        taxonomy: \"typ\",\r\n        redirectUrl: \"typ_Url\",\r\n      });\r\n    } else if (product.subTyp_1 == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.subTyp_1,\r\n        url: categories.url,\r\n        taxonomy: \"subTyp_1\",\r\n        redirectUrl: \"subTyp_1_Url\",\r\n      });\r\n    } else if (product.subTyp_2 == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.subTyp_2,\r\n        url: categories.url,\r\n        taxonomy: \"subTyp_2\",\r\n        redirectUrl: \"subTyp_2_Url\",\r\n      });\r\n    } else if (product.subTyp_3 == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.subTyp_3,\r\n        url: categories.url,\r\n        taxonomy: \"subTyp_3\",\r\n        redirectUrl: \"subTyp_2_Url\",\r\n      });\r\n    } else {\r\n    }\r\n  });\r\n\r\n  if (breadcrumbs.length == 0) {\r\n    breadcrumbs.push({\r\n      item: \"All Products\",\r\n      url: \"all-products\",\r\n      taxonomy: \"All Products\",\r\n      redirectUrl: \"\",\r\n    });\r\n  }\r\n\r\n  // ADDED PRODUCT'S NAME IN THE END\r\n  breadcrumbs.push({\r\n    item: product.name,\r\n    url: \"product.url\",\r\n    taxonomy: \"Product\",\r\n    redirectUrl: \"\",\r\n  });\r\n\r\n  breadcrumbsContent.push(\r\n    <li className=\"breadcrumb-item\">\r\n      <Link to=\"/\" className=\"text-dark text-decoration-none\">\r\n        Home\r\n      </Link>\r\n    </li>\r\n  );\r\n\r\n  let i = -1;\r\n  for (const [key, value] of Object.entries(breadcrumbs)) {\r\n    i++;\r\n\r\n    if (i == breadcrumbs.length - 1) {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n          {value.item}\r\n        </li>\r\n      );\r\n    } else {\r\n      breadcrumbsContent.push(\r\n        <li className=\"breadcrumb-item\">\r\n          <Link\r\n            to=\"\"\r\n            className=\"text-dark text-decoration-none\"\r\n            onClick={(e) => {\r\n              let dispatchedData = {};\r\n\r\n              dispatchedData = {\r\n                taxonomy: value.taxonomy,\r\n                redirectUrl: value.redirectUrl,\r\n                taxonomyValue: value.item,\r\n                taxonomyUrl: value.url,\r\n              };\r\n              headerController.addFilters(e, dispatchedData, dispatch, history);\r\n            }}\r\n          >\r\n            {value.item}\r\n          </Link>\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n\r\n  return breadcrumbsContent;\r\n};\r\n\r\nexport const getProductImage = (props) => {\r\n  let productLargeImage = {};\r\n  if (props.product.largeImage) {\r\n    productLargeImage.image = prodImagesDir + props.product.largeImage;\r\n    productLargeImage.altText = props.product.name;\r\n  } else {\r\n    productLargeImage.image = prodImagesDir + \"default-image.jpeg\";\r\n    productLargeImage.altText = \"Default Image\";\r\n  }\r\n\r\n  return productLargeImage;\r\n};\r\n\r\nexport const getProductSmallImage = (product) => {\r\n  let productSmallImage = \"\";\r\n  if (product.smallImage) {\r\n    productSmallImage = prodImagesDir + product.smallImage;\r\n  } else {\r\n    productSmallImage = prodImagesDir + \"default-image.jpeg\";\r\n  }\r\n\r\n  return productSmallImage;\r\n};\r\n\r\nexport const getProductInfo = (props) => {\r\n  let product = props.product;\r\n  return product;\r\n};\r\n\r\nexport const getProductNewsLetters = (props) => {\r\n  return \"\";\r\n};\r\n\r\nexport const getProductDetails = (props) => {\r\n  return \"\";\r\n};\r\n\r\nexport const getAdditionalProducts = (props) => {\r\n  let addtionalProducts = [];\r\n  addtionalProducts = Data.allProducts.filter(\r\n    (prod) => prod.dept == props.product.dept\r\n  );\r\n  if (!addtionalProducts || addtionalProducts.length < 1)\r\n    addtionalProducts = [];\r\n\r\n  return addtionalProducts;\r\n};\r\n\r\nexport const productPricing = (product) => {\r\n  let prodPrice = {\r\n    regularPrice: 0,\r\n    salesPrice: 0,\r\n  };\r\n  if (product.sales_price && product.sales_price > 0) {\r\n    prodPrice.regularPrice = product.regular_price;\r\n    prodPrice.salesPrice = product.sales_price;\r\n  } else {\r\n    prodPrice.regularPrice = product.regular_price;\r\n  }\r\n  return prodPrice;\r\n};\r\n\r\nexport const getProductSizes = (product) => {\r\n  let sizes = [];\r\n  if (product.gener == \"variable\") {\r\n    product.variants.map((prod) => {\r\n      sizes.push(prod.size);\r\n    });\r\n  }\r\n  return sizes;\r\n};\r\n\r\nexport const updateQuantity = (e, selectedProduct) => {\r\n  selectedProduct.quantity = e.target.value;\r\n  return selectedProduct;\r\n};\r\n\r\nexport const SizeButtonEffectsOnClick = (\r\n  clickType,\r\n  e,\r\n  product,\r\n  selectedProduct\r\n) => {\r\n  if (clickType == \"select\") {\r\n    if (e.target.value == \"\" || e.target.value == \"Select a Size\") {\r\n      selectedProduct.selectedSize = \"\";\r\n      document.getElementById(\"selected-size\").innerHTML = \"\";\r\n      selectedProduct.selectedSize = \"\";\r\n    } else {\r\n      selectedProduct.selectedSize = e.target.value;\r\n      document.getElementById(\"selected-size\").innerHTML = e.target.value;\r\n      document.getElementById(\"sizeAlert\").classList.add(\"d-none\");\r\n    }\r\n  } else {\r\n    if (e.target.classList.contains(\"selected\")) {\r\n      document.getElementById(\"selected-size\").innerHTML = \"\";\r\n      selectedProduct.selectedSize = \"\";\r\n      e.target.classList.remove(\"selected\");\r\n    } else {\r\n      try {\r\n        let SizeBtnParent = document.getElementById(\"sizeButtons\");\r\n        let allSizeButtons = SizeBtnParent.getElementsByTagName(\"button\");\r\n        for (var i = 0; i < allSizeButtons.length; i++) {\r\n          allSizeButtons[i].classList.remove(\"selected\");\r\n        }\r\n      } catch (err) {}\r\n      e.target.classList.add(\"selected\");\r\n      selectedProduct.selectedSize = e.target.value;\r\n      document.getElementById(\"selected-size\").innerHTML = e.target.value;\r\n    }\r\n  }\r\n  return selectedProduct;\r\n};\r\n\r\nexport const getSelectedColors = (\r\n  clickType,\r\n  e,\r\n  product,\r\n  selectedProduct,\r\n  productColorsStyle,\r\n  allowOutOfStock\r\n) => {\r\n  e.preventDefault();\r\n\r\n  // START SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\r\n  selectedProduct = SizeButtonEffectsOnClick(\r\n    clickType,\r\n    e,\r\n    product,\r\n    selectedProduct\r\n  );\r\n  // END SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\r\n\r\n  let selectedSize = e.target.value;\r\n\r\n  // OBJECT TO HOLD COLOR ATTRIBUTES DATA\r\n  let colorsData = {\r\n    color: [],\r\n    colorCode: [],\r\n    colorSmallImage: [],\r\n    colorLargeImage: [],\r\n    colorStock: [],\r\n    altImages: [],\r\n  };\r\n\r\n  // LOOP SELECTED PRODUCT VARIANTS\r\n  product.variants.map((prod) => {\r\n    if (prod.size == selectedSize) {\r\n      // GET COLOR ATTRIBUES OF SELECTED SIZE\r\n      colorsData = fetchColorAttributes(selectedSize, prod, colorsData);\r\n\r\n      // GET PRICE OF SELECTED SIZE\r\n      getSelectedSizePrice(prod);\r\n    }\r\n  });\r\n\r\n  // DISPLAY COLOR ATTRIBUTES LAYOUT ACCORDING TO SETTINGS\r\n\r\n  if (productColorsStyle == \"select\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS SELECT\r\n    selectedProduct = displayColorAsSelect(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n\r\n  if (productColorsStyle == \"colors\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsColor(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n\r\n  if (productColorsStyle == \"buttons\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsButtons(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n\r\n  if (productColorsStyle == \"images\") {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsImages(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    );\r\n  }\r\n  if (selectedProduct.selectedSize) {\r\n    document.getElementById(\"sizeAlert\").classList.add(\"d-none\");\r\n  }\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst actionOnStockStatus = (stock, selectedProduct, allowOutOfStock) => {\r\n  let stockInfo = {\r\n    availability: \"Out of Stock\",\r\n    stock: 0,\r\n  };\r\n\r\n  if (stock && stock > 0) {\r\n    stockInfo.availability = \"In Stock\";\r\n    stockInfo.stock = stock;\r\n  } else {\r\n    stockInfo.availability = \"Out of Stock\";\r\n    stockInfo.stock = stock;\r\n  }\r\n\r\n  document.getElementById(\"stock-status\").innerHTML = stockInfo.availability;\r\n\r\n  selectedProduct.stock = parseInt(stockInfo.stock);\r\n  if (selectedProduct.stock > 0) {\r\n    document.getElementById(\"AddToCart\").innerHTML = \"add to cart\";\r\n    document.getElementById(\"AddToCart\").disabled = false;\r\n\r\n    document\r\n      .getElementById(\"AddToCart\")\r\n      .setAttribute(\"data-bs-toggle\", \"modal\");\r\n    document\r\n      .getElementById(\"AddToCart\")\r\n      .setAttribute(\"data-bs-target\", \"#exampleModal\");\r\n  } else {\r\n    if (allowOutOfStock == \"yes\") {\r\n    } else {\r\n      document.getElementById(\"AddToCart\").innerHTML = \"Out of Stock\";\r\n      document.getElementById(\"AddToCart\").disabled = true;\r\n      document.getElementById(\"AddToCart\").setAttribute(\"data-bs-toggle\", \"\");\r\n      document.getElementById(\"AddToCart\").setAttribute(\"data-bs-target\", \"\");\r\n    }\r\n  }\r\n  return selectedProduct;\r\n};\r\n\r\nconst fetchColorAttributes = (selectedSize, prod, colorsData) => {\r\n  prod.color.map((clr) => {\r\n    colorsData.color.push(clr.name);\r\n    colorsData.colorCode.push(clr.colorCode);\r\n    colorsData.colorSmallImage.push(clr.colorSmallImage);\r\n    colorsData.colorLargeImage.push(clr.colorLargeImage);\r\n    colorsData.colorStock.push(clr.stock);\r\n    colorsData.altImages.push(clr.alt_images);\r\n  });\r\n  return colorsData;\r\n};\r\n\r\nconst getSelectedSizePrice = (prod) => {\r\n  let rprice = 0;\r\n  let sprice = 0;\r\n  if (prod.sales_price) {\r\n    rprice = prod.regular_price;\r\n    sprice = prod.sales_price;\r\n    document.getElementById(\"rPrice\").innerHTML = \"<del>$\" + rprice + \"</del>\";\r\n    document.getElementById(\"sPrice\").innerHTML = \"$\" + sprice;\r\n    document.getElementById(\"sPrice\").classList.remove(\"d-none\");\r\n  } else {\r\n    rprice = prod.regular_price;\r\n    document.getElementById(\"rPrice\").innerHTML = \"$\" + rprice;\r\n    document.getElementById(\"sPrice\").classList.add(\"d-none\");\r\n  }\r\n};\r\n\r\nconst displayColorAsSelect = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorSelect = document.getElementById(\"color\");\r\n  colorSelect.innerHTML = \"\";\r\n\r\n  colorSelect.onchange = function (e) {\r\n    selectedProduct.selectedColor = e.target.value;\r\n    let attrStock = this.options[this.selectedIndex].getAttribute(\"data-stock\");\r\n    selectedProduct.colorImage = this.options[this.selectedIndex].getAttribute(\r\n      \"data-image\"\r\n    );\r\n\r\n    selectedProduct = actionOnStockStatus(\r\n      attrStock,\r\n      selectedProduct,\r\n      allowOutOfStock\r\n    );\r\n    selectedProduct.stock = parseInt(attrStock);\r\n\r\n    // alert(e.target.options[e.target.selectedIndex].dataset.stock);\r\n    if (e.target.value && e.target.value != \"Select a Color\") {\r\n      document.getElementById(\r\n        \"selected-color\"\r\n      ).innerHTML = `<strong> ${e.target.value}</strong>`;\r\n    } else {\r\n      document.getElementById(\"selected-color\").innerHTML = \"\";\r\n    }\r\n\r\n    // GET ALT IMAGES\r\n    if (altImagesData && altImagesData.length > 0) {\r\n      displayAltimages(e.target.value, altImagesData);\r\n    }\r\n\r\n    if (selectedProduct.selectedColor) {\r\n      document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n    }\r\n  };\r\n\r\n  let myOption = document.createElement(\"option\");\r\n\r\n  myOption.text = \"Select a Color\";\r\n  myOption.value = \"Select a Color\";\r\n  colorSelect.appendChild(myOption);\r\n  let customIndex = -1;\r\n  let altImagesData = [];\r\n  colorsData.color.map((colorValue) => {\r\n    customIndex++;\r\n    altImagesData.push({\r\n      color: colorValue,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n\r\n    let myOption = document.createElement(\"option\");\r\n    myOption.text = colorValue;\r\n    myOption.value = colorValue;\r\n    myOption.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n    myOption.setAttribute(\r\n      \"data-image\",\r\n      colorsData.colorSmallImage[customIndex]\r\n    );\r\n    colorSelect.appendChild(myOption);\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst displayColorAsColor = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById(\"colorButtons\");\r\n  colorButtons.innerHTML = \"\";\r\n  let colorNameIndex = -1;\r\n  let customIndex = -1;\r\n  let altImagesData = [];\r\n\r\n  colorsData.colorCode.map((colorValue) => {\r\n    customIndex++;\r\n    colorNameIndex++;\r\n    let colorName = colorsData.color[colorNameIndex];\r\n\r\n    selectedProduct.colorImage =\r\n      prodImagesDir + colorsData.colorSmallImage[customIndex];\r\n\r\n    altImagesData.push({\r\n      color: colorName,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    if (!colorValue) {\r\n      button.setAttribute(\"value\", colorName);\r\n    } else {\r\n      // button.style.backgroundColor = colorValue + ' !important'\r\n      button.setAttribute(\r\n        \"style\",\r\n        `background-Color:${colorValue} !important;color:${colorValue} !important;`\r\n      );\r\n      button.setAttribute(\"value\", colorName);\r\n    }\r\n\r\n    button.setAttribute(\r\n      \"class\",\r\n      \"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\"\r\n    );\r\n    button.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n    button.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n    if (colorsData.colorStock[customIndex] <= 0) {\r\n      button.classList.add(\"disabled\");\r\n      button.innerHTML = \"<span></span>\" + colorValue;\r\n    } else {\r\n      button.innerHTML = colorValue;\r\n    }\r\n\r\n    button.onclick = function (e) {\r\n      if (e.target.classList.contains(\"selected\")) {\r\n        document.getElementById(\"selected-color\").innerHTML = \"\";\r\n        selectedProduct.selectedColor = \"\";\r\n        e.target.classList.remove(\"selected\");\r\n      } else {\r\n        try {\r\n          let colorBtnParent = document.getElementById(\"colorButtons\");\r\n          let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\r\n          for (var i = 0; i < allColorButtons.length; i++) {\r\n            allColorButtons[i].classList.remove(\"selected\");\r\n          }\r\n        } catch (err) {}\r\n\r\n        let attrStock = e.target.getAttribute(\"data-stock\");\r\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        );\r\n        selectedProduct.stock = parseInt(attrStock);\r\n\r\n        e.target.classList.add(\"selected\");\r\n        selectedProduct.selectedColor = e.target.value;\r\n        document.getElementById(\"selected-color\").innerHTML = e.target.value;\r\n      }\r\n\r\n      // GET ALT IMAGES\r\n      if (altImagesData && altImagesData.length > 0) {\r\n        displayAltimages(colorName, altImagesData);\r\n      }\r\n\r\n      if (selectedProduct.selectedColor) {\r\n        document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n      }\r\n    };\r\n    colorButtons.appendChild(button);\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst displayColorAsButtons = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById(\"colorButtons\");\r\n  colorButtons.innerHTML = \"\";\r\n  let customIndex = -1;\r\n  let altImagesData = [];\r\n  colorsData.color.map((colorValue) => {\r\n    customIndex++;\r\n\r\n    altImagesData.push({\r\n      color: colorValue,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.setAttribute(\"value\", colorValue);\r\n    button.setAttribute(\r\n      \"class\",\r\n      \"border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20\"\r\n    );\r\n    button.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n    button.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n    if (colorsData.colorStock[customIndex] <= 0) {\r\n      button.classList.add(\"disabled\");\r\n      button.innerHTML = \"<span></span>\" + colorValue;\r\n    } else {\r\n      button.innerHTML = colorValue;\r\n    }\r\n\r\n    button.onclick = function (e) {\r\n      if (e.target.classList.contains(\"selected\")) {\r\n        document.getElementById(\"selected-color\").innerHTML = \"\";\r\n        selectedProduct.selectedColor = \"\";\r\n        e.target.classList.remove(\"selected\");\r\n      } else {\r\n        try {\r\n          let colorBtnParent = document.getElementById(\"colorButtons\");\r\n          let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\r\n          for (var i = 0; i < allColorButtons.length; i++) {\r\n            allColorButtons[i].classList.remove(\"selected\");\r\n          }\r\n        } catch (err) {}\r\n\r\n        let attrStock = e.target.getAttribute(\"data-stock\");\r\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        );\r\n        selectedProduct.stock = parseInt(attrStock);\r\n\r\n        e.target.classList.add(\"selected\");\r\n        selectedProduct.selectedColor = e.target.value;\r\n        document.getElementById(\"selected-color\").innerHTML = e.target.value;\r\n      }\r\n\r\n      // GET ALT IMAGES\r\n      if (altImagesData && altImagesData.length > 0) {\r\n        displayAltimages(colorValue, altImagesData);\r\n      }\r\n\r\n      if (selectedProduct.selectedColor) {\r\n        document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n      }\r\n    };\r\n    colorButtons.appendChild(button);\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst displayColorAsImages = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById(\"colorImages\");\r\n  colorButtons.innerHTML = \"\";\r\n  let colorImages = document.getElementById(\"colorImages\");\r\n  colorImages.innerHTML = \"\";\r\n  let customIndex = -1;\r\n  let altImages = [];\r\n  let altImagesData = [];\r\n  colorsData.colorSmallImage.map((colorSmallImage) => {\r\n    customIndex++;\r\n\r\n    let colorName = colorsData.color[customIndex];\r\n    altImagesData.push({\r\n      color: colorName,\r\n      altImages: colorsData.altImages[customIndex],\r\n    });\r\n    if (!colorSmallImage) {\r\n      //DISPLAY SIZE AS BUTTON IF COLOR IMAGE NOT AVAIABLE\r\n      selectedProduct = displaySizeImageAsButtons(\r\n        e,\r\n        selectedProduct,\r\n        colorsData,\r\n        allowOutOfStock,\r\n        customIndex,\r\n        colorName,\r\n        colorButtons,\r\n        altImagesData\r\n      );\r\n    } else {\r\n      let img = document.createElement(\"IMG\");\r\n      img.src = prodImagesDir + colorSmallImage;\r\n\r\n      img.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n      img.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n      img.setAttribute(\"width\", 50);\r\n      img.setAttribute(\"height\", 50);\r\n      img.classList.add(\"ml-2\");\r\n      img.setAttribute(\r\n        \"class\",\r\n        \"border-info p-1  bg-transparent mt-2 rounded \"\r\n      );\r\n      img.onclick = function (e) {\r\n        if (e.target.classList.contains(\"border-red\")) {\r\n          document.getElementById(\"selected-color\").innerHTML = \"\";\r\n          selectedProduct.selectedColor = \"\";\r\n          e.target.classList.remove(\"border-red\");\r\n\r\n          document.getElementById(\"stock-status\").innerHTML =\r\n            \"Select An Attribute\";\r\n\r\n          document.getElementById(\"AddToCart\").innerHTML = \"add to cart\";\r\n          document.getElementById(\"AddToCart\").disabled = false;\r\n\r\n          document\r\n            .getElementById(\"AddToCart\")\r\n            .setAttribute(\"data-bs-toggle\", \"modal\");\r\n          document\r\n            .getElementById(\"AddToCart\")\r\n            .setAttribute(\"data-bs-target\", \"#exampleModal\");\r\n\r\n          let altImagesContainer = document.getElementById(\"alt-images\");\r\n          altImagesContainer.innerHTML = \"\";\r\n        } else {\r\n          try {\r\n            let colorBtnParent = document.getElementById(\"colorImages\");\r\n            let allColorButtons = colorBtnParent.getElementsByTagName(\"button\");\r\n            for (var i = 0; i < allColorButtons.length; i++) {\r\n              allColorButtons[i].classList.remove(\"selected\");\r\n            }\r\n\r\n            let colorImagesParent = document.getElementById(\"colorImages\");\r\n            let allColorImages = colorImagesParent.getElementsByTagName(\"IMG\");\r\n            for (var i = 0; i < allColorImages.length; i++) {\r\n              allColorImages[i].classList.remove(\"border-red\");\r\n            }\r\n          } catch (err) {}\r\n\r\n          let attrStock = e.target.getAttribute(\"data-stock\");\r\n          selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n          selectedProduct = actionOnStockStatus(\r\n            attrStock,\r\n            selectedProduct,\r\n            allowOutOfStock\r\n          );\r\n          selectedProduct.stock = parseInt(attrStock);\r\n\r\n          e.target.classList.add(\"border-red\");\r\n          selectedProduct.selectedColor = colorName;\r\n          document.getElementById(\"selected-color\").innerHTML = colorName;\r\n\r\n          // GET ALT IMAGES\r\n          if (altImagesData && altImagesData.length > 0) {\r\n            displayAltimages(colorName, altImagesData);\r\n          }\r\n          if (selectedProduct.selectedColor) {\r\n            document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n          }\r\n        }\r\n      };\r\n      colorImages.appendChild(img);\r\n    }\r\n  });\r\n\r\n  return selectedProduct;\r\n};\r\n\r\nconst displayAltimages = (colorName, allAltImages) => {\r\n  let selectedAltImages = [];\r\n  selectedAltImages = allAltImages.find(\r\n    (altImage) => altImage.color == colorName\r\n  ).altImages;\r\n\r\n  let altImagesContainer = document.getElementById(\"alt-images\");\r\n  altImagesContainer.innerHTML = \"\";\r\n\r\n  selectedAltImages.map((altImg) => {\r\n    let imgUrl = prodImagesDir + altImg;\r\n    let altAnchor = document.createElement(\"a\");\r\n\r\n    altAnchor.setAttribute(\"href\", imgUrl);\r\n    altAnchor.setAttribute(\"data-image\", imgUrl);\r\n    altAnchor.setAttribute(\"data-zoom-id\", \"zoomer\");\r\n    altAnchor.setAttribute(\"class\", \"mz-thumb\");\r\n\r\n    let resizedImage = CreateThumnailImage(altImg, imgUrl);\r\n    altAnchor.appendChild(resizedImage);\r\n    altImagesContainer.appendChild(altAnchor);\r\n  });\r\n  MagicZoom.refresh();\r\n};\r\n\r\nvar CreateThumnailImage = function (imageName, currentImage) {\r\n  var myCan = document.createElement(\"canvas\");\r\n  let img = new Image();\r\n  img.setAttribute(\"crossorigin\", \"anonymous\"); // works for me\r\n\r\n  img.src = currentImage;\r\n  var nImg = document.createElement(\"img\");\r\n  img.onload = function () {\r\n    myCan.id = imageName;\r\n    var tsize = 64;\r\n    myCan.width = 80;\r\n    myCan.height = 95;\r\n\r\n    var cntxt = myCan.getContext(\"2d\");\r\n    cntxt.drawImage(img, 0, 0, myCan.width, myCan.height);\r\n    setTimeout(abc(myCan), 1000);\r\n\r\n    function abc(myCan) {\r\n      var dataURL = myCan.toDataURL();\r\n\r\n      nImg.src = dataURL;\r\n      nImg.setAttribute(\"name\", imageName);\r\n      nImg.setAttribute(\"data-url\", currentImage);\r\n      nImg.setAttribute(\"class\", \"img-fluid mr-1\");\r\n\r\n      nImg.onclick = () => {\r\n        let altContainer = document.getElementById(\"alt-images\");\r\n        let altChildren = altContainer.getElementsByTagName(\"img\");\r\n        try {\r\n          for (var i = 0; i < altChildren.length; i++) {\r\n            altChildren[i].classList.remove(\"mz-border\");\r\n          }\r\n        } catch (err) {}\r\n\r\n        let mzLens = document.getElementsByClassName(\"mz-lens\")[0];\r\n        mzLens.getElementsByTagName(\"img\")[0].src = currentImage;\r\n\r\n        nImg.setAttribute(\"class\", \"img-fluid mr-1 mz-border\");\r\n      };\r\n    }\r\n  };\r\n  return nImg;\r\n};\r\n\r\nconst displaySizeImageAsButtons = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock,\r\n  customIndex,\r\n  colorName,\r\n  colorButtons,\r\n  altImagesData\r\n) => {\r\n  let element;\r\n  let element_label = \"button\";\r\n  let element_labe2 = \"img\";\r\n\r\n  let wrapper = \"colorImages\";\r\n\r\n  element = document.createElement(element_label);\r\n  element.setAttribute(\"type\", element_label);\r\n  element.setAttribute(\"value\", colorName);\r\n  element.setAttribute(\"class\", element_label);\r\n  element.setAttribute(\"data-stock\", colorsData.colorStock[customIndex]);\r\n  element.setAttribute(\"data-image\", colorsData.colorSmallImage[customIndex]);\r\n\r\n  element.style.height = \"59px\";\r\n  element.style.width = \"59px\";\r\n\r\n  // element.style.border = 'solid 1px rgb(185 185 185)'\r\n  element.style.outline = \"none\";\r\n  element.innerHTML = colorName;\r\n  element.classList.add(\"ml-2\");\r\n\r\n  element.setAttribute(\r\n    \"class\",\r\n    \"border-info p-1  bg-transparent mt-2 rounded \"\r\n  );\r\n\r\n  //  button.classList.add('h-25')\r\n  element.onclick = function (e) {\r\n    if (e.target.classList.contains(\"selected\")) {\r\n      document.getElementById(\"selected-color\").innerHTML = \"\";\r\n      selectedProduct.selectedColor = \"\";\r\n      e.target.classList.remove(\"selected\");\r\n    } else {\r\n      try {\r\n        let colorBtnParent = document.getElementById(wrapper);\r\n        let allColorButtons = colorBtnParent.getElementsByTagName(\r\n          element_label\r\n        );\r\n        for (var i = 0; i < allColorButtons.length; i++) {\r\n          allColorButtons[i].classList.remove(\"selected\");\r\n        }\r\n\r\n        let attrStock = e.target.getAttribute(\"data-stock\");\r\n        selectedProduct.colorImage = e.target.getAttribute(\"data-image\");\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        );\r\n        selectedProduct.stock = parseInt(attrStock);\r\n\r\n        let colorImagesParent = document.getElementById(wrapper);\r\n        let allColorImages = colorImagesParent.getElementsByTagName(\r\n          element_labe2\r\n        );\r\n        for (var i = 0; i < allColorImages.length; i++) {\r\n          allColorImages[i].classList.remove(\"border-red\");\r\n        }\r\n      } catch (err) {}\r\n      e.target.classList.add(\"selected\");\r\n      selectedProduct.selectedColor = e.target.value;\r\n      document.getElementById(\"selected-color\").innerHTML = e.target.value;\r\n    }\r\n\r\n    // GET ALT IMAGES\r\n    if (altImagesData && altImagesData.length > 0)\r\n      displayAltimages(colorName, altImagesData);\r\n\r\n    if (selectedProduct.selectedColor) {\r\n      document.getElementById(\"colorAlert\").classList.add(\"d-none\");\r\n    }\r\n  };\r\n  colorButtons.appendChild(element);\r\n  return selectedProduct;\r\n};\r\n\r\nexport const cartRelated = (product) => {\r\n  let cartRelated = [];\r\n  cartRelated = Data.allProducts.filter((prod) => prod.brand == product.brand);\r\n  if (!cartRelated || cartRelated.length < 1) cartRelated = [];\r\n\r\n  return cartRelated;\r\n};\r\n\r\nexport const setRecentlyViewed = (product) => {\r\n  let recentlyViewedTemp = [];\r\n  let recentlyViewed = [];\r\n  recentlyViewedTemp = reactLocalStorage.getObject(\"recentlyViewed\");\r\n  //reactLocalStorage.clear(\"recentlyViewed\");\r\n  if (recentlyViewedTemp && recentlyViewedTemp.length > 0) {\r\n  } else {\r\n    recentlyViewedTemp = [];\r\n  }\r\n  let matched = false;\r\n  recentlyViewedTemp.map((item) => {\r\n    if (JSON.stringify(item) == JSON.stringify(product)) {\r\n      matched = true;\r\n    } else {\r\n    }\r\n  });\r\n\r\n  if (matched == true) {\r\n  } else {\r\n    recentlyViewedTemp.unshift(product);\r\n  }\r\n\r\n  recentlyViewedTemp.map((prod, index) => {\r\n    if (index < 7) {\r\n      recentlyViewed.push(prod);\r\n    }\r\n  });\r\n\r\n  reactLocalStorage.setObject(\"recentlyViewed\", [...recentlyViewed]);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}