{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\ColdFusion2018\\\\cfusion\\\\wwwroot\\\\celerant360\\\\src\\\\components\\\\product\\\\productController.js\";\nimport * as Data from '../../Data';\nimport { prodImagesDir } from '../../settings';\nimport * as headerController from '../header/headerController';\nimport MagicZoom from '../../js/magiczoomplusReactJs';\nimport { Link } from 'react-router-dom';\nexport const getProduct = id => {\n  let product = Data.allProducts.find(prod => prod.style_id == id);\n  return product;\n};\nexport const getProductBreadCrumbs = (product, history, dispatch) => {\n  let breadcrumbs = [];\n  let breadcrumbsContent = [];\n  Data.taxonomy.map(categories => {\n    if (product.dept == categories.url) {\n      breadcrumbs.push({\n        item: categories.dept,\n        url: categories.url,\n        taxonomy: 'dept',\n        redirectUrl: 'dept_Url'\n      });\n    } else if (product.typ == categories.url) {\n      breadcrumbs.push({\n        item: categories.typ,\n        url: categories.url,\n        taxonomy: 'typ',\n        redirectUrl: 'typ_Url'\n      });\n    } else if (product.subTyp_1 == categories.url) {\n      breadcrumbs.push({\n        item: categories.subTyp_1,\n        url: categories.url,\n        taxonomy: 'subTyp_1',\n        redirectUrl: 'subTyp_1_Url'\n      });\n    } else if (product.subTyp_2 == categories.url) {\n      breadcrumbs.push({\n        item: categories.subTyp_2,\n        url: categories.url,\n        taxonomy: 'subTyp_2',\n        redirectUrl: 'subTyp_2_Url'\n      });\n    } else if (product.subTyp_3 == categories.url) {\n      breadcrumbs.push({\n        item: categories.subTyp_3,\n        url: categories.url,\n        taxonomy: 'subTyp_3',\n        redirectUrl: 'subTyp_2_Url'\n      });\n    } else {}\n  });\n\n  if (breadcrumbs.length == 0) {\n    breadcrumbs.push({\n      item: 'All Products',\n      url: 'all-products',\n      taxonomy: 'All Products',\n      redirectUrl: ''\n    });\n  } // ADDED PRODUCT'S NAME IN THE END\n\n\n  breadcrumbs.push({\n    item: product.name,\n    url: 'product.url',\n    taxonomy: 'Product',\n    redirectUrl: ''\n  });\n  breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"breadcrumb-item\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"text-dark text-decoration-none\",\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this));\n  let i = -1;\n\n  for (const [key, value] of Object.entries(breadcrumbs)) {\n    i++;\n\n    if (i == breadcrumbs.length - 1) {\n      breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        children: value.item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this));\n    } else {\n      breadcrumbsContent.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"breadcrumb-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"\",\n          className: \"text-dark text-decoration-none\",\n          onClick: e => {\n            let dispatchedData = {};\n            dispatchedData = {\n              taxonomy: value.taxonomy,\n              redirectUrl: value.redirectUrl,\n              taxonomyValue: value.item,\n              taxonomyUrl: value.url\n            };\n            headerController.addFilters(e, dispatchedData, dispatch, history);\n          },\n          children: value.item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  return breadcrumbsContent;\n};\nexport const getProductImage = props => {\n  let productLargeImage = {};\n\n  if (props.product.largeImage) {\n    productLargeImage.image = prodImagesDir + props.product.largeImage;\n    productLargeImage.altText = props.product.name;\n  } else {\n    productLargeImage.image = prodImagesDir + 'default-image.jpeg';\n    productLargeImage.altText = 'Default Image';\n  }\n\n  return productLargeImage;\n};\nexport const getProductSmallImage = product => {\n  let productSmallImage = '';\n\n  if (product.smallImage) {\n    productSmallImage = prodImagesDir + product.smallImage;\n  } else {\n    productSmallImage = prodImagesDir + 'default-image.jpeg';\n  }\n\n  return productSmallImage;\n};\nexport const getProductInfo = props => {\n  let product = props.product;\n  return product;\n};\nexport const getProductNewsLetters = props => {\n  return '';\n};\nexport const getProductDetails = props => {\n  return '';\n};\nexport const getAdditionalProducts = props => {\n  return '';\n};\nexport const productPricing = product => {\n  let prodPrice = {\n    regularPrice: 0,\n    salesPrice: 0\n  };\n\n  if (product.sales_price && product.sales_price > 0) {\n    prodPrice.regularPrice = product.regular_price;\n    prodPrice.salesPrice = product.sales_price;\n  } else {\n    prodPrice.regularPrice = product.regular_price;\n  }\n\n  return prodPrice;\n};\nexport const getProductSizes = product => {\n  let sizes = [];\n\n  if (product.gener == 'variable') {\n    product.variants.map(prod => {\n      sizes.push(prod.size);\n    });\n  }\n\n  return sizes;\n};\nexport const updateQuantity = (e, selectedProduct) => {\n  selectedProduct.quantity = e.target.value;\n  return selectedProduct;\n};\nexport const SizeButtonEffectsOnClick = (clickType, e, product, selectedProduct) => {\n  if (clickType == 'select') {\n    if (e.target.value == '' || e.target.value == 'Select a Size') {\n      selectedProduct.selectedSize = '';\n      document.getElementById('selected-size').innerHTML = '';\n      selectedProduct.selectedSize = '';\n    } else {\n      selectedProduct.selectedSize = e.target.value;\n      document.getElementById('selected-size').innerHTML = e.target.value;\n      document.getElementById('sizeAlert').classList.add('d-none');\n    }\n  } else {\n    if (e.target.classList.contains('selected')) {\n      document.getElementById('selected-size').innerHTML = '';\n      selectedProduct.selectedSize = '';\n      e.target.classList.remove('selected');\n    } else {\n      try {\n        let SizeBtnParent = document.getElementById('sizeButtons');\n        let allSizeButtons = SizeBtnParent.getElementsByTagName('button');\n\n        for (var i = 0; i < allSizeButtons.length; i++) {\n          allSizeButtons[i].classList.remove('selected');\n        }\n      } catch (err) {}\n\n      e.target.classList.add('selected');\n      selectedProduct.selectedSize = e.target.value;\n      document.getElementById('selected-size').innerHTML = e.target.value;\n    }\n  }\n\n  return selectedProduct;\n};\n_c = SizeButtonEffectsOnClick;\nexport const getSelectedColors = (clickType, e, product, selectedProduct, productColorsStyle, allowOutOfStock) => {\n  e.preventDefault(); // START SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\n\n  selectedProduct = SizeButtonEffectsOnClick(clickType, e, product, selectedProduct); // END SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\n\n  let selectedSize = e.target.value; // OBJECT TO HOLD COLOR ATTRIBUTES DATA\n\n  let colorsData = {\n    color: [],\n    colorCode: [],\n    colorSmallImage: [],\n    colorLargeImage: [],\n    colorStock: [],\n    altImages: []\n  }; // LOOP SELECTED PRODUCT VARIANTS\n\n  product.variants.map(prod => {\n    if (prod.size == selectedSize) {\n      // GET COLOR ATTRIBUES OF SELECTED SIZE\n      colorsData = fetchColorAttributes(selectedSize, prod, colorsData); // GET PRICE OF SELECTED SIZE\n\n      getSelectedSizePrice(prod);\n    }\n  }); // DISPLAY COLOR ATTRIBUTES LAYOUT ACCORDING TO SETTINGS\n\n  if (productColorsStyle == 'select') {\n    // DISPLAY SIZE ATTRIBUTES AS SELECT\n    selectedProduct = displayColorAsSelect(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (productColorsStyle == 'colors') {\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\n    selectedProduct = displayColorAsColor(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (productColorsStyle == 'buttons') {\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\n    selectedProduct = displayColorAsButtons(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (productColorsStyle == 'images') {\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\n    selectedProduct = displayColorAsImages(e, selectedProduct, colorsData, allowOutOfStock);\n  }\n\n  if (selectedProduct.selectedSize) {\n    document.getElementById('sizeAlert').classList.add('d-none');\n  }\n\n  return selectedProduct;\n};\n\nconst actionOnStockStatus = (stock, selectedProduct, allowOutOfStock) => {\n  alert();\n  let stockInfo = {\n    availability: 'Out of Stock',\n    stock: 0\n  };\n\n  if (stock && stock > 0) {\n    stockInfo.availability = 'In Stock';\n    stockInfo.stock = stock;\n  } else {\n    stockInfo.availability = 'Out of Stock';\n    stockInfo.stock = stock;\n  }\n\n  document.getElementById('stock-status').innerHTML = stockInfo.availability;\n  selectedProduct.stock = stockInfo.stock;\n\n  if (selectedProduct.stock > 0) {\n    document.getElementById('AddToCart').innerHTML = 'add to cart';\n    document.getElementById('AddToCart').disabled = false;\n    document.getElementById('AddToCart').setAttribute(\"data-bs-toggle\", \"modal\");\n    document.getElementById('AddToCart').setAttribute(\"data-bs-target\", \"#exampleModal\");\n  } else {\n    if (allowOutOfStock == 'yes') {} else {\n      document.getElementById('AddToCart').innerHTML = 'Out of Stock';\n      document.getElementById('AddToCart').disabled = true;\n      document.getElementById('AddToCart').setAttribute(\"data-bs-toggle\", \"\");\n      document.getElementById('AddToCart').setAttribute(\"data-bs-target\", \"\");\n    }\n  }\n\n  return selectedProduct;\n};\n\nconst fetchColorAttributes = (selectedSize, prod, colorsData) => {\n  prod.color.map(clr => {\n    colorsData.color.push(clr.name);\n    colorsData.colorCode.push(clr.colorCode);\n    colorsData.colorSmallImage.push(clr.colorSmallImage);\n    colorsData.colorLargeImage.push(clr.colorLargeImage);\n    colorsData.colorStock.push(clr.stock);\n    colorsData.altImages.push(clr.alt_images);\n  });\n  return colorsData;\n};\n\nconst getSelectedSizePrice = prod => {\n  let rprice = 0;\n  let sprice = 0;\n\n  if (prod.sales_price) {\n    rprice = prod.regular_price;\n    sprice = prod.sales_price;\n    document.getElementById('rPrice').innerHTML = '<del>$' + rprice + '</del>';\n    document.getElementById('sPrice').innerHTML = '$' + sprice;\n    document.getElementById('sPrice').classList.remove('d-none');\n  } else {\n    rprice = prod.regular_price;\n    document.getElementById('rPrice').innerHTML = '$' + rprice;\n    document.getElementById('sPrice').classList.add('d-none');\n  }\n};\n\nconst displayColorAsSelect = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorSelect = document.getElementById('color');\n  colorSelect.innerHTML = '';\n\n  colorSelect.onchange = function (e) {\n    selectedProduct.selectedColor = e.target.value;\n    let attrStock = this.options[this.selectedIndex].getAttribute('data-stock');\n    selectedProduct.colorImage = this.options[this.selectedIndex].getAttribute('data-image');\n    selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n    selectedProduct.stock = attrStock; // alert(e.target.options[e.target.selectedIndex].dataset.stock);\n\n    if (e.target.value && e.target.value != 'Select a Color') {\n      document.getElementById('selected-color').innerHTML = `<strong> ${e.target.value}</strong>`;\n    } else {\n      document.getElementById('selected-color').innerHTML = '';\n    } // GET ALT IMAGES\n\n\n    if (altImagesData && altImagesData.length > 0) {\n      displayAltimages(e.target.value, altImagesData);\n    }\n\n    if (selectedProduct.selectedColor) {\n      document.getElementById('colorAlert').classList.add('d-none');\n    }\n  };\n\n  let myOption = document.createElement('option');\n  myOption.text = 'Select a Color';\n  myOption.value = 'Select a Color';\n  colorSelect.appendChild(myOption);\n  let customIndex = -1;\n  let altImagesData = [];\n  colorsData.color.map(colorValue => {\n    customIndex++;\n    altImagesData.push({\n      color: colorValue,\n      altImages: colorsData.altImages[customIndex]\n    });\n    let myOption = document.createElement('option');\n    myOption.text = colorValue;\n    myOption.value = colorValue;\n    myOption.setAttribute('data-stock', colorsData.colorStock[customIndex]);\n    myOption.setAttribute('data-image', colorsData.colorSmallImage[customIndex]);\n    colorSelect.appendChild(myOption);\n  });\n  return selectedProduct;\n};\n\nconst displayColorAsColor = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorButtons = document.getElementById('colorButtons');\n  colorButtons.innerHTML = '';\n  let colorNameIndex = -1;\n  let customIndex = -1;\n  let altImagesData = [];\n  colorsData.colorCode.map(colorValue => {\n    customIndex++;\n    colorNameIndex++;\n    let colorName = colorsData.color[colorNameIndex];\n    selectedProduct.colorImage = prodImagesDir + colorsData.colorSmallImage[customIndex];\n    altImagesData.push({\n      color: colorName,\n      altImages: colorsData.altImages[customIndex]\n    });\n    let button = document.createElement('button');\n    button.setAttribute('type', 'button');\n\n    if (!colorValue) {\n      button.setAttribute('value', colorName);\n    } else {\n      // button.style.backgroundColor = colorValue + ' !important'\n      button.setAttribute('style', `background-Color:${colorValue} !important;color:${colorValue} !important;`);\n      button.setAttribute('value', colorName);\n    }\n\n    button.setAttribute('class', 'border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20');\n    button.setAttribute('data-stock', colorsData.colorStock[customIndex]);\n    button.setAttribute('data-image', colorsData.colorSmallImage[customIndex]);\n\n    if (colorsData.colorStock[customIndex] <= 0) {\n      button.classList.add('disabled');\n      button.innerHTML = '<span></span>' + colorValue;\n    } else {\n      button.innerHTML = colorValue;\n    }\n\n    button.onclick = function (e) {\n      if (e.target.classList.contains('selected')) {\n        document.getElementById('selected-color').innerHTML = '';\n        selectedProduct.selectedColor = '';\n        e.target.classList.remove('selected');\n      } else {\n        try {\n          let colorBtnParent = document.getElementById('colorButtons');\n          let allColorButtons = colorBtnParent.getElementsByTagName('button');\n\n          for (var i = 0; i < allColorButtons.length; i++) {\n            allColorButtons[i].classList.remove('selected');\n          }\n        } catch (err) {}\n\n        let attrStock = e.target.getAttribute('data-stock');\n        selectedProduct.colorImage = e.target.getAttribute('data-image');\n        selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n        selectedProduct.stock = attrStock;\n        e.target.classList.add('selected');\n        selectedProduct.selectedColor = e.target.value;\n        document.getElementById('selected-color').innerHTML = e.target.value;\n      } // GET ALT IMAGES\n\n\n      if (altImagesData && altImagesData.length > 0) {\n        displayAltimages(colorName, altImagesData);\n      }\n\n      if (selectedProduct.selectedColor) {\n        document.getElementById('colorAlert').classList.add('d-none');\n      }\n    };\n\n    colorButtons.appendChild(button);\n  });\n  return selectedProduct;\n};\n\nconst displayColorAsButtons = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorButtons = document.getElementById('colorButtons');\n  colorButtons.innerHTML = '';\n  let customIndex = -1;\n  let altImagesData = [];\n  colorsData.color.map(colorValue => {\n    customIndex++;\n    altImagesData.push({\n      color: colorValue,\n      altImages: colorsData.altImages[customIndex]\n    });\n    let button = document.createElement('button');\n    button.setAttribute('type', 'button');\n    button.setAttribute('value', colorValue);\n    button.setAttribute('class', 'border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20');\n    button.setAttribute('data-stock', colorsData.colorStock[customIndex]);\n    button.setAttribute('data-image', colorsData.colorSmallImage[customIndex]);\n\n    if (colorsData.colorStock[customIndex] <= 0) {\n      button.classList.add('disabled');\n      button.innerHTML = '<span></span>' + colorValue;\n    } else {\n      button.innerHTML = colorValue;\n    }\n\n    button.onclick = function (e) {\n      if (e.target.classList.contains('selected')) {\n        document.getElementById('selected-color').innerHTML = '';\n        selectedProduct.selectedColor = '';\n        e.target.classList.remove('selected');\n      } else {\n        try {\n          let colorBtnParent = document.getElementById('colorButtons');\n          let allColorButtons = colorBtnParent.getElementsByTagName('button');\n\n          for (var i = 0; i < allColorButtons.length; i++) {\n            allColorButtons[i].classList.remove('selected');\n          }\n        } catch (err) {}\n\n        let attrStock = e.target.getAttribute('data-stock');\n        selectedProduct.colorImage = e.target.getAttribute('data-image');\n        selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n        selectedProduct.stock = attrStock;\n        e.target.classList.add('selected');\n        selectedProduct.selectedColor = e.target.value;\n        document.getElementById('selected-color').innerHTML = e.target.value;\n      } // GET ALT IMAGES\n\n\n      if (altImagesData && altImagesData.length > 0) {\n        displayAltimages(colorValue, altImagesData);\n      }\n\n      if (selectedProduct.selectedColor) {\n        document.getElementById('colorAlert').classList.add('d-none');\n      }\n    };\n\n    colorButtons.appendChild(button);\n  });\n  return selectedProduct;\n};\n\nconst displayColorAsImages = (e, selectedProduct, colorsData, allowOutOfStock) => {\n  let colorButtons = document.getElementById('colorImages');\n  colorButtons.innerHTML = '';\n  let colorImages = document.getElementById('colorImages');\n  colorImages.innerHTML = '';\n  let customIndex = -1;\n  let altImages = [];\n  let altImagesData = [];\n  colorsData.colorSmallImage.map(colorSmallImage => {\n    customIndex++;\n    let colorName = colorsData.color[customIndex];\n    altImagesData.push({\n      color: colorName,\n      altImages: colorsData.altImages[customIndex]\n    });\n\n    if (!colorSmallImage) {\n      //DISPLAY SIZE AS BUTTON IF COLOR IMAGE NOT AVAIABLE\n      selectedProduct = displaySizeImageAsButtons(e, selectedProduct, colorsData, allowOutOfStock, customIndex, colorName, colorButtons, altImagesData);\n    } else {\n      let img = document.createElement('IMG');\n      img.src = prodImagesDir + colorSmallImage;\n      img.setAttribute('data-stock', colorsData.colorStock[customIndex]);\n      img.setAttribute('data-image', colorsData.colorSmallImage[customIndex]);\n      img.setAttribute('width', 50);\n      img.setAttribute('height', 50);\n      img.classList.add('ml-2');\n      img.setAttribute('class', 'border-info p-1  bg-transparent mt-2 rounded ');\n\n      img.onclick = function (e) {\n        if (e.target.classList.contains('border-red')) {\n          document.getElementById('selected-color').innerHTML = '';\n          selectedProduct.selectedColor = '';\n          e.target.classList.remove('border-red');\n          document.getElementById('stock-status').innerHTML = 'Select An Attribute';\n          document.getElementById('AddToCart').innerHTML = 'add to cart';\n          document.getElementById('AddToCart').disabled = false;\n          document.getElementById('AddToCart').setAttribute(\"data-bs-toggle\", \"modal\");\n          document.getElementById('AddToCart').setAttribute(\"data-bs-target\", \"#exampleModal\");\n          let altImagesContainer = document.getElementById('alt-images');\n          altImagesContainer.innerHTML = '';\n        } else {\n          try {\n            let colorBtnParent = document.getElementById('colorImages');\n            let allColorButtons = colorBtnParent.getElementsByTagName('button');\n\n            for (var i = 0; i < allColorButtons.length; i++) {\n              allColorButtons[i].classList.remove('selected');\n            }\n\n            let colorImagesParent = document.getElementById('colorImages');\n            let allColorImages = colorImagesParent.getElementsByTagName('IMG');\n\n            for (var i = 0; i < allColorImages.length; i++) {\n              allColorImages[i].classList.remove('border-red');\n            }\n          } catch (err) {}\n\n          let attrStock = e.target.getAttribute('data-stock');\n          selectedProduct.colorImage = e.target.getAttribute('data-image');\n          selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n          selectedProduct.stock = attrStock;\n          e.target.classList.add('border-red');\n          selectedProduct.selectedColor = colorName;\n          document.getElementById('selected-color').innerHTML = colorName; // GET ALT IMAGES\n\n          if (altImagesData && altImagesData.length > 0) {\n            displayAltimages(colorName, altImagesData);\n          }\n\n          if (selectedProduct.selectedColor) {\n            document.getElementById('colorAlert').classList.add('d-none');\n          }\n        }\n      };\n\n      colorImages.appendChild(img);\n    }\n  });\n  return selectedProduct;\n};\n\nconst displayAltimages = (colorName, allAltImages) => {\n  let selectedAltImages = [];\n  selectedAltImages = allAltImages.find(altImage => altImage.color == colorName).altImages;\n  let altImagesContainer = document.getElementById('alt-images');\n  altImagesContainer.innerHTML = '';\n  selectedAltImages.map(altImg => {\n    let imgUrl = prodImagesDir + altImg;\n    let altAnchor = document.createElement('a');\n    altAnchor.setAttribute('href', imgUrl);\n    altAnchor.setAttribute('data-image', imgUrl);\n    altAnchor.setAttribute('data-zoom-id', 'zoomer');\n    altAnchor.setAttribute('class', 'mz-thumb');\n    let resizedImage = CreateThumnailImage(altImg, imgUrl);\n    altAnchor.appendChild(resizedImage);\n    altImagesContainer.appendChild(altAnchor);\n  });\n  MagicZoom.refresh();\n};\n\nvar CreateThumnailImage = function (imageName, currentImage) {\n  var myCan = document.createElement('canvas');\n  let img = new Image();\n  img.setAttribute('crossorigin', 'anonymous'); // works for me\n\n  img.src = currentImage;\n  var nImg = document.createElement('img');\n\n  img.onload = function () {\n    myCan.id = imageName;\n    var tsize = 64;\n    myCan.width = 80;\n    myCan.height = 95;\n    var cntxt = myCan.getContext('2d');\n    cntxt.drawImage(img, 0, 0, myCan.width, myCan.height);\n    setTimeout(abc(myCan), 1000);\n\n    function abc(myCan) {\n      var dataURL = myCan.toDataURL();\n      nImg.src = dataURL;\n      nImg.setAttribute('name', imageName);\n      nImg.setAttribute('data-url', currentImage);\n      nImg.setAttribute('class', 'img-fluid mr-1');\n\n      nImg.onclick = () => {\n        let altContainer = document.getElementById('alt-images');\n        let altChildren = altContainer.getElementsByTagName('img');\n\n        try {\n          for (var i = 0; i < altChildren.length; i++) {\n            altChildren[i].classList.remove('mz-border');\n          }\n        } catch (err) {}\n\n        let mzLens = document.getElementsByClassName('mz-lens')[0];\n        mzLens.getElementsByTagName('img')[0].src = currentImage;\n        nImg.setAttribute('class', 'img-fluid mr-1 mz-border');\n      };\n    }\n  };\n\n  return nImg;\n};\n\n_c2 = CreateThumnailImage;\n\nconst displaySizeImageAsButtons = (e, selectedProduct, colorsData, allowOutOfStock, customIndex, colorName, colorButtons, altImagesData) => {\n  let element;\n  let element_label = 'button';\n  let element_labe2 = 'img';\n  let wrapper = 'colorImages';\n  element = document.createElement(element_label);\n  element.setAttribute('type', element_label);\n  element.setAttribute('value', colorName);\n  element.setAttribute('class', element_label);\n  element.setAttribute('data-stock', colorsData.colorStock[customIndex]);\n  element.setAttribute('data-image', colorsData.colorSmallImage[customIndex]);\n  element.style.height = '59px';\n  element.style.width = '59px'; // element.style.border = 'solid 1px rgb(185 185 185)'\n\n  element.style.outline = 'none';\n  element.innerHTML = colorName;\n  element.classList.add('ml-2');\n  element.setAttribute('class', 'border-info p-1  bg-transparent mt-2 rounded '); //  button.classList.add('h-25')\n\n  element.onclick = function (e) {\n    if (e.target.classList.contains('selected')) {\n      document.getElementById('selected-color').innerHTML = '';\n      selectedProduct.selectedColor = '';\n      e.target.classList.remove('selected');\n    } else {\n      try {\n        let colorBtnParent = document.getElementById(wrapper);\n        let allColorButtons = colorBtnParent.getElementsByTagName(element_label);\n\n        for (var i = 0; i < allColorButtons.length; i++) {\n          allColorButtons[i].classList.remove('selected');\n        }\n\n        let attrStock = e.target.getAttribute('data-stock');\n        selectedProduct.colorImage = e.target.getAttribute('data-image');\n        selectedProduct = actionOnStockStatus(attrStock, selectedProduct, allowOutOfStock);\n        selectedProduct.stock = attrStock;\n        let colorImagesParent = document.getElementById(wrapper);\n        let allColorImages = colorImagesParent.getElementsByTagName(element_labe2);\n\n        for (var i = 0; i < allColorImages.length; i++) {\n          allColorImages[i].classList.remove('border-red');\n        }\n      } catch (err) {}\n\n      e.target.classList.add('selected');\n      selectedProduct.selectedColor = e.target.value;\n      document.getElementById('selected-color').innerHTML = e.target.value;\n    } // GET ALT IMAGES\n\n\n    if (altImagesData && altImagesData.length > 0) displayAltimages(colorName, altImagesData);\n\n    if (selectedProduct.selectedColor) {\n      document.getElementById('colorAlert').classList.add('d-none');\n    }\n  };\n\n  colorButtons.appendChild(element);\n  return selectedProduct;\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SizeButtonEffectsOnClick\");\n$RefreshReg$(_c2, \"CreateThumnailImage\");","map":{"version":3,"sources":["C:/ColdFusion2018/cfusion/wwwroot/celerant360/src/components/product/productController.js"],"names":["Data","prodImagesDir","headerController","MagicZoom","Link","getProduct","id","product","allProducts","find","prod","style_id","getProductBreadCrumbs","history","dispatch","breadcrumbs","breadcrumbsContent","taxonomy","map","categories","dept","url","push","item","redirectUrl","typ","subTyp_1","subTyp_2","subTyp_3","length","name","i","key","value","Object","entries","e","dispatchedData","taxonomyValue","taxonomyUrl","addFilters","getProductImage","props","productLargeImage","largeImage","image","altText","getProductSmallImage","productSmallImage","smallImage","getProductInfo","getProductNewsLetters","getProductDetails","getAdditionalProducts","productPricing","prodPrice","regularPrice","salesPrice","sales_price","regular_price","getProductSizes","sizes","gener","variants","size","updateQuantity","selectedProduct","quantity","target","SizeButtonEffectsOnClick","clickType","selectedSize","document","getElementById","innerHTML","classList","add","contains","remove","SizeBtnParent","allSizeButtons","getElementsByTagName","err","getSelectedColors","productColorsStyle","allowOutOfStock","preventDefault","colorsData","color","colorCode","colorSmallImage","colorLargeImage","colorStock","altImages","fetchColorAttributes","getSelectedSizePrice","displayColorAsSelect","displayColorAsColor","displayColorAsButtons","displayColorAsImages","actionOnStockStatus","stock","alert","stockInfo","availability","disabled","setAttribute","clr","alt_images","rprice","sprice","colorSelect","onchange","selectedColor","attrStock","options","selectedIndex","getAttribute","colorImage","altImagesData","displayAltimages","myOption","createElement","text","appendChild","customIndex","colorValue","colorButtons","colorNameIndex","colorName","button","onclick","colorBtnParent","allColorButtons","colorImages","displaySizeImageAsButtons","img","src","altImagesContainer","colorImagesParent","allColorImages","allAltImages","selectedAltImages","altImage","altImg","imgUrl","altAnchor","resizedImage","CreateThumnailImage","refresh","imageName","currentImage","myCan","Image","nImg","onload","tsize","width","height","cntxt","getContext","drawImage","setTimeout","abc","dataURL","toDataURL","altContainer","altChildren","mzLens","getElementsByClassName","element","element_label","element_labe2","wrapper","style","outline"],"mappings":"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","sourcesContent":["import * as Data from '../../Data'\r\nimport { prodImagesDir } from '../../settings'\r\nimport * as headerController from '../header/headerController'\r\nimport MagicZoom from '../../js/magiczoomplusReactJs'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const getProduct = (id) => {\r\n  let product = Data.allProducts.find((prod) => prod.style_id == id)\r\n\r\n  return product\r\n}\r\nexport const getProductBreadCrumbs = (product, history, dispatch) => {\r\n  let breadcrumbs = []\r\n  let breadcrumbsContent = []\r\n\r\n  Data.taxonomy.map((categories) => {\r\n    if (product.dept == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.dept,\r\n        url: categories.url,\r\n        taxonomy: 'dept',\r\n        redirectUrl: 'dept_Url',\r\n      })\r\n    } else if (product.typ == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.typ,\r\n        url: categories.url,\r\n        taxonomy: 'typ',\r\n        redirectUrl: 'typ_Url',\r\n      })\r\n    } else if (product.subTyp_1 == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.subTyp_1,\r\n        url: categories.url,\r\n        taxonomy: 'subTyp_1',\r\n        redirectUrl: 'subTyp_1_Url',\r\n      })\r\n    } else if (product.subTyp_2 == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.subTyp_2,\r\n        url: categories.url,\r\n        taxonomy: 'subTyp_2',\r\n        redirectUrl: 'subTyp_2_Url',\r\n      })\r\n    } else if (product.subTyp_3 == categories.url) {\r\n      breadcrumbs.push({\r\n        item: categories.subTyp_3,\r\n        url: categories.url,\r\n        taxonomy: 'subTyp_3',\r\n        redirectUrl: 'subTyp_2_Url',\r\n      })\r\n    } else {\r\n    }\r\n  })\r\n\r\n  if (breadcrumbs.length == 0) {\r\n    breadcrumbs.push({\r\n      item: 'All Products',\r\n      url: 'all-products',\r\n      taxonomy: 'All Products',\r\n      redirectUrl: '',\r\n    })\r\n  }\r\n\r\n  // ADDED PRODUCT'S NAME IN THE END\r\n  breadcrumbs.push({\r\n    item: product.name,\r\n    url: 'product.url',\r\n    taxonomy: 'Product',\r\n    redirectUrl: '',\r\n  })\r\n\r\n  breadcrumbsContent.push(\r\n    <li className='breadcrumb-item'>\r\n      <Link\r\n        to=\"/\"\r\n        className='text-dark text-decoration-none'\r\n       \r\n      >\r\n        Home\r\n      </Link>\r\n    </li>\r\n  )\r\n\r\n  let i = -1\r\n  for (const [key, value] of Object.entries(breadcrumbs)) {\r\n    i++\r\n\r\n    if (i == breadcrumbs.length - 1) {\r\n      breadcrumbsContent.push(\r\n        <li className='breadcrumb-item active' aria-current='page'>\r\n          {value.item}\r\n        </li>\r\n      )\r\n    } else {\r\n      breadcrumbsContent.push(\r\n        <li className='breadcrumb-item'>\r\n          <Link\r\n            to=\"\"\r\n            className='text-dark text-decoration-none'\r\n            onClick={(e) => {\r\n              let dispatchedData = {}\r\n\r\n              dispatchedData = {\r\n                taxonomy: value.taxonomy,\r\n                redirectUrl: value.redirectUrl,\r\n                taxonomyValue: value.item,\r\n                taxonomyUrl: value.url,\r\n              }\r\n              headerController.addFilters(e, dispatchedData, dispatch, history)\r\n            }}\r\n          >\r\n            {value.item}\r\n          </Link>\r\n        </li>\r\n      )\r\n    }\r\n  }\r\n\r\n  return breadcrumbsContent\r\n}\r\n\r\nexport const getProductImage = (props) => {\r\n  let productLargeImage = {}\r\n  if (props.product.largeImage) {\r\n    productLargeImage.image = prodImagesDir + props.product.largeImage\r\n    productLargeImage.altText = props.product.name\r\n  } else {\r\n    productLargeImage.image = prodImagesDir + 'default-image.jpeg'\r\n    productLargeImage.altText = 'Default Image'\r\n  }\r\n\r\n  return productLargeImage\r\n}\r\n\r\nexport const getProductSmallImage = (product) => {\r\n  let productSmallImage = ''\r\n  if (product.smallImage) {\r\n    productSmallImage = prodImagesDir + product.smallImage\r\n    \r\n  } else {\r\n    productSmallImage = prodImagesDir + 'default-image.jpeg'\r\n  }\r\n\r\n  return productSmallImage\r\n}\r\n\r\n\r\nexport const getProductInfo = (props) => {\r\n  let product = props.product\r\n  return product\r\n}\r\n\r\nexport const getProductNewsLetters = (props) => {\r\n  return ''\r\n}\r\n\r\nexport const getProductDetails = (props) => {\r\n  return ''\r\n}\r\n\r\nexport const getAdditionalProducts = (props) => {\r\n  return ''\r\n}\r\n\r\nexport const productPricing = (product) => {\r\n  let prodPrice = {\r\n    regularPrice: 0,\r\n    salesPrice: 0,\r\n  }\r\n  if (product.sales_price && product.sales_price > 0) {\r\n    prodPrice.regularPrice = product.regular_price\r\n    prodPrice.salesPrice = product.sales_price\r\n  } else {\r\n    prodPrice.regularPrice = product.regular_price\r\n  }\r\n  return prodPrice\r\n}\r\n\r\nexport const getProductSizes = (product) => {\r\n  let sizes = []\r\n  if (product.gener == 'variable') {\r\n    product.variants.map((prod) => {\r\n      sizes.push(prod.size)\r\n    })\r\n  }\r\n  return sizes\r\n}\r\n\r\nexport const updateQuantity = (e, selectedProduct) => {\r\n  selectedProduct.quantity = e.target.value\r\n  return selectedProduct\r\n}\r\n\r\nexport const SizeButtonEffectsOnClick = (\r\n  clickType,\r\n  e,\r\n  product,\r\n  selectedProduct\r\n) => {\r\n  if (clickType == 'select') {\r\n    if (e.target.value == '' || e.target.value == 'Select a Size') {\r\n      selectedProduct.selectedSize = ''\r\n      document.getElementById('selected-size').innerHTML = ''\r\n      selectedProduct.selectedSize = ''\r\n    } else {\r\n      selectedProduct.selectedSize = e.target.value\r\n      document.getElementById('selected-size').innerHTML = e.target.value\r\n      document.getElementById('sizeAlert').classList.add('d-none')\r\n    }\r\n  } else {\r\n    if (e.target.classList.contains('selected')) {\r\n      document.getElementById('selected-size').innerHTML = ''\r\n      selectedProduct.selectedSize = ''\r\n      e.target.classList.remove('selected')\r\n    } else {\r\n      try {\r\n        let SizeBtnParent = document.getElementById('sizeButtons')\r\n        let allSizeButtons = SizeBtnParent.getElementsByTagName('button')\r\n        for (var i = 0; i < allSizeButtons.length; i++) {\r\n          allSizeButtons[i].classList.remove('selected')\r\n        }\r\n      } catch (err) {}\r\n      e.target.classList.add('selected')\r\n      selectedProduct.selectedSize = e.target.value\r\n      document.getElementById('selected-size').innerHTML = e.target.value\r\n    }\r\n  }\r\n  return selectedProduct\r\n}\r\n\r\nexport const getSelectedColors = (\r\n  clickType,\r\n  e,\r\n  product,\r\n  selectedProduct,\r\n  productColorsStyle,\r\n  allowOutOfStock\r\n) => {\r\n  e.preventDefault()\r\n\r\n  // START SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\r\n  selectedProduct = SizeButtonEffectsOnClick(\r\n    clickType,\r\n    e,\r\n    product,\r\n    selectedProduct\r\n  )\r\n  // END SIZE BUTTONS SELECTION/UNSELECTION AND BORDER CHNAGE\r\n\r\n  let selectedSize = e.target.value\r\n\r\n  // OBJECT TO HOLD COLOR ATTRIBUTES DATA\r\n  let colorsData = {\r\n    color: [],\r\n    colorCode: [],\r\n    colorSmallImage: [],\r\n    colorLargeImage: [],\r\n    colorStock: [],\r\n    altImages: [],\r\n  }\r\n\r\n  // LOOP SELECTED PRODUCT VARIANTS\r\n  product.variants.map((prod) => {\r\n    if (prod.size == selectedSize) {\r\n      // GET COLOR ATTRIBUES OF SELECTED SIZE\r\n      colorsData = fetchColorAttributes(selectedSize, prod, colorsData)\r\n\r\n      // GET PRICE OF SELECTED SIZE\r\n      getSelectedSizePrice(prod)\r\n    }\r\n  })\r\n\r\n  // DISPLAY COLOR ATTRIBUTES LAYOUT ACCORDING TO SETTINGS\r\n\r\n  if (productColorsStyle == 'select') {\r\n    // DISPLAY SIZE ATTRIBUTES AS SELECT\r\n    selectedProduct = displayColorAsSelect(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    )\r\n  }\r\n\r\n  if (productColorsStyle == 'colors') {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsColor(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    )\r\n  }\r\n\r\n  if (productColorsStyle == 'buttons') {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsButtons(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    )\r\n  }\r\n\r\n  if (productColorsStyle == 'images') {\r\n    // DISPLAY SIZE ATTRIBUTES AS BUTTONS\r\n    selectedProduct = displayColorAsImages(\r\n      e,\r\n      selectedProduct,\r\n      colorsData,\r\n      allowOutOfStock\r\n    )\r\n  }\r\n  if (selectedProduct.selectedSize) {\r\n    document.getElementById('sizeAlert').classList.add('d-none')\r\n  }\r\n\r\n  return selectedProduct\r\n}\r\n\r\nconst actionOnStockStatus = (stock, selectedProduct, allowOutOfStock) => {\r\n  alert()\r\n  let stockInfo = {\r\n    availability: 'Out of Stock',\r\n    stock: 0,\r\n  }\r\n\r\n  if (stock && stock > 0) {\r\n    stockInfo.availability = 'In Stock'\r\n    stockInfo.stock = stock\r\n  } else {\r\n    stockInfo.availability = 'Out of Stock'\r\n    stockInfo.stock = stock\r\n  }\r\n\r\n  document.getElementById('stock-status').innerHTML = stockInfo.availability\r\n\r\n  selectedProduct.stock = stockInfo.stock\r\n  if (selectedProduct.stock > 0) {\r\n    document.getElementById('AddToCart').innerHTML = 'add to cart'\r\n    document.getElementById('AddToCart').disabled = false\r\n\r\n    document.getElementById('AddToCart').setAttribute(\"data-bs-toggle\", \"modal\");\r\n    document.getElementById('AddToCart').setAttribute(\"data-bs-target\", \"#exampleModal\");\r\n    \r\n  \r\n  } else {\r\n    if (allowOutOfStock == 'yes') {\r\n    } else {\r\n      document.getElementById('AddToCart').innerHTML = 'Out of Stock'\r\n      document.getElementById('AddToCart').disabled = true\r\n      document.getElementById('AddToCart').setAttribute(\"data-bs-toggle\", \"\");\r\n      document.getElementById('AddToCart').setAttribute(\"data-bs-target\", \"\");\r\n    }\r\n  }\r\n  return selectedProduct\r\n}\r\n\r\nconst fetchColorAttributes = (selectedSize, prod, colorsData) => {\r\n  prod.color.map((clr) => {\r\n    colorsData.color.push(clr.name)\r\n    colorsData.colorCode.push(clr.colorCode)\r\n    colorsData.colorSmallImage.push(clr.colorSmallImage)\r\n    colorsData.colorLargeImage.push(clr.colorLargeImage)\r\n    colorsData.colorStock.push(clr.stock)\r\n    colorsData.altImages.push(clr.alt_images)\r\n  })\r\n  return colorsData\r\n}\r\n\r\nconst getSelectedSizePrice = (prod) => {\r\n  let rprice = 0\r\n  let sprice = 0\r\n  if (prod.sales_price) {\r\n    rprice = prod.regular_price\r\n    sprice = prod.sales_price\r\n    document.getElementById('rPrice').innerHTML = '<del>$' + rprice + '</del>'\r\n    document.getElementById('sPrice').innerHTML = '$' + sprice\r\n    document.getElementById('sPrice').classList.remove('d-none')\r\n  } else {\r\n    rprice = prod.regular_price\r\n    document.getElementById('rPrice').innerHTML = '$' + rprice\r\n    document.getElementById('sPrice').classList.add('d-none')\r\n  }\r\n}\r\n\r\nconst displayColorAsSelect = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorSelect = document.getElementById('color')\r\n  colorSelect.innerHTML = ''\r\n\r\n  colorSelect.onchange = function (e) {\r\n    selectedProduct.selectedColor = e.target.value\r\n    let attrStock = this.options[this.selectedIndex].getAttribute('data-stock')\r\n    selectedProduct.colorImage = this.options[this.selectedIndex].getAttribute('data-image')\r\n\r\n    selectedProduct = actionOnStockStatus(\r\n      attrStock,\r\n      selectedProduct,\r\n      allowOutOfStock\r\n    )\r\n    selectedProduct.stock = attrStock\r\n\r\n    // alert(e.target.options[e.target.selectedIndex].dataset.stock);\r\n    if (e.target.value && e.target.value != 'Select a Color') {\r\n      document.getElementById(\r\n        'selected-color'\r\n      ).innerHTML = `<strong> ${e.target.value}</strong>`\r\n    } else {\r\n      document.getElementById('selected-color').innerHTML = ''\r\n    }\r\n\r\n    // GET ALT IMAGES\r\n    if (altImagesData && altImagesData.length > 0) {\r\n      displayAltimages(e.target.value, altImagesData)\r\n    }\r\n\r\n    if (selectedProduct.selectedColor) {\r\n      document.getElementById('colorAlert').classList.add('d-none')\r\n    }\r\n  }\r\n\r\n  let myOption = document.createElement('option')\r\n\r\n  myOption.text = 'Select a Color'\r\n  myOption.value = 'Select a Color'\r\n  colorSelect.appendChild(myOption)\r\n  let customIndex = -1\r\n  let altImagesData = []\r\n  colorsData.color.map((colorValue) => {\r\n    customIndex++\r\n    altImagesData.push({\r\n      color: colorValue,\r\n      altImages: colorsData.altImages[customIndex],\r\n    })\r\n\r\n    let myOption = document.createElement('option')\r\n    myOption.text = colorValue\r\n    myOption.value = colorValue\r\n    myOption.setAttribute('data-stock', colorsData.colorStock[customIndex])\r\n    myOption.setAttribute('data-image', colorsData.colorSmallImage[customIndex])\r\n    colorSelect.appendChild(myOption)\r\n  })\r\n\r\n  return selectedProduct\r\n}\r\n\r\nconst displayColorAsColor = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById('colorButtons')\r\n  colorButtons.innerHTML = ''\r\n  let colorNameIndex = -1\r\n  let customIndex = -1\r\n  let altImagesData = []\r\n\r\n  colorsData.colorCode.map((colorValue) => {\r\n    customIndex++\r\n    colorNameIndex++\r\n    let colorName = colorsData.color[colorNameIndex]\r\n\r\n    selectedProduct.colorImage = prodImagesDir + colorsData.colorSmallImage[customIndex]\r\n\r\n    altImagesData.push({\r\n      color: colorName,\r\n      altImages: colorsData.altImages[customIndex],\r\n    })\r\n\r\n    let button = document.createElement('button')\r\n    button.setAttribute('type', 'button')\r\n    if (!colorValue) {\r\n      button.setAttribute('value', colorName)\r\n    } else {\r\n      // button.style.backgroundColor = colorValue + ' !important'\r\n      button.setAttribute(\r\n        'style',\r\n        `background-Color:${colorValue} !important;color:${colorValue} !important;`\r\n      )\r\n      button.setAttribute('value', colorName)\r\n    }\r\n\r\n    button.setAttribute(\r\n      'class',\r\n      'border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20'\r\n    )\r\n    button.setAttribute('data-stock', colorsData.colorStock[customIndex])\r\n    button.setAttribute('data-image', colorsData.colorSmallImage[customIndex])\r\n\r\n    if (colorsData.colorStock[customIndex] <= 0) {\r\n      button.classList.add('disabled')\r\n      button.innerHTML = '<span></span>' + colorValue\r\n    } else {\r\n      button.innerHTML = colorValue\r\n    }\r\n\r\n    button.onclick = function (e) {\r\n      if (e.target.classList.contains('selected')) {\r\n        document.getElementById('selected-color').innerHTML = ''\r\n        selectedProduct.selectedColor = ''\r\n        e.target.classList.remove('selected')\r\n      } else {\r\n        try {\r\n          let colorBtnParent = document.getElementById('colorButtons')\r\n          let allColorButtons = colorBtnParent.getElementsByTagName('button')\r\n          for (var i = 0; i < allColorButtons.length; i++) {\r\n            allColorButtons[i].classList.remove('selected')\r\n          }\r\n        } catch (err) {}\r\n\r\n        let attrStock = e.target.getAttribute('data-stock')\r\n        selectedProduct.colorImage = e.target.getAttribute('data-image')\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        )\r\n        selectedProduct.stock = attrStock\r\n\r\n        e.target.classList.add('selected')\r\n        selectedProduct.selectedColor = e.target.value\r\n        document.getElementById('selected-color').innerHTML = e.target.value\r\n      }\r\n\r\n      // GET ALT IMAGES\r\n      if (altImagesData && altImagesData.length > 0) {\r\n        displayAltimages(colorName, altImagesData)\r\n      }\r\n\r\n      if (selectedProduct.selectedColor) {\r\n        document.getElementById('colorAlert').classList.add('d-none')\r\n      }\r\n    }\r\n    colorButtons.appendChild(button)\r\n  })\r\n\r\n  return selectedProduct\r\n}\r\n\r\nconst displayColorAsButtons = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById('colorButtons')\r\n  colorButtons.innerHTML = ''\r\n  let customIndex = -1\r\n  let altImagesData = []\r\n  colorsData.color.map((colorValue) => {\r\n    customIndex++\r\n\r\n    altImagesData.push({\r\n      color: colorValue,\r\n      altImages: colorsData.altImages[customIndex],\r\n    })\r\n\r\n    let button = document.createElement('button')\r\n    button.setAttribute('type', 'button')\r\n    button.setAttribute('value', colorValue)\r\n    button.setAttribute(\r\n      'class',\r\n      'border-secondary p-2 bg-transparent mt-2 rounded text-secondary text-capitalize text-center w-20'\r\n    )\r\n    button.setAttribute('data-stock', colorsData.colorStock[customIndex])\r\n    button.setAttribute('data-image', colorsData.colorSmallImage[customIndex])\r\n\r\n    if (colorsData.colorStock[customIndex] <= 0) {\r\n      button.classList.add('disabled')\r\n      button.innerHTML = '<span></span>' + colorValue\r\n    } else {\r\n      button.innerHTML = colorValue\r\n    }\r\n\r\n    button.onclick = function (e) {\r\n      if (e.target.classList.contains('selected')) {\r\n        document.getElementById('selected-color').innerHTML = ''\r\n        selectedProduct.selectedColor = ''\r\n        e.target.classList.remove('selected')\r\n      } else {\r\n        try {\r\n          let colorBtnParent = document.getElementById('colorButtons')\r\n          let allColorButtons = colorBtnParent.getElementsByTagName('button')\r\n          for (var i = 0; i < allColorButtons.length; i++) {\r\n            allColorButtons[i].classList.remove('selected')\r\n          }\r\n        } catch (err) {}\r\n\r\n        let attrStock = e.target.getAttribute('data-stock')\r\n        selectedProduct.colorImage = e.target.getAttribute('data-image')\r\n\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        )\r\n        selectedProduct.stock = attrStock\r\n\r\n        e.target.classList.add('selected')\r\n        selectedProduct.selectedColor = e.target.value\r\n        document.getElementById('selected-color').innerHTML = e.target.value\r\n      }\r\n\r\n      // GET ALT IMAGES\r\n      if (altImagesData && altImagesData.length > 0) {\r\n        displayAltimages(colorValue, altImagesData)\r\n      }\r\n\r\n      if (selectedProduct.selectedColor) {\r\n        document.getElementById('colorAlert').classList.add('d-none')\r\n      }\r\n    }\r\n    colorButtons.appendChild(button)\r\n  })\r\n\r\n  return selectedProduct\r\n}\r\n\r\nconst displayColorAsImages = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock\r\n) => {\r\n  let colorButtons = document.getElementById('colorImages')\r\n  colorButtons.innerHTML = ''\r\n  let colorImages = document.getElementById('colorImages')\r\n  colorImages.innerHTML = ''\r\n  let customIndex = -1\r\n  let altImages = []\r\n  let altImagesData = []\r\n  colorsData.colorSmallImage.map((colorSmallImage) => {\r\n    customIndex++\r\n\r\n    let colorName = colorsData.color[customIndex]\r\n    altImagesData.push({\r\n      color: colorName,\r\n      altImages: colorsData.altImages[customIndex],\r\n    })\r\n    if (!colorSmallImage) {\r\n      //DISPLAY SIZE AS BUTTON IF COLOR IMAGE NOT AVAIABLE\r\n      selectedProduct = displaySizeImageAsButtons(\r\n        e,\r\n        selectedProduct,\r\n        colorsData,\r\n        allowOutOfStock,\r\n        customIndex,\r\n        colorName,\r\n        colorButtons,\r\n        altImagesData\r\n      )\r\n    } else {\r\n      let img = document.createElement('IMG')\r\n      img.src = prodImagesDir + colorSmallImage\r\n      \r\n      img.setAttribute('data-stock', colorsData.colorStock[customIndex])\r\n      img.setAttribute('data-image', colorsData.colorSmallImage[customIndex])\r\n\r\n      img.setAttribute('width', 50)\r\n      img.setAttribute('height', 50)\r\n      img.classList.add('ml-2')\r\n      img.setAttribute('class', 'border-info p-1  bg-transparent mt-2 rounded ')\r\n      img.onclick = function (e) {\r\n        if (e.target.classList.contains('border-red')) {\r\n          document.getElementById('selected-color').innerHTML = ''\r\n          selectedProduct.selectedColor = ''\r\n          e.target.classList.remove('border-red')\r\n\r\n          document.getElementById('stock-status').innerHTML =\r\n            'Select An Attribute'\r\n\r\n          document.getElementById('AddToCart').innerHTML = 'add to cart'\r\n          document.getElementById('AddToCart').disabled = false\r\n\r\n          document.getElementById('AddToCart').setAttribute(\"data-bs-toggle\", \"modal\");\r\n          document.getElementById('AddToCart').setAttribute(\"data-bs-target\", \"#exampleModal\");\r\n\r\n          let altImagesContainer = document.getElementById('alt-images')\r\n          altImagesContainer.innerHTML = ''\r\n        } else {\r\n          try {\r\n            let colorBtnParent = document.getElementById('colorImages')\r\n            let allColorButtons = colorBtnParent.getElementsByTagName('button')\r\n            for (var i = 0; i < allColorButtons.length; i++) {\r\n              allColorButtons[i].classList.remove('selected')\r\n            }\r\n\r\n            let colorImagesParent = document.getElementById('colorImages')\r\n            let allColorImages = colorImagesParent.getElementsByTagName('IMG')\r\n            for (var i = 0; i < allColorImages.length; i++) {\r\n              allColorImages[i].classList.remove('border-red')\r\n            }\r\n          } catch (err) {}\r\n          \r\n          let attrStock = e.target.getAttribute('data-stock')\r\n          selectedProduct.colorImage = e.target.getAttribute('data-image')\r\n\r\n          selectedProduct = actionOnStockStatus(\r\n            attrStock,\r\n            selectedProduct,\r\n            allowOutOfStock\r\n          )\r\n          selectedProduct.stock = attrStock\r\n\r\n          e.target.classList.add('border-red')\r\n          selectedProduct.selectedColor = colorName\r\n          document.getElementById('selected-color').innerHTML = colorName\r\n\r\n          // GET ALT IMAGES\r\n          if (altImagesData && altImagesData.length > 0) {\r\n            displayAltimages(colorName, altImagesData)\r\n          }\r\n          if (selectedProduct.selectedColor) {\r\n            document.getElementById('colorAlert').classList.add('d-none')\r\n          }\r\n        }\r\n      }\r\n      colorImages.appendChild(img)\r\n    }\r\n  })\r\n\r\n  return selectedProduct\r\n}\r\n\r\nconst displayAltimages = (colorName, allAltImages) => {\r\n  let selectedAltImages = []\r\n  selectedAltImages = allAltImages.find(\r\n    (altImage) => altImage.color == colorName\r\n  ).altImages\r\n\r\n  let altImagesContainer = document.getElementById('alt-images')\r\n  altImagesContainer.innerHTML = ''\r\n\r\n  selectedAltImages.map((altImg) => {\r\n    let imgUrl = prodImagesDir + altImg\r\n    let altAnchor = document.createElement('a')\r\n\r\n    altAnchor.setAttribute('href', imgUrl)\r\n    altAnchor.setAttribute('data-image', imgUrl)\r\n    altAnchor.setAttribute('data-zoom-id', 'zoomer')\r\n    altAnchor.setAttribute('class', 'mz-thumb')\r\n\r\n    let resizedImage = CreateThumnailImage(altImg, imgUrl)\r\n    altAnchor.appendChild(resizedImage)\r\n    altImagesContainer.appendChild(altAnchor)\r\n  })\r\n  MagicZoom.refresh()\r\n}\r\n\r\nvar CreateThumnailImage = function (imageName, currentImage) {\r\n  var myCan = document.createElement('canvas')\r\n  let img = new Image()\r\n  img.setAttribute('crossorigin', 'anonymous') // works for me\r\n\r\n  img.src = currentImage\r\n  var nImg = document.createElement('img')\r\n  img.onload = function () {\r\n    myCan.id = imageName\r\n    var tsize = 64\r\n    myCan.width = 80\r\n    myCan.height = 95\r\n\r\n    var cntxt = myCan.getContext('2d')\r\n    cntxt.drawImage(img, 0, 0, myCan.width, myCan.height)\r\n    setTimeout(abc(myCan), 1000)\r\n\r\n    function abc(myCan) {\r\n      var dataURL = myCan.toDataURL()\r\n\r\n      nImg.src = dataURL\r\n      nImg.setAttribute('name', imageName)\r\n      nImg.setAttribute('data-url', currentImage)\r\n      nImg.setAttribute('class', 'img-fluid mr-1')\r\n\r\n      nImg.onclick = () => {\r\n        let altContainer = document.getElementById('alt-images')\r\n        let altChildren = altContainer.getElementsByTagName('img')\r\n        try {\r\n          for (var i = 0; i < altChildren.length; i++) {\r\n            altChildren[i].classList.remove('mz-border')\r\n          }\r\n        } catch (err) {}\r\n\r\n        let mzLens = document.getElementsByClassName('mz-lens')[0]\r\n        mzLens.getElementsByTagName('img')[0].src = currentImage\r\n\r\n        nImg.setAttribute('class', 'img-fluid mr-1 mz-border')\r\n      }\r\n    }\r\n  }\r\n  return nImg\r\n}\r\n\r\nconst displaySizeImageAsButtons = (\r\n  e,\r\n  selectedProduct,\r\n  colorsData,\r\n  allowOutOfStock,\r\n  customIndex,\r\n  colorName,\r\n  colorButtons,\r\n  altImagesData\r\n) => {\r\n  let element\r\n  let element_label = 'button'\r\n  let element_labe2 = 'img'\r\n\r\n  let wrapper = 'colorImages'\r\n\r\n  element = document.createElement(element_label)\r\n  element.setAttribute('type', element_label)\r\n  element.setAttribute('value', colorName)\r\n  element.setAttribute('class', element_label)\r\n  element.setAttribute('data-stock', colorsData.colorStock[customIndex])\r\n  element.setAttribute('data-image', colorsData.colorSmallImage[customIndex])\r\n\r\n  element.style.height = '59px'\r\n  element.style.width = '59px'\r\n\r\n  // element.style.border = 'solid 1px rgb(185 185 185)'\r\n  element.style.outline = 'none'\r\n  element.innerHTML = colorName\r\n  element.classList.add('ml-2')\r\n\r\n  element.setAttribute('class', 'border-info p-1  bg-transparent mt-2 rounded ')\r\n\r\n  //  button.classList.add('h-25')\r\n  element.onclick = function (e) {\r\n    if (e.target.classList.contains('selected')) {\r\n      document.getElementById('selected-color').innerHTML = ''\r\n      selectedProduct.selectedColor = ''\r\n      e.target.classList.remove('selected')\r\n    } else {\r\n      try {\r\n        let colorBtnParent = document.getElementById(wrapper)\r\n        let allColorButtons = colorBtnParent.getElementsByTagName(element_label)\r\n        for (var i = 0; i < allColorButtons.length; i++) {\r\n          allColorButtons[i].classList.remove('selected')\r\n        }\r\n\r\n        let attrStock = e.target.getAttribute('data-stock')\r\n        selectedProduct.colorImage = e.target.getAttribute('data-image');\r\n\r\n        selectedProduct = actionOnStockStatus(\r\n          attrStock,\r\n          selectedProduct,\r\n          allowOutOfStock\r\n        )\r\n        selectedProduct.stock = attrStock\r\n\r\n        let colorImagesParent = document.getElementById(wrapper)\r\n        let allColorImages = colorImagesParent.getElementsByTagName(\r\n          element_labe2\r\n        )\r\n        for (var i = 0; i < allColorImages.length; i++) {\r\n          allColorImages[i].classList.remove('border-red')\r\n        }\r\n      } catch (err) {}\r\n      e.target.classList.add('selected')\r\n      selectedProduct.selectedColor = e.target.value\r\n      document.getElementById('selected-color').innerHTML = e.target.value\r\n    }\r\n\r\n    // GET ALT IMAGES\r\n    if (altImagesData && altImagesData.length > 0)\r\n      displayAltimages(colorName, altImagesData)\r\n\r\n    if (selectedProduct.selectedColor) {\r\n      document.getElementById('colorAlert').classList.add('d-none')\r\n    }\r\n  }\r\n  colorButtons.appendChild(element)\r\n  return selectedProduct\r\n}\r\n"]},"metadata":{},"sourceType":"module"}